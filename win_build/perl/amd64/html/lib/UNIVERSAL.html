<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../displayToc.js"></script>
<script language="JavaScript" src="../tocParas.js"></script>
<script language="JavaScript" src="../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../scineplex.css">
<title>UNIVERSAL - base class for ALL classes</title>
<link rel="stylesheet" href="../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>


<!-- INDEX BEGIN -->
<div name="index">
<script>writelinks('__top__',1);</script>
<h1><a>UNIVERSAL - base class for ALL classes</a></h1>
<p><a name="__index__"></a></p>


<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#exports">EXPORTS</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>UNIVERSAL - base class for ALL classes (blessed references)</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
    <span class="variable">$is_io</span>    <span class="operator">=</span> <span class="variable">$fd</span><span class="operator">-&gt;</span><span class="variable">isa</span><span class="operator">(</span><span class="string">"IO::Handle"</span><span class="operator">);</span>
    <span class="variable">$is_io</span>    <span class="operator">=</span> <span class="variable">Class</span><span class="operator">-&gt;</span><span class="variable">isa</span><span class="operator">(</span><span class="string">"IO::Handle"</span><span class="operator">);</span>
</pre>
<pre>
    <span class="variable">$does_log</span> <span class="operator">=</span> <span class="variable">$obj</span><span class="operator">-&gt;</span><span class="variable">DOES</span><span class="operator">(</span><span class="string">"Logger"</span><span class="operator">);</span>
    <span class="variable">$does_log</span> <span class="operator">=</span> <span class="variable">Class</span><span class="operator">-&gt;</span><span class="variable">DOES</span><span class="operator">(</span><span class="string">"Logger"</span><span class="operator">);</span>
</pre>
<pre>
    <span class="variable">$sub</span>      <span class="operator">=</span> <span class="variable">$obj</span><span class="operator">-&gt;</span><span class="variable">can</span><span class="operator">(</span><span class="string">"print"</span><span class="operator">);</span>
    <span class="variable">$sub</span>      <span class="operator">=</span> <span class="variable">Class</span><span class="operator">-&gt;</span><span class="variable">can</span><span class="operator">(</span><span class="string">"print"</span><span class="operator">);</span>
</pre>
<pre>
    <span class="variable">$sub</span>      <span class="operator">=</span> <span class="keyword">eval</span> <span class="operator">{</span> <span class="variable">$ref</span><span class="operator">-&gt;</span><span class="variable">can</span><span class="operator">(</span><span class="string">"fandango"</span><span class="operator">)</span> <span class="operator">};</span>
    <span class="variable">$ver</span>      <span class="operator">=</span> <span class="variable">$obj</span><span class="operator">-&gt;</span><span class="variable">VERSION</span><span class="operator">;</span>
</pre>
<pre>
    <span class="comment"># but never do this!</span>
    <span class="variable">$is_io</span>    <span class="operator">=</span> <span class="variable">UNIVERSAL::isa</span><span class="operator">(</span><span class="variable">$fd</span><span class="operator">,</span> <span class="string">"IO::Handle"</span><span class="operator">);</span>
    <span class="variable">$sub</span>      <span class="operator">=</span> <span class="variable">UNIVERSAL::can</span><span class="operator">(</span><span class="variable">$obj</span><span class="operator">,</span> <span class="string">"print"</span><span class="operator">);</span>
</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p><code>UNIVERSAL</code> is the base class from which all blessed references inherit.
See <a href="../lib/pods/perlobj.html">the perlobj manpage</a>.</p>
<p><code>UNIVERSAL</code> provides the following methods:</p>
<dl>
<dt><strong><a name="isa" class="item"><code>$obj-&gt;isa( TYPE )</code></a></strong>

<dt><strong><code>CLASS-&gt;isa( TYPE )</code></strong>

<dt><strong><code>eval { VAL-&gt;isa( TYPE ) }</code></strong>

<dd>
<p>Where</p>
</dd>
<dl>
<dt><strong><a name="type3" class="item"><a href="#type"><code>TYPE</code></a></a></strong>

<dd>
<p>is a package name</p>
</dd>
</li>
<dt><strong><a name="_obj" class="item"><code>$obj</code></a></strong>

<dd>
<p>is a blessed reference or a string containing a package name</p>
</dd>
</li>
<dt><strong><a name="class" class="item"><code>CLASS</code></a></strong>

<dd>
<p>is a package name</p>
</dd>
</li>
<dt><strong><a name="val" class="item"><code>VAL</code></a></strong>

<dd>
<p>is any of the above or an unblessed reference</p>
</dd>
</li>
</dl>
<p>When used as an instance or class method (<a href="#isa"><code>$obj-&gt;isa( TYPE )</code></a>),
<a href="#isa"><code>isa</code></a> returns <em>true</em> if $obj is blessed into package <a href="#type"><code>TYPE</code></a> or
inherits from package <a href="#type"><code>TYPE</code></a>.</p>
<p>When used as a class method (<a href="#isa"><code>CLASS-&gt;isa( TYPE )</code></a>, sometimes
referred to as a static method), <a href="#isa"><code>isa</code></a> returns <em>true</em> if <a href="#class"><code>CLASS</code></a>
inherits from (or is itself) the name of the package <a href="#type"><code>TYPE</code></a> or
inherits from package <a href="#type"><code>TYPE</code></a>.</p>
<p>If you're not sure what you have (the <a href="#val"><code>VAL</code></a> case), wrap the method call in an
<a href="../lib/pods/perlfunc.html#eval"><code>eval</code></a> block to catch the exception if <a href="#val"><code>VAL</code></a> is undefined.</p>
<p>If you want to be sure that you're calling <a href="#isa"><code>isa</code></a> as a method, not a class,
check the invocant with <code>blessed</code> from <a href="../lib/Scalar/Util.html">the Scalar::Util manpage</a> first:</p>
<pre>
  <span class="keyword">use</span> <span class="variable">Scalar::Util</span> <span class="string">'blessed'</span><span class="operator">;</span>
</pre>
<pre>
  <span class="keyword">if</span> <span class="operator">(</span> <span class="variable">blessed</span><span class="operator">(</span> <span class="variable">$obj</span> <span class="operator">)</span> <span class="operator">&amp;&amp;</span> <span class="variable">$obj</span><span class="operator">-&gt;</span><span class="variable">isa</span><span class="operator">(</span><span class="string">"Some::Class"</span><span class="operator">)</span> <span class="operator">{</span>
      <span class="operator">...</span>
  <span class="operator">}</span>
</pre>
<dt><strong><a name="does" class="item"><code>$obj-&gt;DOES( ROLE )</code></a></strong>

<dt><strong><code>CLASS-&gt;DOES( ROLE )</code></strong>

<dd>
<p><a href="#does"><code>DOES</code></a> checks if the object or class performs the role <code>ROLE</code>.  A role is a
named group of specific behavior (often methods of particular names and
signatures), similar to a class, but not necessarily a complete class by
itself.  For example, logging or serialization may be roles.</p>
</dd>
<dd>
<p><a href="#does"><code>DOES</code></a> and <a href="#isa"><code>isa</code></a> are similar, in that if either is true, you know that the
object or class on which you call the method can perform specific behavior.
However, <a href="#does"><code>DOES</code></a> is different from <a href="#isa"><code>isa</code></a> in that it does not care <em>how</em> the
invocant performs the operations, merely that it does.  (<a href="#isa"><code>isa</code></a> of course
mandates an inheritance relationship.  Other relationships include aggregation,
delegation, and mocking.)</p>
</dd>
<dd>
<p>By default, classes in Perl only perform the <code>UNIVERSAL</code> role.  To mark that
your own classes perform other roles, override <a href="#does"><code>DOES</code></a> appropriately.</p>
</dd>
<dd>
<p>There is a relationship between roles and classes, as each class implies the
existence of a role of the same name.  There is also a relationship between
inheritance and roles, in that a subclass that inherits from an ancestor class
implicitly performs any roles its parent performs.  Thus you can use <a href="#does"><code>DOES</code></a> in
place of <a href="#isa"><code>isa</code></a> safely, as it will return true in all places where <a href="#isa"><code>isa</code></a> will
return true (provided that any overridden <a href="#does"><code>DOES</code></a> <em>and</em> <a href="#isa"><code>isa</code></a> methods behave
appropriately).</p>
</dd>
</li>
<dt><strong><a name="can" class="item"><code>$obj-&gt;can( METHOD )</code></a></strong>

<dt><strong><code>CLASS-&gt;can( METHOD )</code></strong>

<dt><strong><code>eval { VAL-&gt;can( METHOD ) }</code></strong>

<dd>
<p><a href="#can"><code>can</code></a> checks if the object or class has a method called <code>METHOD</code>. If it does,
then it returns a reference to the sub.  If it does not, then it returns
<em>undef</em>.  This includes methods inherited or imported by <a href="#_obj"><code>$obj</code></a>, <a href="#class"><code>CLASS</code></a>, or
<a href="#val"><code>VAL</code></a>.</p>
</dd>
<dd>
<p><a href="#can"><code>can</code></a> cannot know whether an object will be able to provide a method through
AUTOLOAD (unless the object's class has overriden <a href="#can"><code>can</code></a> appropriately), so a
return value of <em>undef</em> does not necessarily mean the object will not be able
to handle the method call. To get around this some module authors use a forward
declaration (see <a href="../lib/pods/perlsub.html">the perlsub manpage</a>) for methods they will handle via AUTOLOAD. For
such 'dummy' subs, <a href="#can"><code>can</code></a> will still return a code reference, which, when
called, will fall through to the AUTOLOAD. If no suitable AUTOLOAD is provided,
calling the coderef will cause an error.</p>
</dd>
<dd>
<p>You may call <a href="#can"><code>can</code></a> as a class (static) method or an object method.</p>
</dd>
<dd>
<p>Again, the same rule about having a valid invocant applies -- use an <a href="../lib/pods/perlfunc.html#eval"><code>eval</code></a>
block or <code>blessed</code> if you need to be extra paranoid.</p>
</dd>
</li>
<dt><strong><a name="version" class="item"><code>VERSION ( [ REQUIRE ] )</code></a></strong>

<dd>
<p><a href="#version"><code>VERSION</code></a> will return the value of the variable <code>$VERSION</code> in the
package the object is blessed into. If <code>REQUIRE</code> is given then
it will do a comparison and die if the package version is not
greater than or equal to <code>REQUIRE</code>.</p>
</dd>
<dd>
<p><a href="#version"><code>VERSION</code></a> can be called as either a class (static) method or an object
method.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="exports">EXPORTS</a></h1>
<p>None by default.</p>
<p>You may request the import of three functions (<a href="#isa"><code>isa</code></a>, <a href="#can"><code>can</code></a>, and <a href="#version"><code>VERSION</code></a>),
however it is usually harmful to do so.  Please don't do this in new code.</p>
<p>For example, previous versions of this documentation suggested using <a href="#isa"><code>isa</code></a> as
a function to determine the type of a reference:</p>
<pre>
  <span class="keyword">use</span> <span class="variable">UNIVERSAL</span> <span class="string">'isa'</span><span class="operator">;</span>
</pre>
<pre>
  <span class="variable">$yes</span> <span class="operator">=</span> <span class="variable">isa</span> <span class="variable">$h</span><span class="operator">,</span> <span class="string">"HASH"</span><span class="operator">;</span>
  <span class="variable">$yes</span> <span class="operator">=</span> <span class="variable">isa</span> <span class="string">"Foo"</span><span class="operator">,</span> <span class="string">"Bar"</span><span class="operator">;</span>
</pre>
<p>The problem is that this code will <em>never</em> call an overridden <a href="#isa"><code>isa</code></a> method in
any class.  Instead, use <code>reftype</code> from <a href="../lib/Scalar/Util.html">the Scalar::Util manpage</a> for the first case:</p>
<pre>
  <span class="keyword">use</span> <span class="variable">Scalar::Util</span> <span class="string">'reftype'</span><span class="operator">;</span>
</pre>
<pre>
  <span class="variable">$yes</span> <span class="operator">=</span> <span class="variable">reftype</span><span class="operator">(</span> <span class="variable">$h</span> <span class="operator">)</span> <span class="keyword">eq</span> <span class="string">"HASH"</span><span class="operator">;</span>
</pre>
<p>and the method form of <a href="#isa"><code>isa</code></a> for the second:</p>
<pre>
  <span class="variable">$yes</span> <span class="operator">=</span> <span class="variable">Foo</span><span class="operator">-&gt;</span><span class="variable">isa</span><span class="operator">(</span><span class="string">"Bar"</span><span class="operator">);</span>
</pre>

</body>

</html>

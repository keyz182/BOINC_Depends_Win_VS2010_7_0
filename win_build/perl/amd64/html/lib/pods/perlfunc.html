<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../displayToc.js"></script>
<script language="JavaScript" src="../../tocParas.js"></script>
<script language="JavaScript" src="../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../scineplex.css">
<title>perlfunc - Perl builtin functions</title>
<link rel="stylesheet" href="../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>


<!-- INDEX BEGIN -->
<div name="index">
<script>writelinks('__top__',2);</script>
<h1><a>perlfunc - Perl builtin functions</a></h1>
<p><a name="__index__"></a></p>


<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<ul>

		<li><a href="#perl_functions_by_category">Perl Functions by Category</a></li>
		<li><a href="#portability">Portability</a></li>
		<li><a href="#alphabetical_listing_of_perl_functions">Alphabetical Listing of Perl Functions</a></li>
	</ul>

</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>perlfunc - Perl builtin functions</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>The functions in this section can serve as terms in an expression.
They fall into two major categories: list operators and named unary
operators.  These differ in their precedence relationship with a
following comma.  (See the precedence table in <a href="../../lib/pods/perlop.html">the perlop manpage</a>.)  List
operators take more than one argument, while unary operators can never
take more than one argument.  Thus, a comma terminates the argument of
a unary operator, but merely separates the arguments of a list
operator.  A unary operator generally provides a scalar context to its
argument, while a list operator may provide either scalar or list
contexts for its arguments.  If it does both, the scalar arguments will
be first, and the list argument will follow.  (Note that there can ever
be only one such list argument.)  For instance, <a href="#splice"><code>splice()</code></a> has three scalar
arguments followed by a list, whereas <a href="#gethostbyname"><code>gethostbyname()</code></a> has four scalar
arguments.</p>
<p>In the syntax descriptions that follow, list operators that expect a
list (and provide list context for the elements of the list) are shown
with LIST as an argument.  Such a list may consist of any combination
of scalar arguments or list values; the list values will be included
in the list as if each individual element were interpolated at that
point in the list, forming a longer single-dimensional list value.
Commas should separate elements of the LIST.</p>
<p>Any function in the list below may be used either with or without
parentheses around its arguments.  (The syntax descriptions omit the
parentheses.)  If you use the parentheses, the simple (but occasionally
surprising) rule is this: It <em>looks</em> like a function, therefore it <em>is</em> a
function, and precedence doesn't matter.  Otherwise it's a list
operator or unary operator, and precedence does matter.  And whitespace
between the function and left parenthesis doesn't count--so you need to
be careful sometimes:</p>
<pre>
    <span class="keyword">print</span> <span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">+</span><span class="number">4</span><span class="operator">;</span>        <span class="comment"># Prints 7.</span>
    <span class="keyword">print</span><span class="operator">(</span><span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">)</span> <span class="operator">+</span> <span class="number">4</span><span class="operator">;</span>     <span class="comment"># Prints 3.</span>
    <span class="keyword">print</span> <span class="operator">(</span><span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">)+</span><span class="number">4</span><span class="operator">;</span>      <span class="comment"># Also prints 3!</span>
    <span class="keyword">print</span> <span class="operator">+(</span><span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">)+</span><span class="number">4</span><span class="operator">;</span>     <span class="comment"># Prints 7.</span>
    <span class="keyword">print</span> <span class="operator">((</span><span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">)+</span><span class="number">4</span><span class="operator">);</span>    <span class="comment"># Prints 7.</span>
</pre>
<p>If you run Perl with the <strong>-w</strong> switch it can warn you about this.  For
example, the third line above produces:</p>
<pre>
    print (...) interpreted as function at - line 1.
    Useless use of integer addition in void context at - line 1.</pre>
<p>A few functions take no arguments at all, and therefore work as neither
unary nor list operators.  These include such functions as <a href="#time"><code>time</code></a>
and <a href="#endpwent"><code>endpwent</code></a>.  For example, <code>time+86_400</code> always means
<a href="#time"><code>time() + 86_400</code></a>.</p>
<p>For functions that can be used in either a scalar or list context,
nonabortive failure is generally indicated in a scalar context by
returning the undefined value, and in a list context by returning the
null list.</p>
<p>Remember the following important rule: There is <strong>no rule</strong> that relates
the behavior of an expression in list context to its behavior in scalar
context, or vice versa.  It might do two totally different things.
Each operator and function decides which sort of value it would be most
appropriate to return in scalar context.  Some operators return the
length of the list that would have been returned in list context.  Some
operators return the first value in the list.  Some operators return the
last value in the list.  Some operators return a count of successful
operations.  In general, they do what you want, unless you want
consistency.</p>
<p>A named array in scalar context is quite different from what would at
first glance appear to be a list in scalar context.  You can't get a list
like <code>(1,2,3)</code> into being in scalar context, because the compiler knows
the context at compile time.  It would generate the scalar comma operator
there, not the list construction version of the comma.  That means it
was never a list to start with.</p>
<p>In general, functions in Perl that serve as wrappers for system calls
of the same name (like <a href="#chown"><code>chown(2)</code></a>, <a href="#fork"><code>fork(2)</code></a>, <a href="#closedir"><code>closedir(2)</code></a>, etc.) all return
true when they succeed and <a href="#undef"><code>undef</code></a> otherwise, as is usually mentioned
in the descriptions below.  This is different from the C interfaces,
which return <code>-1</code> on failure.  Exceptions to this rule are <a href="#wait"><code>wait</code></a>,
<a href="#waitpid"><code>waitpid</code></a>, and <a href="#syscall"><code>syscall</code></a>.  System calls also set the special <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a>
variable on failure.  Other functions do not, except accidentally.</p>
<p>
</p>
<h2><a name="perl_functions_by_category">Perl Functions by Category</a></h2>
<p>Here are Perl's functions (including things that look like
functions, like some keywords and named operators)
arranged by category.  Some functions appear in more
than one place.</p>
<dl>
<dt><strong><a name="functions_for_scalars_or_strings" class="item">Functions for SCALARs or strings</a></strong>

<dd>
<p><a href="#chomp"><code>chomp</code></a>, <a href="#chop"><code>chop</code></a>, <a href="#chr"><code>chr</code></a>, <a href="#crypt"><code>crypt</code></a>, <a href="#hex"><code>hex</code></a>, <a href="#index"><code>index</code></a>, <a href="#lc"><code>lc</code></a>, <a href="#lcfirst"><code>lcfirst</code></a>,
<a href="#length"><code>length</code></a>, <a href="#oct"><code>oct</code></a>, <a href="#ord"><code>ord</code></a>, <a href="#pack"><code>pack</code></a>, <a href="#q_"><code>q//</code></a>, <a href="#qq_"><code>qq//</code></a>, <a href="#reverse"><code>reverse</code></a>,
<a href="#rindex"><code>rindex</code></a>, <a href="#sprintf"><code>sprintf</code></a>, <a href="#substr"><code>substr</code></a>, <a href="#tr_"><code>tr///</code></a>, <a href="#uc"><code>uc</code></a>, <a href="#ucfirst"><code>ucfirst</code></a>, <a href="#y_"><code>y///</code></a></p>
</dd>
</li>
<dt><strong><a name="regular_expressions_and_pattern_matching" class="item">Regular expressions and pattern matching</a></strong>

<dd>
<p><a href="#m_"><code>m//</code></a>, <a href="#pos"><code>pos</code></a>, <a href="#quotemeta"><code>quotemeta</code></a>, <a href="#s_"><code>s///</code></a>, <a href="#split"><code>split</code></a>, <a href="#study"><code>study</code></a>, <a href="#qr_"><code>qr//</code></a></p>
</dd>
</li>
<dt><strong><a name="numeric_functions" class="item">Numeric functions</a></strong>

<dd>
<p><a href="#abs"><code>abs</code></a>, <a href="#atan2"><code>atan2</code></a>, <a href="#cos"><code>cos</code></a>, <a href="#exp"><code>exp</code></a>, <a href="#hex"><code>hex</code></a>, <a href="#int"><code>int</code></a>, <a href="#log"><code>log</code></a>, <a href="#oct"><code>oct</code></a>, <a href="#rand"><code>rand</code></a>,
<a href="#sin"><code>sin</code></a>, <a href="#sqrt"><code>sqrt</code></a>, <a href="#srand"><code>srand</code></a></p>
</dd>
</li>
<dt><strong><a name="functions_for_real_arrays" class="item">Functions for real @ARRAYs</a></strong>

<dd>
<p><a href="#pop"><code>pop</code></a>, <a href="#push"><code>push</code></a>, <a href="#shift"><code>shift</code></a>, <a href="#splice"><code>splice</code></a>, <a href="#unshift"><code>unshift</code></a></p>
</dd>
</li>
<dt><strong><a name="functions_for_list_data" class="item">Functions for list data</a></strong>

<dd>
<p><a href="#grep"><code>grep</code></a>, <a href="#join"><code>join</code></a>, <a href="#map"><code>map</code></a>, <a href="#qw_"><code>qw//</code></a>, <a href="#reverse"><code>reverse</code></a>, <a href="#sort"><code>sort</code></a>, <a href="#unpack"><code>unpack</code></a></p>
</dd>
</li>
<dt><strong><a name="functions_for_real_hashes" class="item">Functions for real %HASHes</a></strong>

<dd>
<p><a href="#delete"><code>delete</code></a>, <a href="#each"><code>each</code></a>, <a href="#exists"><code>exists</code></a>, <a href="#keys"><code>keys</code></a>, <a href="#values"><code>values</code></a></p>
</dd>
</li>
<dt><strong><a name="input_and_output_functions" class="item">Input and output functions</a></strong>

<dd>
<p><a href="#binmode"><code>binmode</code></a>, <a href="#close"><code>close</code></a>, <a href="#closedir"><code>closedir</code></a>, <a href="#dbmclose"><code>dbmclose</code></a>, <a href="#dbmopen"><code>dbmopen</code></a>, <a href="#die"><code>die</code></a>, <a href="#eof"><code>eof</code></a>,
<a href="#fileno"><code>fileno</code></a>, <a href="#flock"><code>flock</code></a>, <a href="#format"><code>format</code></a>, <a href="#getc"><code>getc</code></a>, <a href="#print"><code>print</code></a>, <a href="#printf"><code>printf</code></a>, <a href="#read"><code>read</code></a>,
<a href="#readdir"><code>readdir</code></a>, <a href="#rewinddir"><code>rewinddir</code></a>, <a href="#say"><code>say</code></a>, <a href="#seek"><code>seek</code></a>, <a href="#seekdir"><code>seekdir</code></a>, <a href="#select"><code>select</code></a>, <a href="#syscall"><code>syscall</code></a>,
<a href="#sysread"><code>sysread</code></a>, <a href="#sysseek"><code>sysseek</code></a>, <a href="#syswrite"><code>syswrite</code></a>, <a href="#tell"><code>tell</code></a>, <a href="#telldir"><code>telldir</code></a>, <a href="#truncate"><code>truncate</code></a>,
<a href="#warn"><code>warn</code></a>, <a href="#write"><code>write</code></a></p>
</dd>
</li>
<dt><strong><a name="functions_for_fixed_length_data_or_records" class="item">Functions for fixed length data or records</a></strong>

<dd>
<p><a href="#pack"><code>pack</code></a>, <a href="#read"><code>read</code></a>, <a href="#syscall"><code>syscall</code></a>, <a href="#sysread"><code>sysread</code></a>, <a href="#syswrite"><code>syswrite</code></a>, <a href="#unpack"><code>unpack</code></a>, <a href="#vec"><code>vec</code></a></p>
</dd>
</li>
<dt><strong><a name="functions_for_filehandles_files_or_directories" class="item">Functions for filehandles, files, or directories</a></strong>

<dd>
<p><a href="#x"><code>-X</code></a>, <a href="#chdir"><code>chdir</code></a>, <a href="#chmod"><code>chmod</code></a>, <a href="#chown"><code>chown</code></a>, <a href="#chroot"><code>chroot</code></a>, <a href="#fcntl"><code>fcntl</code></a>, <a href="#glob"><code>glob</code></a>,
<a href="#ioctl"><code>ioctl</code></a>, <a href="#link"><code>link</code></a>, <a href="#lstat"><code>lstat</code></a>, <a href="#mkdir"><code>mkdir</code></a>, <a href="#open"><code>open</code></a>, <a href="#opendir"><code>opendir</code></a>,
<a href="#readlink"><code>readlink</code></a>, <a href="#rename"><code>rename</code></a>, <a href="#rmdir"><code>rmdir</code></a>, <a href="#stat"><code>stat</code></a>, <a href="#symlink"><code>symlink</code></a>, <a href="#sysopen"><code>sysopen</code></a>,
<a href="#umask"><code>umask</code></a>, <a href="#unlink"><code>unlink</code></a>, <a href="#utime"><code>utime</code></a></p>
</dd>
</li>
<dt><strong><a name="keywords_related_to_the_control_flow_of_your_perl_program" class="item">Keywords related to the control flow of your Perl program</a></strong>

<dd>
<p><a href="#caller"><code>caller</code></a>, <a href="#continue"><code>continue</code></a>, <a href="#die"><code>die</code></a>, <a href="#do"><code>do</code></a>, <a href="#dump"><code>dump</code></a>, <a href="#eval"><code>eval</code></a>, <a href="#exit"><code>exit</code></a>,
<a href="#goto"><code>goto</code></a>, <a href="#last"><code>last</code></a>, <a href="#next"><code>next</code></a>, <a href="#redo"><code>redo</code></a>, <a href="#return"><code>return</code></a>, <a href="#sub"><code>sub</code></a>, <a href="#wantarray"><code>wantarray</code></a></p>
</dd>
</li>
<dt><strong><a name="keywords_related_to_switch" class="item">Keywords related to switch</a></strong>

<dd>
<p><a href="#break"><code>break</code></a>, <a href="#continue"><code>continue</code></a>, <code>given</code>, <code>when</code>, <code>default</code></p>
</dd>
<dd>
<p>(These are only available if you enable the &quot;switch&quot; feature.
See <a href="../../lib/feature.html">the feature manpage</a> and <a href="../../lib/pods/perlsyn.html#switch_statements">Switch statements in the perlsyn manpage</a>.)</p>
</dd>
</li>
<dt><strong><a name="keywords_related_to_scoping" class="item">Keywords related to scoping</a></strong>

<dd>
<p><a href="#caller"><code>caller</code></a>, <a href="#import"><code>import</code></a>, <a href="#local"><code>local</code></a>, <a href="#my"><code>my</code></a>, <a href="#our"><code>our</code></a>, <a href="#state"><code>state</code></a>, <a href="#package"><code>package</code></a>,
<a href="#use"><code>use</code></a></p>
</dd>
<dd>
<p>(<a href="#state"><code>state</code></a> is only available if the &quot;state&quot; feature is enabled. See
<a href="../../lib/feature.html">the feature manpage</a>.)</p>
</dd>
</li>
<dt><strong><a name="miscellaneous_functions" class="item">Miscellaneous functions</a></strong>

<dd>
<p><a href="#defined"><code>defined</code></a>, <a href="#dump"><code>dump</code></a>, <a href="#eval"><code>eval</code></a>, <a href="#formline"><code>formline</code></a>, <a href="#local"><code>local</code></a>, <a href="#my"><code>my</code></a>, <a href="#our"><code>our</code></a>,
<a href="#reset"><code>reset</code></a>, <a href="#scalar"><code>scalar</code></a>, <a href="#state"><code>state</code></a>, <a href="#undef"><code>undef</code></a>, <a href="#wantarray"><code>wantarray</code></a></p>
</dd>
</li>
<dt><strong><a name="functions_for_processes_and_process_groups" class="item">Functions for processes and process groups</a></strong>

<dd>
<p><a href="#alarm"><code>alarm</code></a>, <a href="#exec"><code>exec</code></a>, <a href="#fork"><code>fork</code></a>, <a href="#getpgrp"><code>getpgrp</code></a>, <a href="#getppid"><code>getppid</code></a>, <a href="#getpriority"><code>getpriority</code></a>, <a href="#kill"><code>kill</code></a>,
<a href="#pipe"><code>pipe</code></a>, <a href="#qx_"><code>qx//</code></a>, <a href="#setpgrp"><code>setpgrp</code></a>, <a href="#setpriority"><code>setpriority</code></a>, <a href="#sleep"><code>sleep</code></a>, <a href="#system"><code>system</code></a>,
<a href="#times"><code>times</code></a>, <a href="#wait"><code>wait</code></a>, <a href="#waitpid"><code>waitpid</code></a></p>
</dd>
</li>
<dt><strong><a name="keywords_related_to_perl_modules" class="item">Keywords related to perl modules</a></strong>

<dd>
<p><a href="#do"><code>do</code></a>, <a href="#import"><code>import</code></a>, <a href="#no"><code>no</code></a>, <a href="#package"><code>package</code></a>, <a href="#require"><code>require</code></a>, <a href="#use"><code>use</code></a></p>
</dd>
</li>
<dt><strong><a name="keywords_related_to_classes_and_object_orientation" class="item">Keywords related to classes and object-orientation</a></strong>

<dd>
<p><a href="#bless"><code>bless</code></a>, <a href="#dbmclose"><code>dbmclose</code></a>, <a href="#dbmopen"><code>dbmopen</code></a>, <a href="#package"><code>package</code></a>, <a href="#ref"><code>ref</code></a>, <a href="#tie"><code>tie</code></a>, <a href="#tied"><code>tied</code></a>,
<a href="#untie"><code>untie</code></a>, <a href="#use"><code>use</code></a></p>
</dd>
</li>
<dt><strong><a name="low_level_socket_functions" class="item">Low-level socket functions</a></strong>

<dd>
<p><a href="#accept"><code>accept</code></a>, <a href="#bind"><code>bind</code></a>, <a href="#connect"><code>connect</code></a>, <a href="#getpeername"><code>getpeername</code></a>, <a href="#getsockname"><code>getsockname</code></a>,
<a href="#getsockopt"><code>getsockopt</code></a>, <a href="#listen"><code>listen</code></a>, <a href="#recv"><code>recv</code></a>, <a href="#send"><code>send</code></a>, <a href="#setsockopt"><code>setsockopt</code></a>, <a href="#shutdown"><code>shutdown</code></a>,
<a href="#socket"><code>socket</code></a>, <a href="#socketpair"><code>socketpair</code></a></p>
</dd>
</li>
<dt><strong><a name="system_v_interprocess_communication_functions" class="item">System V interprocess communication functions</a></strong>

<dd>
<p><a href="#msgctl"><code>msgctl</code></a>, <a href="#msgget"><code>msgget</code></a>, <a href="#msgrcv"><code>msgrcv</code></a>, <a href="#msgsnd"><code>msgsnd</code></a>, <a href="#semctl"><code>semctl</code></a>, <a href="#semget"><code>semget</code></a>, <a href="#semop"><code>semop</code></a>,
<a href="#shmctl"><code>shmctl</code></a>, <a href="#shmget"><code>shmget</code></a>, <a href="#shmread"><code>shmread</code></a>, <a href="#shmwrite"><code>shmwrite</code></a></p>
</dd>
</li>
<dt><strong><a name="fetching_user_and_group_info" class="item">Fetching user and group info</a></strong>

<dd>
<p><a href="#endgrent"><code>endgrent</code></a>, <a href="#endhostent"><code>endhostent</code></a>, <a href="#endnetent"><code>endnetent</code></a>, <a href="#endpwent"><code>endpwent</code></a>, <a href="#getgrent"><code>getgrent</code></a>,
<a href="#getgrgid"><code>getgrgid</code></a>, <a href="#getgrnam"><code>getgrnam</code></a>, <a href="#getlogin"><code>getlogin</code></a>, <a href="#getpwent"><code>getpwent</code></a>, <a href="#getpwnam"><code>getpwnam</code></a>,
<a href="#getpwuid"><code>getpwuid</code></a>, <a href="#setgrent"><code>setgrent</code></a>, <a href="#setpwent"><code>setpwent</code></a></p>
</dd>
</li>
<dt><strong><a name="fetching_network_info" class="item">Fetching network info</a></strong>

<dd>
<p><a href="#endprotoent"><code>endprotoent</code></a>, <a href="#endservent"><code>endservent</code></a>, <a href="#gethostbyaddr"><code>gethostbyaddr</code></a>, <a href="#gethostbyname"><code>gethostbyname</code></a>,
<a href="#gethostent"><code>gethostent</code></a>, <a href="#getnetbyaddr"><code>getnetbyaddr</code></a>, <a href="#getnetbyname"><code>getnetbyname</code></a>, <a href="#getnetent"><code>getnetent</code></a>,
<a href="#getprotobyname"><code>getprotobyname</code></a>, <a href="#getprotobynumber"><code>getprotobynumber</code></a>, <a href="#getprotoent"><code>getprotoent</code></a>,
<a href="#getservbyname"><code>getservbyname</code></a>, <a href="#getservbyport"><code>getservbyport</code></a>, <a href="#getservent"><code>getservent</code></a>, <a href="#sethostent"><code>sethostent</code></a>,
<a href="#setnetent"><code>setnetent</code></a>, <a href="#setprotoent"><code>setprotoent</code></a>, <a href="#setservent"><code>setservent</code></a></p>
</dd>
</li>
<dt><strong><a name="time_related_functions" class="item">Time-related functions</a></strong>

<dd>
<p><a href="#gmtime"><code>gmtime</code></a>, <a href="#localtime"><code>localtime</code></a>, <a href="#time"><code>time</code></a>, <a href="#times"><code>times</code></a></p>
</dd>
</li>
<dt><strong><a name="functions_new_in_perl5" class="item">Functions new in perl5</a></strong>

<dd>
<p><a href="#abs"><code>abs</code></a>, <a href="#bless"><code>bless</code></a>, <a href="#break"><code>break</code></a>, <a href="#chomp"><code>chomp</code></a>, <a href="#chr"><code>chr</code></a>, <a href="#continue"><code>continue</code></a>, <code>default</code>, 
<a href="#exists"><code>exists</code></a>, <a href="#formline"><code>formline</code></a>, <code>given</code>, <a href="#glob"><code>glob</code></a>, <a href="#import"><code>import</code></a>, <a href="#lc"><code>lc</code></a>, <a href="#lcfirst"><code>lcfirst</code></a>,
<a href="#lock"><code>lock</code></a>, <a href="#map"><code>map</code></a>, <a href="#my"><code>my</code></a>, <a href="#no"><code>no</code></a>, <a href="#our"><code>our</code></a>, <a href="#prototype"><code>prototype</code></a>, <a href="#qr_"><code>qr//</code></a>, <a href="#qw_"><code>qw//</code></a>, <a href="#qx_"><code>qx//</code></a>,
<a href="#readline"><code>readline</code></a>, <a href="#readpipe"><code>readpipe</code></a>, <a href="#ref"><code>ref</code></a>, <a href="#sub"><code>sub</code></a>*, <a href="#sysopen"><code>sysopen</code></a>, <a href="#tie"><code>tie</code></a>, <a href="#tied"><code>tied</code></a>, <a href="#uc"><code>uc</code></a>,
<a href="#ucfirst"><code>ucfirst</code></a>, <a href="#untie"><code>untie</code></a>, <a href="#use"><code>use</code></a>, <code>when</code></p>
</dd>
<dd>
<p>* - <a href="#sub"><code>sub</code></a> was a keyword in perl4, but in perl5 it is an
operator, which can be used in expressions.</p>
</dd>
</li>
<dt><strong><a name="functions_obsoleted_in_perl5" class="item">Functions obsoleted in perl5</a></strong>

<dd>
<p><a href="#dbmclose"><code>dbmclose</code></a>, <a href="#dbmopen"><code>dbmopen</code></a></p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="portability">Portability</a></h2>
<p>Perl was born in Unix and can therefore access all common Unix
system calls.  In non-Unix environments, the functionality of some
Unix system calls may not be available, or details of the available
functionality may differ slightly.  The Perl functions affected
by this are:</p>
<p><a href="#x"><code>-X</code></a>, <a href="#binmode"><code>binmode</code></a>, <a href="#chmod"><code>chmod</code></a>, <a href="#chown"><code>chown</code></a>, <a href="#chroot"><code>chroot</code></a>, <a href="#crypt"><code>crypt</code></a>,
<a href="#dbmclose"><code>dbmclose</code></a>, <a href="#dbmopen"><code>dbmopen</code></a>, <a href="#dump"><code>dump</code></a>, <a href="#endgrent"><code>endgrent</code></a>, <a href="#endhostent"><code>endhostent</code></a>,
<a href="#endnetent"><code>endnetent</code></a>, <a href="#endprotoent"><code>endprotoent</code></a>, <a href="#endpwent"><code>endpwent</code></a>, <a href="#endservent"><code>endservent</code></a>, <a href="#exec"><code>exec</code></a>,
<a href="#fcntl"><code>fcntl</code></a>, <a href="#flock"><code>flock</code></a>, <a href="#fork"><code>fork</code></a>, <a href="#getgrent"><code>getgrent</code></a>, <a href="#getgrgid"><code>getgrgid</code></a>, <a href="#gethostbyname"><code>gethostbyname</code></a>,
<a href="#gethostent"><code>gethostent</code></a>, <a href="#getlogin"><code>getlogin</code></a>, <a href="#getnetbyaddr"><code>getnetbyaddr</code></a>, <a href="#getnetbyname"><code>getnetbyname</code></a>, <a href="#getnetent"><code>getnetent</code></a>,
<a href="#getppid"><code>getppid</code></a>, <a href="#getpgrp"><code>getpgrp</code></a>, <a href="#getpriority"><code>getpriority</code></a>, <a href="#getprotobynumber"><code>getprotobynumber</code></a>,
<a href="#getprotoent"><code>getprotoent</code></a>, <a href="#getpwent"><code>getpwent</code></a>, <a href="#getpwnam"><code>getpwnam</code></a>, <a href="#getpwuid"><code>getpwuid</code></a>,
<a href="#getservbyport"><code>getservbyport</code></a>, <a href="#getservent"><code>getservent</code></a>, <a href="#getsockopt"><code>getsockopt</code></a>, <a href="#glob"><code>glob</code></a>, <a href="#ioctl"><code>ioctl</code></a>,
<a href="#kill"><code>kill</code></a>, <a href="#link"><code>link</code></a>, <a href="#lstat"><code>lstat</code></a>, <a href="#msgctl"><code>msgctl</code></a>, <a href="#msgget"><code>msgget</code></a>, <a href="#msgrcv"><code>msgrcv</code></a>,
<a href="#msgsnd"><code>msgsnd</code></a>, <a href="#open"><code>open</code></a>, <a href="#pipe"><code>pipe</code></a>, <a href="#readlink"><code>readlink</code></a>, <a href="#rename"><code>rename</code></a>, <a href="#select"><code>select</code></a>, <a href="#semctl"><code>semctl</code></a>,
<a href="#semget"><code>semget</code></a>, <a href="#semop"><code>semop</code></a>, <a href="#setgrent"><code>setgrent</code></a>, <a href="#sethostent"><code>sethostent</code></a>, <a href="#setnetent"><code>setnetent</code></a>,
<a href="#setpgrp"><code>setpgrp</code></a>, <a href="#setpriority"><code>setpriority</code></a>, <a href="#setprotoent"><code>setprotoent</code></a>, <a href="#setpwent"><code>setpwent</code></a>,
<a href="#setservent"><code>setservent</code></a>, <a href="#setsockopt"><code>setsockopt</code></a>, <a href="#shmctl"><code>shmctl</code></a>, <a href="#shmget"><code>shmget</code></a>, <a href="#shmread"><code>shmread</code></a>,
<a href="#shmwrite"><code>shmwrite</code></a>, <a href="#socket"><code>socket</code></a>, <a href="#socketpair"><code>socketpair</code></a>,
<a href="#stat"><code>stat</code></a>, <a href="#symlink"><code>symlink</code></a>, <a href="#syscall"><code>syscall</code></a>, <a href="#sysopen"><code>sysopen</code></a>, <a href="#system"><code>system</code></a>,
<a href="#times"><code>times</code></a>, <a href="#truncate"><code>truncate</code></a>, <a href="#umask"><code>umask</code></a>, <a href="#unlink"><code>unlink</code></a>,
<a href="#utime"><code>utime</code></a>, <a href="#wait"><code>wait</code></a>, <a href="#waitpid"><code>waitpid</code></a></p>
<p>For more information about the portability of these functions, see
<a href="../../lib/pods/perlport.html">the perlport manpage</a> and other available platform-specific documentation.</p>
<p>
</p>
<h2><a name="alphabetical_listing_of_perl_functions">Alphabetical Listing of Perl Functions</a></h2>
<dl>
<dt><strong><a name="x_filehandle" class="item">-X FILEHANDLE</a></strong>

<dt><strong><a name="x_expr" class="item">-X EXPR</a></strong>

<dt><strong><a name="x_dirhandle" class="item">-X DIRHANDLE</a></strong>

<dt><strong><a name="x2" class="item">-X</a></strong>

<dd>
<p>A file test, where X is one of the letters listed below.  This unary
operator takes one argument, either a filename, a filehandle, or a dirhandle, 
and tests the associated file to see if something is true about it.  If the
argument is omitted, tests <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>, except for <a href="../../lib/pods/perlrun.html#t"><code>-t</code></a>, which tests STDIN.
Unless otherwise documented, it returns <code>1</code> for true and <code>''</code> for false, or
the undefined value if the file doesn't exist.  Despite the funny
names, precedence is the same as any other named unary operator.  The
operator may be any of:</p>
</dd>
<dd>
<pre>
    -r  File is readable by effective uid/gid.
    -w  File is writable by effective uid/gid.
    -x  File is executable by effective uid/gid.
    -o  File is owned by effective uid.</pre>
</dd>
<dd>
<pre>
    -R  File is readable by real uid/gid.
    -W  File is writable by real uid/gid.
    -X  File is executable by real uid/gid.
    -O  File is owned by real uid.</pre>
</dd>
<dd>
<pre>
    -e  File exists.
    -z  File has zero size (is empty).
    -s  File has nonzero size (returns size in bytes).</pre>
</dd>
<dd>
<pre>
    -f  File is a plain file.
    -d  File is a directory.
    -l  File is a symbolic link.
    -p  File is a named pipe (FIFO), or Filehandle is a pipe.
    -S  File is a socket.
    -b  File is a block special file.
    -c  File is a character special file.
    -t  Filehandle is opened to a tty.</pre>
</dd>
<dd>
<pre>
    -u  File has setuid bit set.
    -g  File has setgid bit set.
    -k  File has sticky bit set.</pre>
</dd>
<dd>
<pre>
    -T  File is an ASCII text file (heuristic guess).
    -B  File is a &quot;binary&quot; file (opposite of -T).</pre>
</dd>
<dd>
<pre>
    -M  Script start time minus file modification time, in days.
    -A  Same for access time.
    -C  Same for inode change time (Unix, may differ for other platforms)</pre>
</dd>
<dd>
<p>Example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">while</span> <span class="operator">(&lt;&gt;)</span> <span class="operator">{</span>
        <span class="keyword">chomp</span><span class="operator">;</span>
        <span class="keyword">next</span> <span class="keyword">unless</span> <span class="keyword">-f</span> <span class="variable">$_</span><span class="operator">;</span>      <span class="comment"># ignore specials</span>
        <span class="comment">#...</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>The interpretation of the file permission operators <a href="../../lib/pods/perlguts.html#r"><code>-r</code></a>, <code>-R</code>,
<a href="../../lib/pods/perlrun.html#w"><code>-w</code></a>, <a href="../../lib/pods/perlrun.html#w"><code>-W</code></a>, <a href="../../lib/pods/perlrun.html#x"><code>-x</code></a>, and <a href="#x"><code>-X</code></a> is by default based solely on the mode
of the file and the uids and gids of the user.  There may be other
reasons you can't actually read, write, or execute the file: for
example network filesystem access controls, ACLs (access control lists),
read-only filesystems, and unrecognized executable formats.  Note
that the use of these six specific operators to verify if some operation
is possible is usually a mistake, because it may be open to race
conditions.</p>
</dd>
<dd>
<p>Also note that, for the superuser on the local filesystems, the <a href="../../lib/pods/perlguts.html#r"><code>-r</code></a>,
<code>-R</code>, <a href="../../lib/pods/perlrun.html#w"><code>-w</code></a>, and <a href="../../lib/pods/perlrun.html#w"><code>-W</code></a> tests always return 1, and <a href="../../lib/pods/perlrun.html#x"><code>-x</code></a> and <a href="#x"><code>-X</code></a> return 1
if any execute bit is set in the mode.  Scripts run by the superuser
may thus need to do a <a href="#stat"><code>stat()</code></a> to determine the actual mode of the file,
or temporarily set their effective uid to something else.</p>
</dd>
<dd>
<p>If you are using ACLs, there is a pragma called <code>filetest</code> that may
produce more accurate results than the bare <a href="#stat"><code>stat()</code></a> mode bits.
When under the <code>use filetest 'access'</code> the above-mentioned filetests
will test whether the permission can (not) be granted using the
<code>access()</code> family of system calls.  Also note that the <a href="../../lib/pods/perlrun.html#x"><code>-x</code></a> and <a href="#x"><code>-X</code></a> may
under this pragma return true even if there are no execute permission
bits set (nor any extra execute permission ACLs).  This strangeness is
due to the underlying system calls' definitions. Note also that, due to
the implementation of <code>use filetest 'access'</code>, the <code>_</code> special
filehandle won't cache the results of the file tests when this pragma is
in effect.  Read the documentation for the <code>filetest</code> pragma for more
information.</p>
</dd>
<dd>
<p>Note that <code>-s/a/b/</code> does not do a negated substitution.  Saying
<a href="#exp"><code>-exp($foo)</code></a> still works as expected, however--only single letters
following a minus are interpreted as file tests.</p>
</dd>
<dd>
<p>The <a href="../../lib/pods/perlrun.html#t"><code>-T</code></a> and <code>-B</code> switches work as follows.  The first block or so of the
file is examined for odd characters such as strange control codes or
characters with the high bit set.  If too many strange characters (&gt;30%)
are found, it's a <code>-B</code> file; otherwise it's a <a href="../../lib/pods/perlrun.html#t"><code>-T</code></a> file.  Also, any file
containing null in the first block is considered a binary file.  If <a href="../../lib/pods/perlrun.html#t"><code>-T</code></a>
or <code>-B</code> is used on a filehandle, the current IO buffer is examined
rather than the first block.  Both <a href="../../lib/pods/perlrun.html#t"><code>-T</code></a> and <code>-B</code> return true on a null
file, or a file at EOF when testing a filehandle.  Because you have to
read a file to do the <a href="../../lib/pods/perlrun.html#t"><code>-T</code></a> test, on most occasions you want to use a <a href="../../lib/pods/perlrun.html#f"><code>-f</code></a>
against the file first, as in <code>next unless -f $file &amp;&amp; -T $file</code>.</p>
</dd>
<dd>
<p>If any of the file tests (or either the <a href="#stat"><code>stat</code></a> or <a href="#lstat"><code>lstat</code></a> operators) are given
the special filehandle consisting of a solitary underline, then the stat
structure of the previous file test (or stat operator) is used, saving
a system call.  (This doesn't work with <a href="../../lib/pods/perlrun.html#t"><code>-t</code></a>, and you need to remember
that <a href="#lstat"><code>lstat()</code></a> and <code>-l</code> will leave values in the stat structure for the
symbolic link, not the real file.)  (Also, if the stat buffer was filled by
an <a href="#lstat"><code>lstat</code></a> call, <a href="../../lib/pods/perlrun.html#t"><code>-T</code></a> and <code>-B</code> will reset it with the results of <a href="#stat"><code>stat _</code></a>).
Example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="string">"Can do.\n"</span> <span class="keyword">if</span> <span class="keyword">-r</span> <span class="variable">$a</span> <span class="operator">||</span> <span class="keyword">-w</span> <span class="variable">_</span> <span class="operator">||</span> <span class="keyword">-x</span> <span class="variable">_</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">);</span>
    <span class="keyword">print</span> <span class="string">"Readable\n"</span> <span class="keyword">if</span> <span class="keyword">-r</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Writable\n"</span> <span class="keyword">if</span> <span class="keyword">-w</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Executable\n"</span> <span class="keyword">if</span> <span class="keyword">-x</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Setuid\n"</span> <span class="keyword">if</span> <span class="keyword">-u</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Setgid\n"</span> <span class="keyword">if</span> <span class="keyword">-g</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Sticky\n"</span> <span class="keyword">if</span> <span class="keyword">-k</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Text\n"</span> <span class="keyword">if</span> <span class="keyword">-T</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Binary\n"</span> <span class="keyword">if</span> <span class="keyword">-B</span> <span class="variable">_</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>As of Perl 5.9.1, as a form of purely syntactic sugar, you can stack file
test operators, in a way that <code>-f -w -x $file</code> is equivalent to
<code>-x $file &amp;&amp; -w _ &amp;&amp; -f _</code>. (This is only syntax fancy: if you use
the return value of <code>-f $file</code> as an argument to another filetest
operator, no special magic will happen.)</p>
</dd>
</li>
<dt><strong><a name="abs" class="item">abs VALUE</a></strong>

<dt><strong>abs</strong>

<dd>
<p>Returns the absolute value of its argument.
If VALUE is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
</li>
<dt><strong><a name="accept" class="item">accept NEWSOCKET,GENERICSOCKET</a></strong>

<dd>
<p>Accepts an incoming socket connect, just as the <a href="#accept"><code>accept(2)</code></a> system call
does.  Returns the packed address if it succeeded, false otherwise.
See the example in <a href="../../lib/pods/perlipc.html#sockets__client_server_communication">Sockets: Client/Server Communication in the perlipc manpage</a>.</p>
</dd>
<dd>
<p>On systems that support a close-on-exec flag on files, the flag will
be set for the newly opened file descriptor, as determined by the
value of $^F.  See <a href="../../lib/pods/perlvar.html#__f">$^F in the perlvar manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="alarm" class="item">alarm SECONDS</a></strong>

<dt><strong>alarm</strong>

<dd>
<p>Arranges to have a SIGALRM delivered to this process after the
specified number of wallclock seconds has elapsed.  If SECONDS is not
specified, the value stored in <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> is used. (On some machines,
unfortunately, the elapsed time may be up to one second less or more
than you specified because of how seconds are counted, and process
scheduling may delay the delivery of the signal even further.)</p>
</dd>
<dd>
<p>Only one timer may be counting at once.  Each call disables the
previous timer, and an argument of <code>0</code> may be supplied to cancel the
previous timer without starting a new one.  The returned value is the
amount of time remaining on the previous timer.</p>
</dd>
<dd>
<p>For delays of finer granularity than one second, the Time::HiRes module
(from CPAN, and starting from Perl 5.8 part of the standard
distribution) provides <code>ualarm()</code>.  You may also use Perl's four-argument
version of <a href="#select"><code>select()</code></a> leaving the first three arguments undefined, or you
might be able to use the <a href="#syscall"><code>syscall</code></a> interface to access <code>setitimer(2)</code> if
your system supports it. See <a href="../../lib/pods/perlfaq8.html">the perlfaq8 manpage</a> for details.</p>
</dd>
<dd>
<p>It is usually a mistake to intermix <a href="#alarm"><code>alarm</code></a> and <a href="#sleep"><code>sleep</code></a> calls.
(<a href="#sleep"><code>sleep</code></a> may be internally implemented in your system with <a href="#alarm"><code>alarm</code></a>)</p>
</dd>
<dd>
<p>If you want to use <a href="#alarm"><code>alarm</code></a> to time out a system call you need to use an
<a href="#eval"><code>eval</code></a>/<a href="#die"><code>die</code></a> pair.  You can't rely on the alarm causing the system call to
fail with <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> set to <code>EINTR</code> because Perl sets up signal handlers to
restart system calls on some systems.  Using <a href="#eval"><code>eval</code></a>/<a href="#die"><code>die</code></a> always works,
modulo the caveats given in <a href="../../lib/pods/perlipc.html#signals">Signals in the perlipc manpage</a>.</p>
</dd>
<dd>
<pre>
    <span class="keyword">eval</span> <span class="operator">{</span>
        <span class="keyword">local</span> <span class="variable">$SIG</span><span class="operator">{</span><span class="string">ALRM</span><span class="operator">}</span> <span class="operator">=</span> <span class="keyword">sub</span><span class="variable"> </span><span class="operator">{</span> <span class="keyword">die</span> <span class="string">"alarm\n"</span> <span class="operator">};</span> <span class="comment"># NB: \n required</span>
        <span class="keyword">alarm</span> <span class="variable">$timeout</span><span class="operator">;</span>
        <span class="variable">$nread</span> <span class="operator">=</span> <span class="keyword">sysread</span> <span class="variable">SOCKET</span><span class="operator">,</span> <span class="variable">$buffer</span><span class="operator">,</span> <span class="variable">$size</span><span class="operator">;</span>
        <span class="keyword">alarm</span> <span class="number">0</span><span class="operator">;</span>
    <span class="operator">};</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$@</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">die</span> <span class="keyword">unless</span> <span class="variable">$@</span> <span class="keyword">eq</span> <span class="string">"alarm\n"</span><span class="operator">;</span>   <span class="comment"># propagate unexpected errors</span>
        <span class="comment"># timed out</span>
    <span class="operator">}</span>
    <span class="keyword">else</span> <span class="operator">{</span>
        <span class="comment"># didn't</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>For more information see <a href="../../lib/pods/perlipc.html">the perlipc manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="atan2" class="item">atan2 Y,X</a></strong>

<dd>
<p>Returns the arctangent of Y/X in the range -PI to PI.</p>
</dd>
<dd>
<p>For the tangent operation, you may use the <code>Math::Trig::tan</code>
function, or use the familiar relation:</p>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> tan </span><span class="operator">{</span> <span class="keyword">sin</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span> <span class="operator">/</span> <span class="keyword">cos</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span>  <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Note that atan2(0, 0) is not well-defined.</p>
</dd>
</li>
<dt><strong><a name="bind" class="item">bind SOCKET,NAME</a></strong>

<dd>
<p>Binds a network address to a socket, just as the bind system call
does.  Returns true if it succeeded, false otherwise.  NAME should be a
packed address of the appropriate type for the socket.  See the examples in
<a href="../../lib/pods/perlipc.html#sockets__client_server_communication">Sockets: Client/Server Communication in the perlipc manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="binmode" class="item">binmode FILEHANDLE, LAYER</a></strong>

<dt><strong>binmode FILEHANDLE</strong>

<dd>
<p>Arranges for FILEHANDLE to be read or written in &quot;binary&quot; or &quot;text&quot;
mode on systems where the run-time libraries distinguish between
binary and text files.  If FILEHANDLE is an expression, the value is
taken as the name of the filehandle.  Returns true on success,
otherwise it returns <a href="#undef"><code>undef</code></a> and sets <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> (errno).</p>
</dd>
<dd>
<p>On some systems (in general, DOS and Windows-based systems) <a href="#binmode"><code>binmode()</code></a>
is necessary when you're not working with a text file.  For the sake
of portability it is a good idea to always use it when appropriate,
and to never use it when it isn't appropriate.  Also, people can
set their I/O to be by default UTF-8 encoded Unicode, not bytes.</p>
</dd>
<dd>
<p>In other words: regardless of platform, use <a href="#binmode"><code>binmode()</code></a> on binary data,
like for example images.</p>
</dd>
<dd>
<p>If LAYER is present it is a single string, but may contain multiple
directives. The directives alter the behaviour of the file handle.
When LAYER is present using binmode on text file makes sense.</p>
</dd>
<dd>
<p>If LAYER is omitted or specified as <a href="../../lib/pods/perlrun.html#raw"><code>:raw</code></a> the filehandle is made
suitable for passing binary data. This includes turning off possible CRLF
translation and marking it as bytes (as opposed to Unicode characters).
Note that, despite what may be implied in <em>&quot;Programming Perl&quot;</em> (the
Camel) or elsewhere, <a href="../../lib/pods/perlrun.html#raw"><code>:raw</code></a> is <em>not</em> simply the inverse of <a href="../../lib/pods/perlrun.html#crlf"><code>:crlf</code></a>
-- other layers which would affect the binary nature of the stream are
<em>also</em> disabled. See <a href="../../lib/PerlIO.html">the PerlIO manpage</a>, <a href="../../lib/pods/perlrun.html">the perlrun manpage</a> and the discussion about the
PERLIO environment variable.</p>
</dd>
<dd>
<p>The <a href="../../lib/pods/perlrun.html#bytes"><code>:bytes</code></a>, <a href="../../lib/pods/perlrun.html#crlf"><code>:crlf</code></a>, and <a href="../../lib/pods/perlrun.html#utf8"><code>:utf8</code></a>, and any other directives of the
form <code>:...</code>, are called I/O <em>layers</em>.  The <a href="#open"><code>open</code></a> pragma can be used to
establish default I/O layers.  See <a href="../../lib/open.html">the open manpage</a>.</p>
</dd>
<dd>
<p><em>The LAYER parameter of the binmode() function is described as &quot;DISCIPLINE&quot;
in &quot;Programming Perl, 3rd Edition&quot;.  However, since the publishing of this
book, by many known as &quot;Camel III&quot;, the consensus of the naming of this
functionality has moved from &quot;discipline&quot; to &quot;layer&quot;.  All documentation
of this version of Perl therefore refers to &quot;layers&quot; rather than to
&quot;disciplines&quot;.  Now back to the regularly scheduled documentation...</em></p>
</dd>
<dd>
<p>To mark FILEHANDLE as UTF-8, use <a href="../../lib/pods/perlrun.html#utf8"><code>:utf8</code></a> or <code>:encoding(utf8)</code>.
<a href="../../lib/pods/perlrun.html#utf8"><code>:utf8</code></a> just marks the data as UTF-8 without further checking,
while <code>:encoding(utf8)</code> checks the data for actually being valid
UTF-8. More details can be found in <a href="../../lib/PerlIO/encoding.html">the PerlIO::encoding manpage</a>.</p>
</dd>
<dd>
<p>In general, <a href="#binmode"><code>binmode()</code></a> should be called after <a href="#open"><code>open()</code></a> but before any I/O
is done on the filehandle.  Calling <a href="#binmode"><code>binmode()</code></a> will normally flush any
pending buffered output data (and perhaps pending input data) on the
handle.  An exception to this is the <code>:encoding</code> layer that
changes the default character encoding of the handle, see <a href="../../lib/open.html">the open manpage</a>.
The <code>:encoding</code> layer sometimes needs to be called in
mid-stream, and it doesn't flush the stream.  The <code>:encoding</code>
also implicitly pushes on top of itself the <a href="../../lib/pods/perlrun.html#utf8"><code>:utf8</code></a> layer because
internally Perl will operate on UTF-8 encoded Unicode characters.</p>
</dd>
<dd>
<p>The operating system, device drivers, C libraries, and Perl run-time
system all work together to let the programmer treat a single
character (<a href="../../lib/pods/perlrun.html#n"><code>\n</code></a>) as the line terminator, irrespective of the external
representation.  On many operating systems, the native text file
representation matches the internal representation, but on some
platforms the external representation of <a href="../../lib/pods/perlrun.html#n"><code>\n</code></a> is made up of more than
one character.</p>
</dd>
<dd>
<p>Mac OS, all variants of Unix, and Stream_LF files on VMS use a single
character to end each line in the external representation of text (even
though that single character is CARRIAGE RETURN on Mac OS and LINE FEED
on Unix and most VMS files). In other systems like OS/2, DOS and the
various flavors of MS-Windows your program sees a <a href="../../lib/pods/perlrun.html#n"><code>\n</code></a> as a simple <code>\cJ</code>,
but what's stored in text files are the two characters <code>\cM\cJ</code>.  That
means that, if you don't use <a href="#binmode"><code>binmode()</code></a> on these systems, <code>\cM\cJ</code>
sequences on disk will be converted to <a href="../../lib/pods/perlrun.html#n"><code>\n</code></a> on input, and any <a href="../../lib/pods/perlrun.html#n"><code>\n</code></a> in
your program will be converted back to <code>\cM\cJ</code> on output.  This is what
you want for text files, but it can be disastrous for binary files.</p>
</dd>
<dd>
<p>Another consequence of using <a href="#binmode"><code>binmode()</code></a> (on some systems) is that
special end-of-file markers will be seen as part of the data stream.
For systems from the Microsoft family this means that if your binary
data contains <code>\cZ</code>, the I/O subsystem will regard it as the end of
the file, unless you use <a href="#binmode"><code>binmode()</code></a>.</p>
</dd>
<dd>
<p><a href="#binmode"><code>binmode()</code></a> is not only important for <a href="#readline"><code>readline()</code></a> and <a href="#print"><code>print()</code></a> operations,
but also when using <a href="#read"><code>read()</code></a>, <a href="#seek"><code>seek()</code></a>, <a href="#sysread"><code>sysread()</code></a>, <a href="#syswrite"><code>syswrite()</code></a> and <a href="#tell"><code>tell()</code></a>
(see <a href="../../lib/pods/perlport.html">the perlport manpage</a> for more details).  See the <a href="../../lib/pods/perlvar.html#__"><code>$/</code></a> and <a href="../../lib/pods/perlvar.html#__"><code>$\</code></a> variables
in <a href="../../lib/pods/perlvar.html">the perlvar manpage</a> for how to manually set your input and output
line-termination sequences.</p>
</dd>
</li>
<dt><strong><a name="bless" class="item">bless REF,CLASSNAME</a></strong>

<dt><strong>bless REF</strong>

<dd>
<p>This function tells the thingy referenced by REF that it is now an object
in the CLASSNAME package.  If CLASSNAME is omitted, the current package
is used.  Because a <a href="#bless"><code>bless</code></a> is often the last thing in a constructor,
it returns the reference for convenience.  Always use the two-argument
version if a derived class might inherit the function doing the blessing.
See <a href="../../lib/pods/perltoot.html">the perltoot manpage</a> and <a href="../../lib/pods/perlobj.html">the perlobj manpage</a> for more about the blessing (and blessings)
of objects.</p>
</dd>
<dd>
<p>Consider always blessing objects in CLASSNAMEs that are mixed case.
Namespaces with all lowercase names are considered reserved for
Perl pragmata.  Builtin types have all uppercase names. To prevent
confusion, you may wish to avoid such package names as well.  Make sure
that CLASSNAME is a true value.</p>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlmod.html#perl_modules">Perl Modules in the perlmod manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="break" class="item">break</a></strong>

<dd>
<p>Break out of a <code>given()</code> block.</p>
</dd>
<dd>
<p>This keyword is enabled by the &quot;switch&quot; feature: see <a href="../../lib/feature.html">the feature manpage</a>
for more information.</p>
</dd>
</li>
<dt><strong><a name="caller" class="item">caller EXPR</a></strong>

<dt><strong>caller</strong>

<dd>
<p>Returns the context of the current subroutine call.  In scalar context,
returns the caller's package name if there is a caller, that is, if
we're in a subroutine or <a href="#eval"><code>eval</code></a> or <a href="#require"><code>require</code></a>, and the undefined value
otherwise.  In list context, returns</p>
</dd>
<dd>
<pre>
    <span class="comment"># 0         1          2</span>
    <span class="operator">(</span><span class="variable">$package</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">,</span> <span class="variable">$line</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">caller</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>With EXPR, it returns some extra information that the debugger uses to
print a stack trace.  The value of EXPR indicates how many call frames
to go back before the current one.</p>
</dd>
<dd>
<pre>
    #  0         1          2      3            4
    ($package, $filename, $line, $subroutine, $hasargs,</pre>
</dd>
<dd>
<pre>
    <span class="comment">#  5          6          7            8       9         10</span>
    <span class="variable">$wantarray</span><span class="operator">,</span> <span class="variable">$evaltext</span><span class="operator">,</span> <span class="variable">$is_require</span><span class="operator">,</span> <span class="variable">$hints</span><span class="operator">,</span> <span class="variable">$bitmask</span><span class="operator">,</span> <span class="variable">$hinthash</span><span class="operator">)</span>
     <span class="operator">=</span> <span class="keyword">caller</span><span class="operator">(</span><span class="variable">$i</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>Here $subroutine may be <a href="#eval"><code>(eval)</code></a> if the frame is not a subroutine
call, but an <a href="#eval"><code>eval</code></a>.  In such a case additional elements $evaltext and
<code>$is_require</code> are set: <code>$is_require</code> is true if the frame is created by a
<a href="#require"><code>require</code></a> or <a href="#use"><code>use</code></a> statement, $evaltext contains the text of the
<a href="#eval"><code>eval EXPR</code></a> statement.  In particular, for an <a href="#eval"><code>eval BLOCK</code></a> statement,
$subroutine is <a href="#eval"><code>(eval)</code></a>, but $evaltext is undefined.  (Note also that
each <a href="#use"><code>use</code></a> statement creates a <a href="#require"><code>require</code></a> frame inside an <a href="#eval"><code>eval EXPR</code></a>
frame.)  $subroutine may also be <code>(unknown)</code> if this particular
subroutine happens to have been deleted from the symbol table.
<code>$hasargs</code> is true if a new instance of <a href="../../lib/pods/perlvar.html#__"><code>@_</code></a> was set up for the frame.
<code>$hints</code> and <code>$bitmask</code> contain pragmatic hints that the caller was
compiled with.  The <code>$hints</code> and <code>$bitmask</code> values are subject to change
between versions of Perl, and are not meant for external use.</p>
</dd>
<dd>
<p><code>$hinthash</code> is a reference to a hash containing the value of <a href="../../lib/pods/perlvar.html#__h"><code>%^H</code></a> when the
caller was compiled, or <a href="#undef"><code>undef</code></a> if <a href="../../lib/pods/perlvar.html#__h"><code>%^H</code></a> was empty. Do not modify the values
of this hash, as they are the actual values stored in the optree.</p>
</dd>
<dd>
<p>Furthermore, when called from within the DB package, caller returns more
detailed information: it sets the list variable <code>@DB::args</code> to be the
arguments with which the subroutine was invoked.</p>
</dd>
<dd>
<p>Be aware that the optimizer might have optimized call frames away before
<a href="#caller"><code>caller</code></a> had a chance to get the information.  That means that <a href="#caller"><code>caller(N)</code></a>
might not return information about the call frame you expect it do, for
<code>N &gt; 1</code>.  In particular, <code>@DB::args</code> might have information from the
previous time <a href="#caller"><code>caller</code></a> was called.</p>
</dd>
</li>
<dt><strong><a name="chdir" class="item">chdir EXPR</a></strong>

<dt><strong>chdir FILEHANDLE</strong>

<dt><strong>chdir DIRHANDLE</strong>

<dt><strong>chdir</strong>

<dd>
<p>Changes the working directory to EXPR, if possible. If EXPR is omitted,
changes to the directory specified by <code>$ENV{HOME}</code>, if set; if not,
changes to the directory specified by <code>$ENV{LOGDIR}</code>. (Under VMS, the
variable <code>$ENV{SYS$LOGIN}</code> is also checked, and used if it is set.) If
neither is set, <a href="#chdir"><code>chdir</code></a> does nothing. It returns true upon success,
false otherwise. See the example under <a href="#die"><code>die</code></a>.</p>
</dd>
<dd>
<p>On systems that support fchdir, you might pass a file handle or
directory handle as argument.  On systems that don't support fchdir,
passing handles produces a fatal error at run time.</p>
</dd>
</li>
<dt><strong><a name="chmod" class="item">chmod LIST</a></strong>

<dd>
<p>Changes the permissions of a list of files.  The first element of the
list must be the numerical mode, which should probably be an octal
number, and which definitely should <em>not</em> be a string of octal digits:
<code>0644</code> is okay, <code>'0644'</code> is not.  Returns the number of files
successfully changed.  See also <a href="#oct">oct</a>, if all you have is a string.</p>
</dd>
<dd>
<pre>
    <span class="variable">$cnt</span> <span class="operator">=</span> <span class="keyword">chmod</span> <span class="number">0755</span><span class="operator">,</span> <span class="string">'foo'</span><span class="operator">,</span> <span class="string">'bar'</span><span class="operator">;</span>
    <span class="keyword">chmod</span> <span class="number">0755</span><span class="operator">,</span> <span class="variable">@executables</span><span class="operator">;</span>
    <span class="variable">$mode</span> <span class="operator">=</span> <span class="string">'0644'</span><span class="operator">;</span> <span class="keyword">chmod</span> <span class="variable">$mode</span><span class="operator">,</span> <span class="string">'foo'</span><span class="operator">;</span>      <span class="comment"># !!! sets mode to</span>
                                             <span class="comment"># --w----r-T</span>
    <span class="variable">$mode</span> <span class="operator">=</span> <span class="string">'0644'</span><span class="operator">;</span> <span class="keyword">chmod</span> <span class="keyword">oct</span><span class="operator">(</span><span class="variable">$mode</span><span class="operator">),</span> <span class="string">'foo'</span><span class="operator">;</span> <span class="comment"># this is better</span>
    <span class="variable">$mode</span> <span class="operator">=</span> <span class="number">0644</span><span class="operator">;</span>   <span class="keyword">chmod</span> <span class="variable">$mode</span><span class="operator">,</span> <span class="string">'foo'</span><span class="operator">;</span>      <span class="comment"># this is best</span>
</pre>
</dd>
<dd>
<p>On systems that support fchmod, you might pass file handles among the
files.  On systems that don't support fchmod, passing file handles
produces a fatal error at run time.   The file handles must be passed
as globs or references to be recognized.  Barewords are considered
file names.</p>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$fh</span><span class="operator">,</span> <span class="string">"&lt;"</span><span class="operator">,</span> <span class="string">"foo"</span><span class="operator">);</span>
    <span class="keyword">my</span> <span class="variable">$perm</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">stat</span> <span class="variable">$fh</span><span class="operator">)</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span> <span class="operator">&amp;</span> <span class="number">07777</span><span class="operator">;</span>
    <span class="keyword">chmod</span><span class="operator">(</span><span class="variable">$perm</span> <span class="operator">|</span> <span class="number">0600</span><span class="operator">,</span> <span class="variable">$fh</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>You can also import the symbolic <code>S_I*</code> constants from the Fcntl
module:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Fcntl</span> <span class="string">':mode'</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">chmod</span> <span class="variable">S_IRWXU</span><span class="operator">|</span><span class="variable">S_IRGRP</span><span class="operator">|</span><span class="variable">S_IXGRP</span><span class="operator">|</span><span class="variable">S_IROTH</span><span class="operator">|</span><span class="variable">S_IXOTH</span><span class="operator">,</span> <span class="variable">@executables</span><span class="operator">;</span>
    <span class="comment"># This is identical to the chmod 0755 of the above example.</span>
</pre>
</dd>
</li>
<dt><strong><a name="chomp" class="item">chomp VARIABLE</a></strong>

<dt><strong>chomp( LIST )</strong>

<dt><strong>chomp</strong>

<dd>
<p>This safer version of <a href="#chop">chop</a> removes any trailing string
that corresponds to the current value of <a href="../../lib/pods/perlvar.html#__"><code>$/</code></a> (also known as
$INPUT_RECORD_SEPARATOR in the <code>English</code> module).  It returns the total
number of characters removed from all its arguments.  It's often used to
remove the newline from the end of an input record when you're worried
that the final record may be missing its newline.  When in paragraph
mode (<a href="../../lib/pods/perlvar.html#__"><code>$/ = &quot;&quot;</code></a>), it removes all trailing newlines from the string.
When in slurp mode (<a href="../../lib/pods/perlvar.html#__"><code>$/ = undef</code></a>) or fixed-length record mode (<a href="../../lib/pods/perlvar.html#__"><code>$/</code></a> is
a reference to an integer or the like, see <a href="../../lib/pods/perlvar.html">the perlvar manpage</a>) <a href="#chomp"><code>chomp()</code></a> won't
remove anything.
If VARIABLE is omitted, it chomps <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.  Example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">while</span> <span class="operator">(&lt;&gt;)</span> <span class="operator">{</span>
        <span class="keyword">chomp</span><span class="operator">;</span>  <span class="comment"># avoid \n on last field</span>
        <span class="variable">@array</span> <span class="operator">=</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">/:/</span><span class="operator">);</span>
        <span class="comment"># ...</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>If VARIABLE is a hash, it chomps the hash's values, but not its keys.</p>
</dd>
<dd>
<p>You can actually chomp anything that's an lvalue, including an assignment:</p>
</dd>
<dd>
<pre>
    <span class="keyword">chomp</span><span class="operator">(</span><span class="variable">$cwd</span> <span class="operator">=</span> <span class="string">`pwd`</span><span class="operator">);</span>
    <span class="keyword">chomp</span><span class="operator">(</span><span class="variable">$answer</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;);</span>
</pre>
</dd>
<dd>
<p>If you chomp a list, each element is chomped, and the total number of
characters removed is returned.</p>
</dd>
<dd>
<p>Note that parentheses are necessary when you're chomping anything
that is not a simple variable.  This is because <code>chomp $cwd = `pwd`;</code>
is interpreted as <code>(chomp $cwd) = `pwd`;</code>, rather than as
<a href="#chomp"><code>chomp( $cwd = `pwd` )</code></a> which you might expect.  Similarly,
<code>chomp $a, $b</code> is interpreted as <a href="#chomp"><code>chomp($a), $b</code></a> rather than
as <a href="#chomp"><code>chomp($a, $b)</code></a>.</p>
</dd>
</li>
<dt><strong><a name="chop" class="item">chop VARIABLE</a></strong>

<dt><strong>chop( LIST )</strong>

<dt><strong>chop</strong>

<dd>
<p>Chops off the last character of a string and returns the character
chopped.  It is much more efficient than <a href="#s_"><code>s/.$//s</code></a> because it neither
scans nor copies the string.  If VARIABLE is omitted, chops <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.
If VARIABLE is a hash, it chops the hash's values, but not its keys.</p>
</dd>
<dd>
<p>You can actually chop anything that's an lvalue, including an assignment.</p>
</dd>
<dd>
<p>If you chop a list, each element is chopped.  Only the value of the
last <a href="#chop"><code>chop</code></a> is returned.</p>
</dd>
<dd>
<p>Note that <a href="#chop"><code>chop</code></a> returns the last character.  To return all but the last
character, use <a href="#substr"><code>substr($string, 0, -1)</code></a>.</p>
</dd>
<dd>
<p>See also <a href="#chomp">chomp</a>.</p>
</dd>
</li>
<dt><strong><a name="chown" class="item">chown LIST</a></strong>

<dd>
<p>Changes the owner (and group) of a list of files.  The first two
elements of the list must be the <em>numeric</em> uid and gid, in that
order.  A value of -1 in either position is interpreted by most
systems to leave that value unchanged.  Returns the number of files
successfully changed.</p>
</dd>
<dd>
<pre>
    <span class="variable">$cnt</span> <span class="operator">=</span> <span class="keyword">chown</span> <span class="variable">$uid</span><span class="operator">,</span> <span class="variable">$gid</span><span class="operator">,</span> <span class="string">'foo'</span><span class="operator">,</span> <span class="string">'bar'</span><span class="operator">;</span>
    <span class="keyword">chown</span> <span class="variable">$uid</span><span class="operator">,</span> <span class="variable">$gid</span><span class="operator">,</span> <span class="variable">@filenames</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>On systems that support fchown, you might pass file handles among the
files.  On systems that don't support fchown, passing file handles
produces a fatal error at run time.  The file handles must be passed
as globs or references to be recognized.  Barewords are considered
file names.</p>
</dd>
<dd>
<p>Here's an example that looks up nonnumeric uids in the passwd file:</p>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="string">"User: "</span><span class="operator">;</span>
    <span class="keyword">chomp</span><span class="operator">(</span><span class="variable">$user</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;);</span>
    <span class="keyword">print</span> <span class="string">"Files: "</span><span class="operator">;</span>
    <span class="keyword">chomp</span><span class="operator">(</span><span class="variable">$pattern</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;);</span>
</pre>
</dd>
<dd>
<pre>
    <span class="operator">(</span><span class="variable">$login</span><span class="operator">,</span><span class="variable">$pass</span><span class="operator">,</span><span class="variable">$uid</span><span class="operator">,</span><span class="variable">$gid</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">getpwnam</span><span class="operator">(</span><span class="variable">$user</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"</span><span class="variable">$user</span><span class="string"> not in passwd file"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="variable">@ary</span> <span class="operator">=</span> <span class="keyword">glob</span><span class="operator">(</span><span class="variable">$pattern</span><span class="operator">);</span>      <span class="comment"># expand filenames</span>
    <span class="keyword">chown</span> <span class="variable">$uid</span><span class="operator">,</span> <span class="variable">$gid</span><span class="operator">,</span> <span class="variable">@ary</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>On most systems, you are not allowed to change the ownership of the
file unless you're the superuser, although you should be able to change
the group to any of your secondary groups.  On insecure systems, these
restrictions may be relaxed, but this is not a portable assumption.
On POSIX systems, you can detect this condition this way:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">POSIX</span> <span class="string">qw(sysconf _PC_CHOWN_RESTRICTED)</span><span class="operator">;</span>
    <span class="variable">$can_chown_giveaway</span> <span class="operator">=</span> <span class="keyword">not</span> <span class="variable">sysconf</span><span class="operator">(</span><span class="variable">_PC_CHOWN_RESTRICTED</span><span class="operator">);</span>
</pre>
</dd>
</li>
<dt><strong><a name="chr" class="item">chr NUMBER</a></strong>

<dt><strong>chr</strong>

<dd>
<p>Returns the character represented by that NUMBER in the character set.
For example, <a href="#chr"><code>chr(65)</code></a> is <a href="../../lib/pods/perlguts.html#a"><code>&quot;A&quot;</code></a> in either ASCII or Unicode, and
chr(0x263a) is a Unicode smiley face.</p>
</dd>
<dd>
<p>Negative values give the Unicode replacement character (chr(0xfffd)),
except under the <a href="../../lib/bytes.html">the bytes manpage</a> pragma, where low eight bits of the value
(truncated to an integer) are used.</p>
</dd>
<dd>
<p>If NUMBER is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
<dd>
<p>For the reverse, use <a href="#ord">ord</a>.</p>
</dd>
<dd>
<p>Note that characters from 128 to 255 (inclusive) are by default
internally not encoded as UTF-8 for backward compatibility reasons.</p>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlunicode.html">the perlunicode manpage</a> for more about Unicode.</p>
</dd>
</li>
<dt><strong><a name="chroot" class="item">chroot FILENAME</a></strong>

<dt><strong>chroot</strong>

<dd>
<p>This function works like the system call by the same name: it makes the
named directory the new root directory for all further pathnames that
begin with a <code>/</code> by your process and all its children.  (It doesn't
change your current working directory, which is unaffected.)  For security
reasons, this call is restricted to the superuser.  If FILENAME is
omitted, does a <a href="#chroot"><code>chroot</code></a> to <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
</li>
<dt><strong><a name="close" class="item">close FILEHANDLE</a></strong>

<dt><strong>close</strong>

<dd>
<p>Closes the file or pipe associated with the file handle, flushes the IO
buffers, and closes the system file descriptor.  Returns true if those
operations have succeeded and if no error was reported by any PerlIO
layer.  Closes the currently selected filehandle if the argument is
omitted.</p>
</dd>
<dd>
<p>You don't have to close FILEHANDLE if you are immediately going to do
another <a href="#open"><code>open</code></a> on it, because <a href="#open"><code>open</code></a> will close it for you.  (See
<a href="#open"><code>open</code></a>.)  However, an explicit <a href="#close"><code>close</code></a> on an input file resets the line
counter (<a href="../../lib/pods/perlvar.html#__"><code>$.</code></a>), while the implicit close done by <a href="#open"><code>open</code></a> does not.</p>
</dd>
<dd>
<p>If the file handle came from a piped open, <a href="#close"><code>close</code></a> will additionally
return false if one of the other system calls involved fails, or if the
program exits with non-zero status.  (If the only problem was that the
program exited non-zero, <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> will be set to <code>0</code>.)  Closing a pipe
also waits for the process executing on the pipe to complete, in case you
want to look at the output of the pipe afterwards, and
implicitly puts the exit status value of that command into <a href="../../lib/pods/perlvar.html#_"><code>$?</code></a> and
<a href="../../lib/pods/perlvar.html#___child_error_native_"><code>${^CHILD_ERROR_NATIVE}</code></a>.</p>
</dd>
<dd>
<p>Prematurely closing the read end of a pipe (i.e. before the process
writing to it at the other end has closed it) will result in a
SIGPIPE being delivered to the writer.  If the other end can't
handle that, be sure to read all the data before closing the pipe.</p>
</dd>
<dd>
<p>Example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">OUTPUT</span><span class="operator">,</span> <span class="string">'|sort &gt;foo'</span><span class="operator">)</span>  <span class="comment"># pipe to sort</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't start sort: $!"</span><span class="operator">;</span>
    <span class="comment">#...                        # print stuff to output</span>
    <span class="keyword">close</span> <span class="variable">OUTPUT</span>                <span class="comment"># wait for sort to finish</span>
        <span class="keyword">or</span> <span class="keyword">warn</span> <span class="variable">$!</span> <span class="operator">?</span> <span class="string">"Error closing sort pipe: $!"</span>
                   <span class="operator">:</span> <span class="string">"Exit status $? from sort"</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">INPUT</span><span class="operator">,</span> <span class="string">'foo'</span><span class="operator">)</span>          <span class="comment"># get sort's results</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open 'foo' for input: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>FILEHANDLE may be an expression whose value can be used as an indirect
filehandle, usually the real filehandle name.</p>
</dd>
</li>
<dt><strong><a name="closedir" class="item">closedir DIRHANDLE</a></strong>

<dd>
<p>Closes a directory opened by <a href="#opendir"><code>opendir</code></a> and returns the success of that
system call.</p>
</dd>
</li>
<dt><strong><a name="connect" class="item">connect SOCKET,NAME</a></strong>

<dd>
<p>Attempts to connect to a remote socket, just as the connect system call
does.  Returns true if it succeeded, false otherwise.  NAME should be a
packed address of the appropriate type for the socket.  See the examples in
<a href="../../lib/pods/perlipc.html#sockets__client_server_communication">Sockets: Client/Server Communication in the perlipc manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="continue" class="item">continue BLOCK</a></strong>

<dt><strong>continue</strong>

<dd>
<p><a href="#continue"><code>continue</code></a> is actually a flow control statement rather than a function.  If
there is a <a href="#continue"><code>continue</code></a> BLOCK attached to a BLOCK (typically in a <code>while</code> or
<code>foreach</code>), it is always executed just before the conditional is about to
be evaluated again, just like the third part of a <code>for</code> loop in C.  Thus
it can be used to increment a loop variable, even when the loop has been
continued via the <a href="#next"><code>next</code></a> statement (which is similar to the C <a href="#continue"><code>continue</code></a>
statement).</p>
</dd>
<dd>
<p><a href="#last"><code>last</code></a>, <a href="#next"><code>next</code></a>, or <a href="#redo"><code>redo</code></a> may appear within a <a href="#continue"><code>continue</code></a>
block.  <a href="#last"><code>last</code></a> and <a href="#redo"><code>redo</code></a> will behave as if they had been executed within
the main block.  So will <a href="#next"><code>next</code></a>, but since it will execute a <a href="#continue"><code>continue</code></a>
block, it may be more entertaining.</p>
</dd>
<dd>
<pre>
    <span class="keyword">while</span> <span class="operator">(</span><span class="variable">EXPR</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="comment">### redo always comes here</span>
        <span class="variable">do_something</span><span class="operator">;</span>
    <span class="operator">}</span> <span class="keyword">continue</span> <span class="operator">{</span>
        <span class="comment">### next always comes here</span>
        <span class="variable">do_something_else</span><span class="operator">;</span>
        <span class="comment"># then back the top to re-check EXPR</span>
    <span class="operator">}</span>
    <span class="comment">### last always comes here</span>
</pre>
</dd>
<dd>
<p>Omitting the <a href="#continue"><code>continue</code></a> section is semantically equivalent to using an
empty one, logically enough.  In that case, <a href="#next"><code>next</code></a> goes directly back
to check the condition at the top of the loop.</p>
</dd>
<dd>
<p>If the &quot;switch&quot; feature is enabled, <a href="#continue"><code>continue</code></a> is also a
function that will break out of the current <code>when</code> or <code>default</code>
block, and fall through to the next case. See <a href="../../lib/feature.html">the feature manpage</a> and
<a href="../../lib/pods/perlsyn.html#switch_statements">Switch statements in the perlsyn manpage</a> for more information.</p>
</dd>
</li>
<dt><strong><a name="cos" class="item">cos EXPR</a></strong>

<dt><strong>cos</strong>

<dd>
<p>Returns the cosine of EXPR (expressed in radians).  If EXPR is omitted,
takes cosine of <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
<dd>
<p>For the inverse cosine operation, you may use the <code>Math::Trig::acos()</code>
function, or use this relation:</p>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> acos </span><span class="operator">{</span> <span class="keyword">atan2</span><span class="operator">(</span> <span class="keyword">sqrt</span><span class="operator">(</span><span class="number">1</span> <span class="operator">-</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">*</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">),</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">)</span> <span class="operator">}</span>
</pre>
</dd>
</li>
<dt><strong><a name="crypt" class="item">crypt PLAINTEXT,SALT</a></strong>

<dd>
<p>Creates a digest string exactly like the <a href="#crypt"><code>crypt(3)</code></a> function in the C
library (assuming that you actually have a version there that has not
been extirpated as a potential munitions).</p>
</dd>
<dd>
<p><a href="#crypt"><code>crypt()</code></a> is a one-way hash function.  The PLAINTEXT and SALT is turned
into a short string, called a digest, which is returned.  The same
PLAINTEXT and SALT will always return the same string, but there is no
(known) way to get the original PLAINTEXT from the hash.  Small
changes in the PLAINTEXT or SALT will result in large changes in the
digest.</p>
</dd>
<dd>
<p>There is no decrypt function.  This function isn't all that useful for
cryptography (for that, look for <em class="file">Crypt</em> modules on your nearby CPAN
mirror) and the name &quot;crypt&quot; is a bit of a misnomer.  Instead it is
primarily used to check if two pieces of text are the same without
having to transmit or store the text itself.  An example is checking
if a correct password is given.  The digest of the password is stored,
not the password itself.  The user types in a password that is
crypt()'d with the same salt as the stored digest.  If the two digests
match the password is correct.</p>
</dd>
<dd>
<p>When verifying an existing digest string you should use the digest as
the salt (like <a href="#crypt"><code>crypt($plain, $digest) eq $digest</code></a>).  The SALT used
to create the digest is visible as part of the digest.  This ensures
<a href="#crypt"><code>crypt()</code></a> will hash the new string with the same salt as the digest.
This allows your code to work with the standard <a href="#crypt">crypt</a> and
with more exotic implementations.  In other words, do not assume
anything about the returned string itself, or how many bytes in the
digest matter.</p>
</dd>
<dd>
<p>Traditionally the result is a string of 13 bytes: two first bytes of
the salt, followed by 11 bytes from the set <code>[./0-9A-Za-z]</code>, and only
the first eight bytes of the digest string mattered, but alternative
hashing schemes (like MD5), higher level security schemes (like C2),
and implementations on non-UNIX platforms may produce different
strings.</p>
</dd>
<dd>
<p>When choosing a new salt create a random two character string whose
characters come from the set <code>[./0-9A-Za-z]</code> (like <code>join '', ('.',
'/', 0..9, 'A'..'Z', 'a'..'z')[rand 64, rand 64]</code>).  This set of
characters is just a recommendation; the characters allowed in
the salt depend solely on your system's crypt library, and Perl can't
restrict what salts <a href="#crypt"><code>crypt()</code></a> accepts.</p>
</dd>
<dd>
<p>Here's an example that makes sure that whoever runs this program knows
their password:</p>
</dd>
<dd>
<pre>
    <span class="variable">$pwd</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">getpwuid</span><span class="operator">(</span><span class="variable">$&lt;</span><span class="operator">))</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">system</span> <span class="string">"stty -echo"</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Password: "</span><span class="operator">;</span>
    <span class="keyword">chomp</span><span class="operator">(</span><span class="variable">$word</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;);</span>
    <span class="keyword">print</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="keyword">system</span> <span class="string">"stty echo"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">crypt</span><span class="operator">(</span><span class="variable">$word</span><span class="operator">,</span> <span class="variable">$pwd</span><span class="operator">)</span> <span class="keyword">ne</span> <span class="variable">$pwd</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">die</span> <span class="string">"Sorry...\n"</span><span class="operator">;</span>
    <span class="operator">}</span> <span class="keyword">else</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"ok\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Of course, typing in your own password to whoever asks you
for it is unwise.</p>
</dd>
<dd>
<p>The <a href="#crypt">crypt</a> function is unsuitable for hashing large quantities
of data, not least of all because you can't get the information
back.  Look at the <a href="../../lib/Digest.html">the Digest manpage</a> module for more robust algorithms.</p>
</dd>
<dd>
<p>If using <a href="#crypt"><code>crypt()</code></a> on a Unicode string (which <em>potentially</em> has
characters with codepoints above 255), Perl tries to make sense
of the situation by trying to downgrade (a copy of the string)
the string back to an eight-bit byte string before calling <a href="#crypt"><code>crypt()</code></a>
(on that copy).  If that works, good.  If not, <a href="#crypt"><code>crypt()</code></a> dies with
<code>Wide character in crypt</code>.</p>
</dd>
</li>
<dt><strong><a name="dbmclose" class="item">dbmclose HASH</a></strong>

<dd>
<p>[This function has been largely superseded by the <a href="#untie"><code>untie</code></a> function.]</p>
</dd>
<dd>
<p>Breaks the binding between a DBM file and a hash.</p>
</dd>
</li>
<dt><strong><a name="dbmopen" class="item">dbmopen HASH,DBNAME,MASK</a></strong>

<dd>
<p>[This function has been largely superseded by the <a href="#tie"><code>tie</code></a> function.]</p>
</dd>
<dd>
<p>This binds a <code>dbm(3)</code>, <code>ndbm(3)</code>, <code>sdbm(3)</code>, <code>gdbm(3)</code>, or Berkeley DB file to a
hash.  HASH is the name of the hash.  (Unlike normal <a href="#open"><code>open</code></a>, the first
argument is <em>not</em> a filehandle, even though it looks like one).  DBNAME
is the name of the database (without the <em class="file">.dir</em> or <em class="file">.pag</em> extension if
any).  If the database does not exist, it is created with protection
specified by MASK (as modified by the <a href="#umask"><code>umask</code></a>).  If your system supports
only the older DBM functions, you may perform only one <a href="#dbmopen"><code>dbmopen</code></a> in your
program.  In older versions of Perl, if your system had neither DBM nor
ndbm, calling <a href="#dbmopen"><code>dbmopen</code></a> produced a fatal error; it now falls back to
<code>sdbm(3)</code>.</p>
</dd>
<dd>
<p>If you don't have write access to the DBM file, you can only read hash
variables, not set them.  If you want to test whether you can write,
either use file tests or try setting a dummy hash entry inside an <a href="#eval"><code>eval</code></a>,
which will trap the error.</p>
</dd>
<dd>
<p>Note that functions such as <a href="#keys"><code>keys</code></a> and <a href="#values"><code>values</code></a> may return huge lists
when used on large DBM files.  You may prefer to use the <a href="#each"><code>each</code></a>
function to iterate over large DBM files.  Example:</p>
</dd>
<dd>
<pre>
    <span class="comment"># print out history file offsets</span>
    <span class="keyword">dbmopen</span><span class="operator">(</span><span class="variable">%HIST</span><span class="operator">,</span><span class="string">'/usr/lib/news/history'</span><span class="operator">,</span><span class="number">0666</span><span class="operator">);</span>
    <span class="keyword">while</span> <span class="operator">((</span><span class="variable">$key</span><span class="operator">,</span><span class="variable">$val</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">each</span> <span class="variable">%HIST</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="variable">$key</span><span class="operator">,</span> <span class="string">' = '</span><span class="operator">,</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">'L'</span><span class="operator">,</span><span class="variable">$val</span><span class="operator">),</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">dbmclose</span><span class="operator">(</span><span class="variable">%HIST</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>See also <a href="../../lib/AnyDBM_File.html">the AnyDBM_File manpage</a> for a more general description of the pros and
cons of the various dbm approaches, as well as <em>DB_File</em> for a particularly
rich implementation.</p>
</dd>
<dd>
<p>You can control which DBM library you use by loading that library
before you call dbmopen():</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">DB_File</span><span class="operator">;</span>
    <span class="keyword">dbmopen</span><span class="operator">(</span><span class="variable">%NS_Hist</span><span class="operator">,</span> <span class="string">"</span><span class="variable">$ENV</span><span class="string">{HOME}/.netscape/history.db"</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open netscape history file: $!"</span><span class="operator">;</span>
</pre>
</dd>
</li>
<dt><strong><a name="defined" class="item">defined EXPR</a></strong>

<dt><strong>defined</strong>

<dd>
<p>Returns a Boolean value telling whether EXPR has a value other than
the undefined value <a href="#undef"><code>undef</code></a>.  If EXPR is not present, <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> will be
checked.</p>
</dd>
<dd>
<p>Many operations return <a href="#undef"><code>undef</code></a> to indicate failure, end of file,
system error, uninitialized variable, and other exceptional
conditions.  This function allows you to distinguish <a href="#undef"><code>undef</code></a> from
other values.  (A simple Boolean test will not distinguish among
<a href="#undef"><code>undef</code></a>, zero, the empty string, and <code>&quot;0&quot;</code>, which are all equally
false.)  Note that since <a href="#undef"><code>undef</code></a> is a valid scalar, its presence
doesn't <em>necessarily</em> indicate an exceptional condition: <a href="#pop"><code>pop</code></a>
returns <a href="#undef"><code>undef</code></a> when its argument is an empty array, <em>or</em> when the
element to return happens to be <a href="#undef"><code>undef</code></a>.</p>
</dd>
<dd>
<p>You may also use <a href="#defined"><code>defined(&amp;func)</code></a> to check whether subroutine <code>&amp;func</code>
has ever been defined.  The return value is unaffected by any forward
declarations of <code>&amp;func</code>.  Note that a subroutine which is not defined
may still be callable: its package may have an <code>AUTOLOAD</code> method that
makes it spring into existence the first time that it is called -- see
<a href="../../lib/pods/perlsub.html">the perlsub manpage</a>.</p>
</dd>
<dd>
<p>Use of <a href="#defined"><code>defined</code></a> on aggregates (hashes and arrays) is deprecated.  It
used to report whether memory for that aggregate has ever been
allocated.  This behavior may disappear in future versions of Perl.
You should instead use a simple test for size:</p>
</dd>
<dd>
<pre>
    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">@an_array</span><span class="operator">)</span> <span class="operator">{</span> <span class="keyword">print</span> <span class="string">"has array elements\n"</span> <span class="operator">}</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">%a_hash</span><span class="operator">)</span>   <span class="operator">{</span> <span class="keyword">print</span> <span class="string">"has hash members\n"</span>   <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>When used on a hash element, it tells you whether the value is defined,
not whether the key exists in the hash.  Use <a href="#exists">exists</a> for the latter
purpose.</p>
</dd>
<dd>
<p>Examples:</p>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="keyword">if</span> <span class="keyword">defined</span> <span class="variable">$switch</span><span class="operator">{</span><span class="string">'D'</span><span class="operator">}</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"</span><span class="variable">$val</span><span class="string">\n"</span> <span class="keyword">while</span> <span class="keyword">defined</span><span class="operator">(</span><span class="variable">$val</span> <span class="operator">=</span> <span class="keyword">pop</span><span class="operator">(</span><span class="variable">@ary</span><span class="operator">));</span>
    <span class="keyword">die</span> <span class="string">"Can't readlink </span><span class="variable">$sym</span><span class="string">: $!"</span>
        <span class="keyword">unless</span> <span class="keyword">defined</span><span class="operator">(</span><span class="variable">$value</span> <span class="operator">=</span> <span class="keyword">readlink</span> <span class="variable">$sym</span><span class="operator">);</span>
    <span class="keyword">sub</span><span class="variable"> foo </span><span class="operator">{</span> <span class="keyword">defined</span> <span class="operator">&amp;</span><span class="variable">$bar</span> <span class="operator">?</span> <span class="operator">&amp;</span><span class="variable">$bar</span><span class="operator">(</span><span class="variable">@_</span><span class="operator">)</span> <span class="operator">:</span> <span class="keyword">die</span> <span class="string">"No bar"</span><span class="operator">;</span> <span class="operator">}</span>
    <span class="variable">$debugging</span> <span class="operator">=</span> <span class="number">0</span> <span class="keyword">unless</span> <span class="keyword">defined</span> <span class="variable">$debugging</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Note:  Many folks tend to overuse <a href="#defined"><code>defined</code></a>, and then are surprised to
discover that the number <code>0</code> and <code>&quot;&quot;</code> (the zero-length string) are, in fact,
defined values.  For example, if you say</p>
</dd>
<dd>
<pre>
    <span class="string">"ab"</span> <span class="operator">=~</span> <span class="regex">/a(.*)b/</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>The pattern match succeeds, and <code>$1</code> is defined, despite the fact that it
matched &quot;nothing&quot;.  It didn't really fail to match anything.  Rather, it
matched something that happened to be zero characters long.  This is all
very above-board and honest.  When a function returns an undefined value,
it's an admission that it couldn't give you an honest answer.  So you
should use <a href="#defined"><code>defined</code></a> only when you're questioning the integrity of what
you're trying to do.  At other times, a simple comparison to <code>0</code> or <code>&quot;&quot;</code> is
what you want.</p>
</dd>
<dd>
<p>See also <a href="#undef">undef</a>, <a href="#exists">exists</a>, <a href="#ref">ref</a>.</p>
</dd>
</li>
<dt><strong><a name="delete" class="item">delete EXPR</a></strong>

<dd>
<p>Given an expression that specifies a hash element, array element, hash slice,
or array slice, deletes the specified element(s) from the hash or array.
In the case of an array, if the array elements happen to be at the end,
the size of the array will shrink to the highest element that tests
true for <a href="#exists"><code>exists()</code></a> (or 0 if no such element exists).</p>
</dd>
<dd>
<p>Returns a list with the same number of elements as the number of elements
for which deletion was attempted.  Each element of that list consists of
either the value of the element deleted, or the undefined value.  In scalar
context, this means that you get the value of the last element deleted (or
the undefined value if that element did not exist).</p>
</dd>
<dd>
<pre>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="operator">(</span><span class="string">foo</span> <span class="operator">=&gt;</span> <span class="number">11</span><span class="operator">,</span> <span class="string">bar</span> <span class="operator">=&gt;</span> <span class="number">22</span><span class="operator">,</span> <span class="string">baz</span> <span class="operator">=&gt;</span> <span class="number">33</span><span class="operator">);</span>
    <span class="variable">$scalar</span> <span class="operator">=</span> <span class="keyword">delete</span> <span class="variable">$hash</span><span class="operator">{</span><span class="string">foo</span><span class="operator">}</span><span class="operator">;</span>             <span class="comment"># $scalar is 11</span>
    <span class="variable">$scalar</span> <span class="operator">=</span> <span class="keyword">delete</span> <span class="variable">@hash</span><span class="operator">{</span><span class="string">qw(foo bar)</span><span class="operator">}</span><span class="operator">;</span>     <span class="comment"># $scalar is 22</span>
    <span class="variable">@array</span>  <span class="operator">=</span> <span class="keyword">delete</span> <span class="variable">@hash</span><span class="operator">{</span><span class="string">qw(foo bar baz)</span><span class="operator">}</span><span class="operator">;</span> <span class="comment"># @array  is (undef,undef,33)</span>
</pre>
</dd>
<dd>
<p>Deleting from <a href="../../lib/pods/perlvar.html#_env"><code>%ENV</code></a> modifies the environment.  Deleting from
a hash tied to a DBM file deletes the entry from the DBM file.  Deleting
from a <a href="#tie"><code>tie</code></a>d hash or array may not necessarily return anything.</p>
</dd>
<dd>
<p>Deleting an array element effectively returns that position of the array
to its initial, uninitialized state.  Subsequently testing for the same
element with <a href="#exists"><code>exists()</code></a> will return false.  Also, deleting array elements
in the middle of an array will not shift the index of the elements
after them down.  Use <a href="#splice"><code>splice()</code></a> for that.  See <a href="#exists">exists</a>.</p>
</dd>
<dd>
<p>The following (inefficiently) deletes all the values of %HASH and @ARRAY:</p>
</dd>
<dd>
<pre>
    <span class="keyword">foreach</span> <span class="variable">$key</span> <span class="operator">(</span><span class="keyword">keys</span> <span class="variable">%HASH</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">delete</span> <span class="variable">$HASH</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">foreach</span> <span class="variable">$index</span> <span class="operator">(</span><span class="number">0</span> <span class="operator">..</span> <span class="variable">$#ARRAY</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">delete</span> <span class="variable">$ARRAY</span><span class="operator">[</span><span class="variable">$index</span><span class="operator">]</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>And so do these:</p>
</dd>
<dd>
<pre>
    <span class="keyword">delete</span> <span class="variable">@HASH</span><span class="operator">{</span><span class="keyword">keys</span> <span class="variable">%HASH</span><span class="operator">}</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">delete</span> <span class="variable">@ARRAY</span><span class="operator">[</span><span class="number">0</span> <span class="operator">..</span> <span class="variable">$#ARRAY</span><span class="operator">]</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>But both of these are slower than just assigning the empty list
or undefining %HASH or @ARRAY:</p>
</dd>
<dd>
<pre>
    <span class="variable">%HASH</span> <span class="operator">=</span> <span class="operator">();</span>         <span class="comment"># completely empty %HASH</span>
    <span class="keyword">undef</span> <span class="variable">%HASH</span><span class="operator">;</span>        <span class="comment"># forget %HASH ever existed</span>
</pre>
</dd>
<dd>
<pre>
    <span class="variable">@ARRAY</span> <span class="operator">=</span> <span class="operator">();</span>        <span class="comment"># completely empty @ARRAY</span>
    <span class="keyword">undef</span> <span class="variable">@ARRAY</span><span class="operator">;</span>       <span class="comment"># forget @ARRAY ever existed</span>
</pre>
</dd>
<dd>
<p>Note that the EXPR can be arbitrarily complicated as long as the final
operation is a hash element, array element,  hash slice, or array slice
lookup:</p>
</dd>
<dd>
<pre>
    <span class="keyword">delete</span> <span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="variable">$x</span><span class="operator">][</span><span class="variable">$y</span><span class="operator">]{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>
    <span class="keyword">delete</span> <span class="variable">@</span><span class="operator">{</span><span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="variable">$x</span><span class="operator">][</span><span class="variable">$y</span><span class="operator">]}{</span><span class="variable">$key1</span><span class="operator">,</span> <span class="variable">$key2</span><span class="operator">,</span> <span class="variable">@morekeys</span><span class="operator">}</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">delete</span> <span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="variable">$x</span><span class="operator">][</span><span class="variable">$y</span><span class="operator">][</span><span class="variable">$index</span><span class="operator">]</span><span class="operator">;</span>
    <span class="keyword">delete</span> <span class="variable">@</span><span class="operator">{</span><span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="variable">$x</span><span class="operator">][</span><span class="variable">$y</span><span class="operator">]}[</span><span class="variable">$index1</span><span class="operator">,</span> <span class="variable">$index2</span><span class="operator">,</span> <span class="variable">@moreindices</span><span class="operator">]</span><span class="operator">;</span>
</pre>
</dd>
</li>
<dt><strong><a name="die" class="item">die LIST</a></strong>

<dd>
<p>Outside an <a href="#eval"><code>eval</code></a>, prints the value of LIST to <code>STDERR</code> and
exits with the current value of <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> (errno).  If <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> is <code>0</code>,
exits with the value of <code>($? &gt;&gt; 8)</code> (backtick `command`
status).  If <code>($? &gt;&gt; 8)</code> is <code>0</code>, exits with <code>255</code>.  Inside
an <a href="#eval"><code>eval(),</code></a> the error message is stuffed into <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a> and the
<a href="#eval"><code>eval</code></a> is terminated with the undefined value.  This makes
<a href="#die"><code>die</code></a> the way to raise an exception.</p>
</dd>
<dd>
<p>Equivalent examples:</p>
</dd>
<dd>
<pre>
    <span class="keyword">die</span> <span class="string">"Can't cd to spool: $!\n"</span> <span class="keyword">unless</span> <span class="keyword">chdir</span> <span class="string">'/usr/spool/news'</span><span class="operator">;</span>
    <span class="keyword">chdir</span> <span class="string">'/usr/spool/news'</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't cd to spool: $!\n"</span>
</pre>
</dd>
<dd>
<p>If the last element of LIST does not end in a newline, the current
script line number and input line number (if any) are also printed,
and a newline is supplied.  Note that the &quot;input line number&quot; (also
known as &quot;chunk&quot;) is subject to whatever notion of &quot;line&quot; happens to
be currently in effect, and is also available as the special variable
<a href="../../lib/pods/perlvar.html#__"><code>$.</code></a>.  See <a href="../../lib/pods/perlvar.html#__">$/ in the perlvar manpage</a> and <a href="../../lib/pods/perlvar.html#__">$. in the perlvar manpage</a>.</p>
</dd>
<dd>
<p>Hint: sometimes appending <code>&quot;, stopped&quot;</code> to your message will cause it
to make better sense when the string <code>&quot;at foo line 123&quot;</code> is appended.
Suppose you are running script &quot;canasta&quot;.</p>
</dd>
<dd>
<pre>
    <span class="keyword">die</span> <span class="string">"/etc/games is no good"</span><span class="operator">;</span>
    <span class="keyword">die</span> <span class="string">"/etc/games is no good, stopped"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>produce, respectively</p>
</dd>
<dd>
<pre>
    /etc/games is no good at canasta line 123.
    /etc/games is no good, stopped at canasta line 123.</pre>
</dd>
<dd>
<p>See also <a href="#exit"><code>exit()</code></a>, <a href="#warn"><code>warn()</code></a>, and the Carp module.</p>
</dd>
<dd>
<p>If LIST is empty and <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a> already contains a value (typically from a
previous eval) that value is reused after appending <code>&quot;\t...propagated&quot;</code>.
This is useful for propagating exceptions:</p>
</dd>
<dd>
<pre>
    <span class="keyword">eval</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">};</span>
    <span class="keyword">die</span> <span class="keyword">unless</span> <span class="variable">$@</span> <span class="operator">=~</span> <span class="regex">/Expected exception/</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>If LIST is empty and <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a> contains an object reference that has a
<code>PROPAGATE</code> method, that method will be called with additional file
and line number parameters.  The return value replaces the value in
<a href="../../lib/pods/perlvar.html#__"><code>$@</code></a>.  i.e. as if <code>$@ = eval { $@-&gt;PROPAGATE(__FILE__, __LINE__) };</code>
were called.</p>
</dd>
<dd>
<p>If <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a> is empty then the string <code>&quot;Died&quot;</code> is used.</p>
</dd>
<dd>
<p><a href="#die"><code>die()</code></a> can also be called with a reference argument.  If this happens to be
trapped within an <a href="#eval"><code>eval()</code></a>, $@ contains the reference.  This behavior permits
a more elaborate exception handling implementation using objects that
maintain arbitrary state about the nature of the exception.  Such a scheme
is sometimes preferable to matching particular string values of $@ using
regular expressions.  Because $@ is a global variable, and <a href="#eval"><code>eval()</code></a> may be
used within object implementations, care must be taken that analyzing the
error object doesn't replace the reference in the global variable.  The
easiest solution is to make a local copy of the reference before doing
other manipulations.  Here's an example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Scalar::Util</span> <span class="string">'blessed'</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">eval</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">;</span> <span class="keyword">die</span> <span class="variable">Some::Module::Exception</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span> <span class="string">FOO</span> <span class="operator">=&gt;</span> <span class="string">"bar"</span> <span class="operator">)</span> <span class="operator">};</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">my</span> <span class="variable">$ev_err</span> <span class="operator">=</span> <span class="variable">$@</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">if</span> <span class="operator">(</span><span class="variable">blessed</span><span class="operator">(</span><span class="variable">$ev_err</span><span class="operator">)</span> <span class="operator">&amp;&amp;</span> <span class="variable">$ev_err</span><span class="operator">-&gt;</span><span class="variable">isa</span><span class="operator">(</span><span class="string">"Some::Module::Exception"</span><span class="operator">))</span> <span class="operator">{</span>
            <span class="comment"># handle Some::Module::Exception</span>
        <span class="operator">}</span>
        <span class="keyword">else</span> <span class="operator">{</span>
            <span class="comment"># handle all other possible exceptions</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Because perl will stringify uncaught exception messages before displaying
them, you may want to overload stringification operations on such custom
exception objects.  See <a href="../../lib/overload.html">the overload manpage</a> for details about that.</p>
</dd>
<dd>
<p>You can arrange for a callback to be run just before the <a href="#die"><code>die</code></a>
does its deed, by setting the <code>$SIG{__DIE__}</code> hook.  The associated
handler will be called with the error text and can change the error
message, if it sees fit, by calling <a href="#die"><code>die</code></a> again.  See
<a href="../../lib/pods/perlvar.html#_sig_expr_">$SIG{expr} in the perlvar manpage</a> for details on setting <a href="../../lib/pods/perlvar.html#_sig"><code>%SIG</code></a> entries, and
<a href="#eval">eval BLOCK</a> for some examples.  Although this feature was 
to be run only right before your program was to exit, this is not
currently the case--the <code>$SIG{__DIE__}</code> hook is currently called
even inside eval()ed blocks/strings!  If one wants the hook to do
nothing in such situations, put</p>
</dd>
<dd>
<pre>
        <span class="keyword">die</span> <span class="variable">@_</span> <span class="keyword">if</span> <span class="variable">$^S</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>as the first line of the handler (see <a href="../../lib/pods/perlvar.html#__s">$^S in the perlvar manpage</a>).  Because
this promotes strange action at a distance, this counterintuitive
behavior may be fixed in a future release.</p>
</dd>
</li>
<dt><strong><a name="do" class="item">do BLOCK</a></strong>

<dd>
<p>Not really a function.  Returns the value of the last command in the
sequence of commands indicated by BLOCK.  When modified by the <code>while</code> or
<code>until</code> loop modifier, executes the BLOCK once before testing the loop
condition. (On other statements the loop modifiers test the conditional
first.)</p>
</dd>
<dd>
<p><a href="#do"><code>do BLOCK</code></a> does <em>not</em> count as a loop, so the loop control statements
<a href="#next"><code>next</code></a>, <a href="#last"><code>last</code></a>, or <a href="#redo"><code>redo</code></a> cannot be used to leave or restart the block.
See <a href="../../lib/pods/perlsyn.html">the perlsyn manpage</a> for alternative strategies.</p>
</dd>
</li>
<dt><strong><a name="subroutine" class="item">do SUBROUTINE(LIST)</a></strong>

<dd>
<p>This form of subroutine call is deprecated.  See <a href="../../lib/pods/perlsub.html">the perlsub manpage</a>.</p>
</dd>
</li>
<dt><strong>do EXPR</strong>

<dd>
<p>Uses the value of EXPR as a filename and executes the contents of the
file as a Perl script.</p>
</dd>
<dd>
<pre>
    <span class="keyword">do</span> <span class="string">'stat.pl'</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>is just like</p>
</dd>
<dd>
<pre>
    <span class="keyword">eval</span> <span class="string">`cat stat.pl`</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>except that it's more efficient and concise, keeps track of the current
filename for error messages, searches the @INC directories, and updates
<a href="../../lib/pods/perlvar.html#_inc"><code>%INC</code></a> if the file is found.  See <a href="../../lib/pods/perlvar.html#predefined_names">Predefined Names in the perlvar manpage</a> for these
variables.  It also differs in that code evaluated with <a href="#do"><code>do FILENAME</code></a>
cannot see lexicals in the enclosing scope; <a href="#eval"><code>eval STRING</code></a> does.  It's the
same, however, in that it does reparse the file every time you call it,
so you probably don't want to do this inside a loop.</p>
</dd>
<dd>
<p>If <a href="#do"><code>do</code></a> cannot read the file, it returns undef and sets <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> to the
error.  If <a href="#do"><code>do</code></a> can read the file but cannot compile it, it
returns undef and sets an error message in <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a>.   If the file is
successfully compiled, <a href="#do"><code>do</code></a> returns the value of the last expression
evaluated.</p>
</dd>
<dd>
<p>Note that inclusion of library modules is better done with the
<a href="#use"><code>use</code></a> and <a href="#require"><code>require</code></a> operators, which also do automatic error checking
and raise an exception if there's a problem.</p>
</dd>
<dd>
<p>You might like to use <a href="#do"><code>do</code></a> to read in a program configuration
file.  Manual error checking can be done this way:</p>
</dd>
<dd>
<pre>
    <span class="comment"># read in config files: system first, then user</span>
    <span class="keyword">for</span> <span class="variable">$file</span> <span class="operator">(</span><span class="string">"/share/prog/defaults.rc"</span><span class="operator">,</span>
               <span class="string">"</span><span class="variable">$ENV</span><span class="string">{HOME}/.someprogrc"</span><span class="operator">)</span>
       <span class="operator">{</span>
        <span class="keyword">unless</span> <span class="operator">(</span><span class="variable">$return</span> <span class="operator">=</span> <span class="keyword">do</span> <span class="variable">$file</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword">warn</span> <span class="string">"couldn't parse </span><span class="variable">$file</span><span class="string">: $@"</span> <span class="keyword">if</span> <span class="variable">$@</span><span class="operator">;</span>
            <span class="keyword">warn</span> <span class="string">"couldn't do </span><span class="variable">$file</span><span class="string">: $!"</span>    <span class="keyword">unless</span> <span class="keyword">defined</span> <span class="variable">$return</span><span class="operator">;</span>
            <span class="keyword">warn</span> <span class="string">"couldn't run </span><span class="variable">$file</span><span class="string">"</span>       <span class="keyword">unless</span> <span class="variable">$return</span><span class="operator">;</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
</pre>
</dd>
</li>
<dt><strong><a name="dump" class="item">dump LABEL</a></strong>

<dt><strong>dump</strong>

<dd>
<p>This function causes an immediate core dump.  See also the <strong>-u</strong>
command-line switch in <a href="../../lib/pods/perlrun.html">the perlrun manpage</a>, which does the same thing.
Primarily this is so that you can use the <strong>undump</strong> program (not
supplied) to turn your core dump into an executable binary after
having initialized all your variables at the beginning of the
program.  When the new binary is executed it will begin by executing
a <a href="#goto"><code>goto LABEL</code></a> (with all the restrictions that <a href="#goto"><code>goto</code></a> suffers).
Think of it as a goto with an intervening core dump and reincarnation.
If <code>LABEL</code> is omitted, restarts the program from the top.</p>
</dd>
<dd>
<p><strong>WARNING</strong>: Any files opened at the time of the dump will <em>not</em>
be open any more when the program is reincarnated, with possible
resulting confusion on the part of Perl.</p>
</dd>
<dd>
<p>This function is now largely obsolete, mostly because it's very hard to
convert a core file into an executable. That's why you should now invoke
it as <a href="#dump"><code>CORE::dump()</code></a>, if you don't want to be warned against a possible
typo.</p>
</dd>
</li>
<dt><strong><a name="each" class="item">each HASH</a></strong>

<dd>
<p>When called in list context, returns a 2-element list consisting of the
key and value for the next element of a hash, so that you can iterate over
it.  When called in scalar context, returns only the key for the next
element in the hash.</p>
</dd>
<dd>
<p>Entries are returned in an apparently random order.  The actual random
order is subject to change in future versions of perl, but it is
guaranteed to be in the same order as either the <a href="#keys"><code>keys</code></a> or <a href="#values"><code>values</code></a>
function would produce on the same (unmodified) hash.  Since Perl
5.8.1 the ordering is different even between different runs of Perl
for security reasons (see <a href="../../lib/pods/perlsec.html#algorithmic_complexity_attacks">Algorithmic Complexity Attacks in the perlsec manpage</a>).</p>
</dd>
<dd>
<p>When the hash is entirely read, a null array is returned in list context
(which when assigned produces a false (<code>0</code>) value), and <a href="#undef"><code>undef</code></a> in
scalar context.  The next call to <a href="#each"><code>each</code></a> after that will start iterating
again.  There is a single iterator for each hash, shared by all <a href="#each"><code>each</code></a>,
<a href="#keys"><code>keys</code></a>, and <a href="#values"><code>values</code></a> function calls in the program; it can be reset by
reading all the elements from the hash, or by evaluating <a href="#keys"><code>keys HASH</code></a> or
<a href="#values"><code>values HASH</code></a>.  If you add or delete elements of a hash while you're
iterating over it, you may get entries skipped or duplicated, so
don't.  Exception: It is always safe to delete the item most recently
returned by <a href="#each"><code>each()</code></a>, which means that the following code will work:</p>
</dd>
<dd>
<pre>
        <span class="keyword">while</span> <span class="operator">((</span><span class="variable">$key</span><span class="operator">,</span> <span class="variable">$value</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">each</span> <span class="variable">%hash</span><span class="operator">)</span> <span class="operator">{</span>
          <span class="keyword">print</span> <span class="variable">$key</span><span class="operator">,</span> <span class="string">"\n"</span><span class="operator">;</span>
          <span class="keyword">delete</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>   <span class="comment"># This is safe</span>
        <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>The following prints out your environment like the <code>printenv(1)</code> program,
only in a different order:</p>
</dd>
<dd>
<pre>
    <span class="keyword">while</span> <span class="operator">((</span><span class="variable">$key</span><span class="operator">,</span><span class="variable">$value</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">each</span> <span class="variable">%ENV</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"</span><span class="variable">$key</span><span class="string">=</span><span class="variable">$value</span><span class="string">\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>See also <a href="#keys"><code>keys</code></a>, <a href="#values"><code>values</code></a> and <a href="#sort"><code>sort</code></a>.</p>
</dd>
</li>
<dt><strong><a name="eof" class="item">eof FILEHANDLE</a></strong>

<dt><strong>eof ()</strong>

<dt><strong>eof</strong>

<dd>
<p>Returns 1 if the next read on FILEHANDLE will return end of file, or if
FILEHANDLE is not open.  FILEHANDLE may be an expression whose value
gives the real filehandle.  (Note that this function actually
reads a character and then <code>ungetc</code>s it, so isn't very useful in an
interactive context.)  Do not read from a terminal file (or call
<a href="#eof"><code>eof(FILEHANDLE)</code></a> on it) after end-of-file is reached.  File types such
as terminals may lose the end-of-file condition if you do.</p>
</dd>
<dd>
<p>An <a href="#eof"><code>eof</code></a> without an argument uses the last file read.  Using <a href="#eof"><code>eof()</code></a>
with empty parentheses is very different.  It refers to the pseudo file
formed from the files listed on the command line and accessed via the
<code>&lt;&gt;</code> operator.  Since <code>&lt;&gt;</code> isn't explicitly opened,
as a normal filehandle is, an <a href="#eof"><code>eof()</code></a> before <code>&lt;&gt;</code> has been
used will cause <a href="../../lib/pods/perlvar.html#_argv"><code>@ARGV</code></a> to be examined to determine if input is
available.   Similarly, an <a href="#eof"><code>eof()</code></a> after <code>&lt;&gt;</code> has returned
end-of-file will assume you are processing another <a href="../../lib/pods/perlvar.html#_argv"><code>@ARGV</code></a> list,
and if you haven't set <a href="../../lib/pods/perlvar.html#_argv"><code>@ARGV</code></a>, will read input from <code>STDIN</code>;
see <a href="../../lib/pods/perlop.html#i_o_operators">I/O Operators in the perlop manpage</a>.</p>
</dd>
<dd>
<p>In a <code>while (&lt;&gt;)</code> loop, <a href="#eof"><code>eof</code></a> or <a href="#eof"><code>eof(ARGV)</code></a> can be used to
detect the end of each file, <a href="#eof"><code>eof()</code></a> will only detect the end of the
last file.  Examples:</p>
</dd>
<dd>
<pre>
    <span class="comment"># reset line numbering on each input file</span>
    <span class="keyword">while</span> <span class="operator">(&lt;&gt;)</span> <span class="operator">{</span>
        <span class="keyword">next</span> <span class="keyword">if</span> <span class="regex">/^\s*#/</span><span class="operator">;</span>        <span class="comment"># skip comments</span>
        <span class="keyword">print</span> <span class="string">"$.\t</span><span class="variable">$_</span><span class="string">"</span><span class="operator">;</span>
    <span class="operator">}</span> <span class="keyword">continue</span> <span class="operator">{</span>
        <span class="keyword">close</span> <span class="variable">ARGV</span>  <span class="keyword">if</span> <span class="keyword">eof</span><span class="operator">;</span>     <span class="comment"># Not eof()!</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># insert dashes just before last line of last file</span>
    <span class="keyword">while</span> <span class="operator">(&lt;&gt;)</span> <span class="operator">{</span>
        <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">eof</span><span class="operator">())</span> <span class="operator">{</span>            <span class="comment"># check for end of last file</span>
            <span class="keyword">print</span> <span class="string">"--------------\n"</span><span class="operator">;</span>
        <span class="operator">}</span>
        <span class="keyword">print</span><span class="operator">;</span>
        <span class="keyword">last</span> <span class="keyword">if</span> <span class="keyword">eof</span><span class="operator">();</span>          <span class="comment"># needed if we're reading from a terminal</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Practical hint: you almost never need to use <a href="#eof"><code>eof</code></a> in Perl, because the
input operators typically return <a href="#undef"><code>undef</code></a> when they run out of data, or if
there was an error.</p>
</dd>
</li>
<dt><strong><a name="eval" class="item">eval EXPR</a></strong>

<dt><strong>eval BLOCK</strong>

<dt><strong>eval</strong>

<dd>
<p>In the first form, the return value of EXPR is parsed and executed as if it
were a little Perl program.  The value of the expression (which is itself
determined within scalar context) is first parsed, and if there weren't any
errors, executed in the lexical context of the current Perl program, so
that any variable settings or subroutine and format definitions remain
afterwards.  Note that the value is parsed every time the <a href="#eval"><code>eval</code></a> executes.
If EXPR is omitted, evaluates <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.  This form is typically used to
delay parsing and subsequent execution of the text of EXPR until run time.</p>
</dd>
<dd>
<p>In the second form, the code within the BLOCK is parsed only once--at the
same time the code surrounding the <a href="#eval"><code>eval</code></a> itself was parsed--and executed
within the context of the current Perl program.  This form is typically
used to trap exceptions more efficiently than the first (see below), while
also providing the benefit of checking the code within BLOCK at compile
time.</p>
</dd>
<dd>
<p>The final semicolon, if any, may be omitted from the value of EXPR or within
the BLOCK.</p>
</dd>
<dd>
<p>In both forms, the value returned is the value of the last expression
evaluated inside the mini-program; a return statement may be also used, just
as with subroutines.  The expression providing the return value is evaluated
in void, scalar, or list context, depending on the context of the <a href="#eval"><code>eval</code></a> 
itself.  See <a href="#wantarray">wantarray</a> for more on how the evaluation context can be 
determined.</p>
</dd>
<dd>
<p>If there is a syntax error or runtime error, or a <a href="#die"><code>die</code></a> statement is
executed, an undefined value is returned by <a href="#eval"><code>eval</code></a>, and <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a> is set to the
error message.  If there was no error, <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a> is guaranteed to be a null
string.  Beware that using <a href="#eval"><code>eval</code></a> neither silences perl from printing
warnings to STDERR, nor does it stuff the text of warning messages into <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a>.
To do either of those, you have to use the <code>$SIG{__WARN__}</code> facility, or
turn off warnings inside the BLOCK or EXPR using <code>no&nbsp;warnings&nbsp;'all'</code>.
See <a href="#warn">warn</a>, <a href="../../lib/pods/perlvar.html">the perlvar manpage</a>, <a href="../../lib/warnings.html">the warnings manpage</a> and <a href="../../lib/pods/perllexwarn.html">the perllexwarn manpage</a>.</p>
</dd>
<dd>
<p>Note that, because <a href="#eval"><code>eval</code></a> traps otherwise-fatal errors, it is useful for
determining whether a particular feature (such as <a href="#socket"><code>socket</code></a> or <a href="#symlink"><code>symlink</code></a>)
is implemented.  It is also Perl's exception trapping mechanism, where
the die operator is used to raise exceptions.</p>
</dd>
<dd>
<p>If the code to be executed doesn't vary, you may use the eval-BLOCK
form to trap run-time errors without incurring the penalty of
recompiling each time.  The error, if any, is still returned in <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a>.
Examples:</p>
</dd>
<dd>
<pre>
    <span class="comment"># make divide-by-zero nonfatal</span>
    <span class="keyword">eval</span> <span class="operator">{</span> <span class="variable">$answer</span> <span class="operator">=</span> <span class="variable">$a</span> <span class="operator">/</span> <span class="variable">$b</span><span class="operator">;</span> <span class="operator">};</span> <span class="keyword">warn</span> <span class="variable">$@</span> <span class="keyword">if</span> <span class="variable">$@</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># same thing, but less efficient</span>
    <span class="keyword">eval</span> <span class="string">'$answer = $a / $b'</span><span class="operator">;</span> <span class="keyword">warn</span> <span class="variable">$@</span> <span class="keyword">if</span> <span class="variable">$@</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># a compile-time error</span>
    <span class="keyword">eval</span> <span class="operator">{</span> <span class="variable">$answer</span> <span class="operator">=</span> <span class="operator">};</span>                 <span class="comment"># WRONG</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># a run-time error</span>
    <span class="keyword">eval</span> <span class="string">'$answer ='</span><span class="operator">;</span>   <span class="comment"># sets $@</span>
</pre>
</dd>
<dd>
<p>Using the <a href="#eval"><code>eval{}</code></a> form as an exception trap in libraries does have some
issues.  Due to the current arguably broken state of <code>__DIE__</code> hooks, you
may wish not to trigger any <code>__DIE__</code> hooks that user code may have installed.
You can use the <code>local $SIG{__DIE__}</code> construct for this purpose,
as shown in this example:</p>
</dd>
<dd>
<pre>
    <span class="comment"># a very private exception trap for divide-by-zero</span>
    <span class="keyword">eval</span> <span class="operator">{</span> <span class="keyword">local</span> <span class="variable">$SIG</span><span class="operator">{</span><span class="string">'__DIE__'</span><span class="operator">}</span><span class="operator">;</span> <span class="variable">$answer</span> <span class="operator">=</span> <span class="variable">$a</span> <span class="operator">/</span> <span class="variable">$b</span><span class="operator">;</span> <span class="operator">};</span>
    <span class="keyword">warn</span> <span class="variable">$@</span> <span class="keyword">if</span> <span class="variable">$@</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>This is especially significant, given that <code>__DIE__</code> hooks can call
<a href="#die"><code>die</code></a> again, which has the effect of changing their error messages:</p>
</dd>
<dd>
<pre>
    <span class="comment"># __DIE__ hooks may modify error messages</span>
    <span class="operator">{</span>
       <span class="keyword">local</span> <span class="variable">$SIG</span><span class="operator">{</span><span class="string">'__DIE__'</span><span class="operator">}</span> <span class="operator">=</span>
              <span class="keyword">sub</span><span class="variable"> </span><span class="operator">{</span> <span class="operator">(</span><span class="keyword">my</span> <span class="variable">$x</span> <span class="operator">=</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span> <span class="operator">=~</span> <span class="regex">s/foo/bar/g</span><span class="operator">;</span> <span class="keyword">die</span> <span class="variable">$x</span> <span class="operator">};</span>
       <span class="keyword">eval</span> <span class="operator">{</span> <span class="keyword">die</span> <span class="string">"foo lives here"</span> <span class="operator">};</span>
       <span class="keyword">print</span> <span class="variable">$@</span> <span class="keyword">if</span> <span class="variable">$@</span><span class="operator">;</span>                <span class="comment"># prints "bar lives here"</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Because this promotes action at a distance, this counterintuitive behavior
may be fixed in a future release.</p>
</dd>
<dd>
<p>With an <a href="#eval"><code>eval</code></a>, you should be especially careful to remember what's
being looked at when:</p>
</dd>
<dd>
<pre>
    <span class="keyword">eval</span> <span class="variable">$x</span><span class="operator">;</span>            <span class="comment"># CASE 1</span>
    <span class="keyword">eval</span> <span class="string">"</span><span class="variable">$x</span><span class="string">"</span><span class="operator">;</span>          <span class="comment"># CASE 2</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">eval</span> <span class="string">'$x'</span><span class="operator">;</span>          <span class="comment"># CASE 3</span>
    <span class="keyword">eval</span> <span class="operator">{</span> <span class="variable">$x</span> <span class="operator">};</span>        <span class="comment"># CASE 4</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">eval</span> <span class="string">"\$</span><span class="variable">$x</span><span class="string">++"</span><span class="operator">;</span>      <span class="comment"># CASE 5</span>
    <span class="variable">$$x</span><span class="operator">++;</span>              <span class="comment"># CASE 6</span>
</pre>
</dd>
<dd>
<p>Cases 1 and 2 above behave identically: they run the code contained in
the variable $x.  (Although case 2 has misleading double quotes making
the reader wonder what else might be happening (nothing is).)  Cases 3
and 4 likewise behave in the same way: they run the code <a href="../../lib/pods/perlrun.html#x"><code>'$x'</code></a>, which
does nothing but return the value of $x.  (Case 4 is preferred for
purely visual reasons, but it also has the advantage of compiling at
compile-time instead of at run-time.)  Case 5 is a place where
normally you <em>would</em> like to use double quotes, except that in this
particular situation, you can just use symbolic references instead, as
in case 6.</p>
</dd>
<dd>
<p><a href="#eval"><code>eval BLOCK</code></a> does <em>not</em> count as a loop, so the loop control statements
<a href="#next"><code>next</code></a>, <a href="#last"><code>last</code></a>, or <a href="#redo"><code>redo</code></a> cannot be used to leave or restart the block.</p>
</dd>
<dd>
<p>Note that as a very special case, an <a href="#eval"><code>eval ''</code></a> executed within the <code>DB</code>
package doesn't see the usual surrounding lexical scope, but rather the
scope of the first non-DB piece of code that called it. You don't normally
need to worry about this unless you are writing a Perl debugger.</p>
</dd>
</li>
<dt><strong><a name="exec" class="item">exec LIST</a></strong>

<dt><strong>exec PROGRAM LIST</strong>

<dd>
<p>The <a href="#exec"><code>exec</code></a> function executes a system command <em>and never returns</em>--
use <a href="#system"><code>system</code></a> instead of <a href="#exec"><code>exec</code></a> if you want it to return.  It fails and
returns false only if the command does not exist <em>and</em> it is executed
directly instead of via your system's command shell (see below).</p>
</dd>
<dd>
<p>Since it's a common mistake to use <a href="#exec"><code>exec</code></a> instead of <a href="#system"><code>system</code></a>, Perl
warns you if there is a following statement which isn't <a href="#die"><code>die</code></a>, <a href="#warn"><code>warn</code></a>,
or <a href="#exit"><code>exit</code></a> (if <a href="../../lib/pods/perlrun.html#w"><code>-w</code></a> is set  -  but you always do that).   If you
<em>really</em> want to follow an <a href="#exec"><code>exec</code></a> with some other statement, you
can use one of these styles to avoid the warning:</p>
</dd>
<dd>
<pre>
    <span class="keyword">exec</span> <span class="operator">(</span><span class="string">'foo'</span><span class="operator">)</span>   <span class="keyword">or</span> <span class="keyword">print</span> <span class="variable">STDERR</span> <span class="string">"couldn't exec foo: $!"</span><span class="operator">;</span>
    <span class="operator">{</span> <span class="keyword">exec</span> <span class="operator">(</span><span class="string">'foo'</span><span class="operator">)</span> <span class="operator">};</span> <span class="keyword">print</span> <span class="variable">STDERR</span> <span class="string">"couldn't exec foo: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>If there is more than one argument in LIST, or if LIST is an array
with more than one value, calls <code>execvp(3)</code> with the arguments in LIST.
If there is only one scalar argument or an array with one element in it,
the argument is checked for shell metacharacters, and if there are any,
the entire argument is passed to the system's command shell for parsing
(this is <code>/bin/sh -c</code> on Unix platforms, but varies on other platforms).
If there are no shell metacharacters in the argument, it is split into
words and passed directly to <code>execvp</code>, which is more efficient.
Examples:</p>
</dd>
<dd>
<pre>
    <span class="keyword">exec</span> <span class="string">'/bin/echo'</span><span class="operator">,</span> <span class="string">'Your arguments are: '</span><span class="operator">,</span> <span class="variable">@ARGV</span><span class="operator">;</span>
    <span class="keyword">exec</span> <span class="string">"sort </span><span class="variable">$outfile</span><span class="string"> | uniq"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>If you don't really want to execute the first argument, but want to lie
to the program you are executing about its own name, you can specify
the program you actually want to run as an &quot;indirect object&quot; (without a
comma) in front of the LIST.  (This always forces interpretation of the
LIST as a multivalued list, even if there is only a single scalar in
the list.)  Example:</p>
</dd>
<dd>
<pre>
    <span class="variable">$shell</span> <span class="operator">=</span> <span class="string">'/bin/csh'</span><span class="operator">;</span>
    <span class="keyword">exec</span> <span class="variable">$shell</span> <span class="string">'-sh'</span><span class="operator">;</span>          <span class="comment"># pretend it's a login shell</span>
</pre>
</dd>
<dd>
<p>or, more directly,</p>
</dd>
<dd>
<pre>
    <span class="keyword">exec</span> <span class="operator">{</span><span class="string">'/bin/csh'</span><span class="operator">}</span> <span class="string">'-sh'</span><span class="operator">;</span>    <span class="comment"># pretend it's a login shell</span>
</pre>
</dd>
<dd>
<p>When the arguments get executed via the system shell, results will
be subject to its quirks and capabilities.  See <a href="../../lib/pods/perlop.html#_string_">`STRING` in the perlop manpage</a>
for details.</p>
</dd>
<dd>
<p>Using an indirect object with <a href="#exec"><code>exec</code></a> or <a href="#system"><code>system</code></a> is also more
secure.  This usage (which also works fine with system()) forces
interpretation of the arguments as a multivalued list, even if the
list had just one argument.  That way you're safe from the shell
expanding wildcards or splitting up words with whitespace in them.</p>
</dd>
<dd>
<pre>
    <span class="variable">@args</span> <span class="operator">=</span> <span class="operator">(</span> <span class="string">"echo surprise"</span> <span class="operator">);</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">exec</span> <span class="variable">@args</span><span class="operator">;</span>               <span class="comment"># subject to shell escapes</span>
                                <span class="comment"># if @args == 1</span>
    <span class="keyword">exec</span> <span class="operator">{</span> <span class="variable">$args</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">}</span> <span class="variable">@args</span><span class="operator">;</span>  <span class="comment"># safe even with one-arg list</span>
</pre>
</dd>
<dd>
<p>The first version, the one without the indirect object, ran the <em>echo</em>
program, passing it <code>&quot;surprise&quot;</code> an argument.  The second version
didn't--it tried to run a program literally called <em>&quot;echo surprise&quot;</em>,
didn't find it, and set <a href="../../lib/pods/perlvar.html#_"><code>$?</code></a> to a non-zero value indicating failure.</p>
</dd>
<dd>
<p>Beginning with v5.6.0, Perl will attempt to flush all files opened for
output before the exec, but this may not be supported on some platforms
(see <a href="../../lib/pods/perlport.html">the perlport manpage</a>).  To be safe, you may need to set <a href="../../lib/pods/perlvar.html#__"><code>$|</code></a> ($AUTOFLUSH
in English) or call the <a href="../../lib/pods/perlvar.html#autoflush"><code>autoflush()</code></a> method of <code>IO::Handle</code> on any
open handles in order to avoid lost output.</p>
</dd>
<dd>
<p>Note that <a href="#exec"><code>exec</code></a> will not call your <code>END</code> blocks, nor will it call
any <code>DESTROY</code> methods in your objects.</p>
</dd>
</li>
<dt><strong><a name="exists" class="item">exists EXPR</a></strong>

<dd>
<p>Given an expression that specifies a hash element or array element,
returns true if the specified element in the hash or array has ever
been initialized, even if the corresponding value is undefined.  The
element is not autovivified if it doesn't exist.</p>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="string">"Exists\n"</span>    <span class="keyword">if</span> <span class="keyword">exists</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Defined\n"</span>   <span class="keyword">if</span> <span class="keyword">defined</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"True\n"</span>      <span class="keyword">if</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="string">"Exists\n"</span>    <span class="keyword">if</span> <span class="keyword">exists</span> <span class="variable">$array</span><span class="operator">[</span><span class="variable">$index</span><span class="operator">]</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Defined\n"</span>   <span class="keyword">if</span> <span class="keyword">defined</span> <span class="variable">$array</span><span class="operator">[</span><span class="variable">$index</span><span class="operator">]</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"True\n"</span>      <span class="keyword">if</span> <span class="variable">$array</span><span class="operator">[</span><span class="variable">$index</span><span class="operator">]</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>A hash or array element can be true only if it's defined, and defined if
it exists, but the reverse doesn't necessarily hold true.</p>
</dd>
<dd>
<p>Given an expression that specifies the name of a subroutine,
returns true if the specified subroutine has ever been declared, even
if it is undefined.  Mentioning a subroutine name for exists or defined
does not count as declaring it.  Note that a subroutine which does not
exist may still be callable: its package may have an <code>AUTOLOAD</code>
method that makes it spring into existence the first time that it is
called -- see <a href="../../lib/pods/perlsub.html">the perlsub manpage</a>.</p>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="string">"Exists\n"</span>    <span class="keyword">if</span> <span class="keyword">exists</span> <span class="operator">&amp;</span><span class="variable">subroutine</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Defined\n"</span>   <span class="keyword">if</span> <span class="keyword">defined</span> <span class="operator">&amp;</span><span class="variable">subroutine</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Note that the EXPR can be arbitrarily complicated as long as the final
operation is a hash or array key lookup or subroutine name:</p>
</dd>
<dd>
<pre>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">A</span><span class="operator">}</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">B</span><span class="operator">}</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">)</span>  <span class="operator">{</span> <span class="operator">}</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$hash</span><span class="operator">{</span><span class="string">A</span><span class="operator">}{</span><span class="string">B</span><span class="operator">}{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">)</span>       <span class="operator">{</span> <span class="operator">}</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">A</span><span class="operator">}</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">B</span><span class="operator">}</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="variable">$ix</span><span class="operator">]</span><span class="operator">)</span>   <span class="operator">{</span> <span class="operator">}</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$hash</span><span class="operator">{</span><span class="string">A</span><span class="operator">}{</span><span class="string">B</span><span class="operator">}[</span><span class="variable">$ix</span><span class="operator">]</span><span class="operator">)</span>        <span class="operator">{</span> <span class="operator">}</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="operator">&amp;{</span><span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">A</span><span class="operator">}{</span><span class="string">B</span><span class="operator">}{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">})</span>   <span class="operator">{</span> <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Although the deepest nested array or hash will not spring into existence
just because its existence was tested, any intervening ones will.
Thus <code>$ref-&gt;{&quot;A&quot;}</code> and <code>$ref-&gt;{&quot;A&quot;}-&gt;{&quot;B&quot;}</code> will spring
into existence due to the existence test for the $key element above.
This happens anywhere the arrow operator is used, including even:</p>
</dd>
<dd>
<pre>
    <span class="keyword">undef</span> <span class="variable">$ref</span><span class="operator">;</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">"Some key"</span><span class="operator">}</span><span class="operator">)</span>      <span class="operator">{</span> <span class="operator">}</span>
    <span class="keyword">print</span> <span class="variable">$ref</span><span class="operator">;</span>             <span class="comment"># prints HASH(0x80d3d5c)</span>
</pre>
</dd>
<dd>
<p>This surprising autovivification in what does not at first--or even
second--glance appear to be an lvalue context may be fixed in a future
release.</p>
</dd>
<dd>
<p>Use of a subroutine call, rather than a subroutine name, as an argument
to <a href="#exists"><code>exists()</code></a> is an error.</p>
</dd>
<dd>
<pre>
    <span class="keyword">exists</span> <span class="operator">&amp;</span><span class="keyword">sub</span><span class="operator">;</span>        <span class="comment"># OK</span>
    <span class="keyword">exists</span> <span class="operator">&amp;</span><span class="keyword">sub</span><span class="operator">();</span>      <span class="comment"># Error</span>
</pre>
</dd>
</li>
<dt><strong><a name="exit" class="item">exit EXPR</a></strong>

<dt><strong>exit</strong>

<dd>
<p>Evaluates EXPR and exits immediately with that value.    Example:</p>
</dd>
<dd>
<pre>
    <span class="variable">$ans</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;;</span>
    <span class="keyword">exit</span> <span class="number">0</span> <span class="keyword">if</span> <span class="variable">$ans</span> <span class="operator">=~</span> <span class="regex">/^[Xx]/</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>See also <a href="#die"><code>die</code></a>.  If EXPR is omitted, exits with <code>0</code> status.  The only
universally recognized values for EXPR are <code>0</code> for success and <code>1</code>
for error; other values are subject to interpretation depending on the
environment in which the Perl program is running.  For example, exiting
69 (EX_UNAVAILABLE) from a <em>sendmail</em> incoming-mail filter will cause
the mailer to return the item undelivered, but that's not true everywhere.</p>
</dd>
<dd>
<p>Don't use <a href="#exit"><code>exit</code></a> to abort a subroutine if there's any chance that
someone might want to trap whatever error happened.  Use <a href="#die"><code>die</code></a> instead,
which can be trapped by an <a href="#eval"><code>eval</code></a>.</p>
</dd>
<dd>
<p>The <a href="#exit"><code>exit()</code></a> function does not always exit immediately.  It calls any
defined <code>END</code> routines first, but these <code>END</code> routines may not
themselves abort the exit.  Likewise any object destructors that need to
be called are called before the real exit.  If this is a problem, you
can call <code>POSIX:_exit($status)</code> to avoid END and destructor processing.
See <a href="../../lib/pods/perlmod.html">the perlmod manpage</a> for details.</p>
</dd>
</li>
<dt><strong><a name="exp" class="item">exp EXPR</a></strong>

<dt><strong>exp</strong>

<dd>
<p>Returns <em>e</em> (the natural logarithm base) to the power of EXPR.
If EXPR is omitted, gives <a href="#exp"><code>exp($_)</code></a>.</p>
</dd>
</li>
<dt><strong><a name="fcntl" class="item">fcntl FILEHANDLE,FUNCTION,SCALAR</a></strong>

<dd>
<p>Implements the <a href="#fcntl"><code>fcntl(2)</code></a> function.  You'll probably have to say</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Fcntl</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>first to get the correct constant definitions.  Argument processing and
value return works just like <a href="#ioctl"><code>ioctl</code></a> below.
For example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Fcntl</span><span class="operator">;</span>
    <span class="keyword">fcntl</span><span class="operator">(</span><span class="variable">$filehandle</span><span class="operator">,</span> <span class="variable">F_GETFL</span><span class="operator">,</span> <span class="variable">$packed_return_buffer</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"can't fcntl F_GETFL: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>You don't have to check for <a href="#defined"><code>defined</code></a> on the return from <a href="#fcntl"><code>fcntl</code></a>.
Like <a href="#ioctl"><code>ioctl</code></a>, it maps a <code>0</code> return from the system call into
<code>&quot;0 but true&quot;</code> in Perl.  This string is true in boolean context and <code>0</code>
in numeric context.  It is also exempt from the normal <strong>-w</strong> warnings
on improper numeric conversions.</p>
</dd>
<dd>
<p>Note that <a href="#fcntl"><code>fcntl</code></a> will produce a fatal error if used on a machine that
doesn't implement <a href="#fcntl"><code>fcntl(2)</code></a>.  See the Fcntl module or your <a href="#fcntl"><code>fcntl(2)</code></a>
manpage to learn what functions are available on your system.</p>
</dd>
<dd>
<p>Here's an example of setting a filehandle named <code>REMOTE</code> to be
non-blocking at the system level.  You'll have to negotiate <a href="../../lib/pods/perlvar.html#__"><code>$|</code></a>
on your own, though.</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Fcntl</span> <span class="string">qw(F_GETFL F_SETFL O_NONBLOCK)</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="variable">$flags</span> <span class="operator">=</span> <span class="keyword">fcntl</span><span class="operator">(</span><span class="variable">REMOTE</span><span class="operator">,</span> <span class="variable">F_GETFL</span><span class="operator">,</span> <span class="number">0</span><span class="operator">)</span>
                <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't get flags for the socket: $!\n"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="variable">$flags</span> <span class="operator">=</span> <span class="keyword">fcntl</span><span class="operator">(</span><span class="variable">REMOTE</span><span class="operator">,</span> <span class="variable">F_SETFL</span><span class="operator">,</span> <span class="variable">$flags</span> <span class="operator">|</span> <span class="variable">O_NONBLOCK</span><span class="operator">)</span>
                <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't set flags for the socket: $!\n"</span><span class="operator">;</span>
</pre>
</dd>
</li>
<dt><strong><a name="fileno" class="item">fileno FILEHANDLE</a></strong>

<dd>
<p>Returns the file descriptor for a filehandle, or undefined if the
filehandle is not open.  This is mainly useful for constructing
bitmaps for <a href="#select"><code>select</code></a> and low-level POSIX tty-handling operations.
If FILEHANDLE is an expression, the value is taken as an indirect
filehandle, generally its name.</p>
</dd>
<dd>
<p>You can use this to find out whether two handles refer to the
same underlying descriptor:</p>
</dd>
<dd>
<pre>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">fileno</span><span class="operator">(</span><span class="variable">THIS</span><span class="operator">)</span> <span class="operator">==</span> <span class="keyword">fileno</span><span class="operator">(</span><span class="variable">THAT</span><span class="operator">))</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"THIS and THAT are dups\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>(Filehandles connected to memory objects via new features of <a href="#open"><code>open</code></a> may
return undefined even though they are open.)</p>
</dd>
</li>
<dt><strong><a name="flock" class="item">flock FILEHANDLE,OPERATION</a></strong>

<dd>
<p>Calls <a href="#flock"><code>flock(2)</code></a>, or an emulation of it, on FILEHANDLE.  Returns true
for success, false on failure.  Produces a fatal error if used on a
machine that doesn't implement <a href="#flock"><code>flock(2)</code></a>, <a href="#fcntl"><code>fcntl(2)</code></a> locking, or <code>lockf(3)</code>.
<a href="#flock"><code>flock</code></a> is Perl's portable file locking interface, although it locks
only entire files, not records.</p>
</dd>
<dd>
<p>Two potentially non-obvious but traditional <a href="#flock"><code>flock</code></a> semantics are
that it waits indefinitely until the lock is granted, and that its locks
<strong>merely advisory</strong>.  Such discretionary locks are more flexible, but offer
fewer guarantees.  This means that programs that do not also use <a href="#flock"><code>flock</code></a>
may modify files locked with <a href="#flock"><code>flock</code></a>.  See <a href="../../lib/pods/perlport.html">the perlport manpage</a>, 
your port's specific documentation, or your system-specific local manpages
for details.  It's best to assume traditional behavior if you're writing
portable programs.  (But if you're not, you should as always feel perfectly
free to write for your own system's idiosyncrasies (sometimes called
&quot;features&quot;).  Slavish adherence to portability concerns shouldn't get
in the way of your getting your job done.)</p>
</dd>
<dd>
<p>OPERATION is one of LOCK_SH, LOCK_EX, or LOCK_UN, possibly combined with
LOCK_NB.  These constants are traditionally valued 1, 2, 8 and 4, but
you can use the symbolic names if you import them from the Fcntl module,
either individually, or as a group using the ':flock' tag.  LOCK_SH
requests a shared lock, LOCK_EX requests an exclusive lock, and LOCK_UN
releases a previously requested lock.  If LOCK_NB is bitwise-or'ed with
LOCK_SH or LOCK_EX then <a href="#flock"><code>flock</code></a> will return immediately rather than blocking
waiting for the lock (check the return status to see if you got it).</p>
</dd>
<dd>
<p>To avoid the possibility of miscoordination, Perl now flushes FILEHANDLE
before locking or unlocking it.</p>
</dd>
<dd>
<p>Note that the emulation built with <code>lockf(3)</code> doesn't provide shared
locks, and it requires that FILEHANDLE be open with write intent.  These
are the semantics that <code>lockf(3)</code> implements.  Most if not all systems
implement <code>lockf(3)</code> in terms of <a href="#fcntl"><code>fcntl(2)</code></a> locking, though, so the
differing semantics shouldn't bite too many people.</p>
</dd>
<dd>
<p>Note that the <a href="#fcntl"><code>fcntl(2)</code></a> emulation of <a href="#flock"><code>flock(3)</code></a> requires that FILEHANDLE
be open with read intent to use LOCK_SH and requires that it be open
with write intent to use LOCK_EX.</p>
</dd>
<dd>
<p>Note also that some versions of <a href="#flock"><code>flock</code></a> cannot lock things over the
network; you would need to use the more system-specific <a href="#fcntl"><code>fcntl</code></a> for
that.  If you like you can force Perl to ignore your system's <a href="#flock"><code>flock(2)</code></a>
function, and so provide its own fcntl(2)-based emulation, by passing
the switch <code>-Ud_flock</code> to the <em class="file">Configure</em> program when you configure
perl.</p>
</dd>
<dd>
<p>Here's a mailbox appender for BSD systems.</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Fcntl</span> <span class="string">':flock'</span><span class="operator">;</span> <span class="comment"># import LOCK_* constants</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> lock </span><span class="operator">{</span>
        <span class="keyword">flock</span><span class="operator">(</span><span class="variable">MBOX</span><span class="operator">,</span><span class="variable">LOCK_EX</span><span class="operator">);</span>
        <span class="comment"># and, in case someone appended</span>
        <span class="comment"># while we were waiting...</span>
        <span class="keyword">seek</span><span class="operator">(</span><span class="variable">MBOX</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">2</span><span class="operator">);</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> unlock </span><span class="operator">{</span>
        <span class="keyword">flock</span><span class="operator">(</span><span class="variable">MBOX</span><span class="operator">,</span><span class="variable">LOCK_UN</span><span class="operator">);</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">MBOX</span><span class="operator">,</span> <span class="string">"&gt;&gt;/usr/spool/mail/</span><span class="variable">$ENV</span><span class="string">{'USER'}"</span><span class="operator">)</span>
            <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open mailbox: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">lock</span><span class="operator">();</span>
    <span class="keyword">print</span> <span class="variable">MBOX</span> <span class="variable">$msg</span><span class="operator">,</span><span class="string">"\n\n"</span><span class="operator">;</span>
    <span class="variable">unlock</span><span class="operator">();</span>
</pre>
</dd>
<dd>
<p>On systems that support a real <a href="#flock"><code>flock()</code></a>, locks are inherited across <a href="#fork"><code>fork()</code></a>
calls, whereas those that must resort to the more capricious <a href="#fcntl"><code>fcntl()</code></a>
function lose the locks, making it harder to write servers.</p>
</dd>
<dd>
<p>See also <em>DB_File</em> for other <a href="#flock"><code>flock()</code></a> examples.</p>
</dd>
</li>
<dt><strong><a name="fork" class="item">fork</a></strong>

<dd>
<p>Does a <a href="#fork"><code>fork(2)</code></a> system call to create a new process running the
same program at the same point.  It returns the child pid to the
parent process, <code>0</code> to the child process, or <a href="#undef"><code>undef</code></a> if the fork is
unsuccessful.  File descriptors (and sometimes locks on those descriptors)
are shared, while everything else is copied.  On most systems supporting
<a href="#fork"><code>fork()</code></a>, great care has gone into making it extremely efficient (for
example, using copy-on-write technology on data pages), making it the
dominant paradigm for multitasking over the last few decades.</p>
</dd>
<dd>
<p>Beginning with v5.6.0, Perl will attempt to flush all files opened for
output before forking the child process, but this may not be supported
on some platforms (see <a href="../../lib/pods/perlport.html">the perlport manpage</a>).  To be safe, you may need to set
<a href="../../lib/pods/perlvar.html#__"><code>$|</code></a> ($AUTOFLUSH in English) or call the <a href="../../lib/pods/perlvar.html#autoflush"><code>autoflush()</code></a> method of
<code>IO::Handle</code> on any open handles in order to avoid duplicate output.</p>
</dd>
<dd>
<p>If you <a href="#fork"><code>fork</code></a> without ever waiting on your children, you will
accumulate zombies.  On some systems, you can avoid this by setting
<code>$SIG{CHLD}</code> to <code>&quot;IGNORE&quot;</code>.  See also <a href="../../lib/pods/perlipc.html">the perlipc manpage</a> for more examples of
forking and reaping moribund children.</p>
</dd>
<dd>
<p>Note that if your forked child inherits system file descriptors like
STDIN and STDOUT that are actually connected by a pipe or socket, even
if you exit, then the remote server (such as, say, a CGI script or a
backgrounded job launched from a remote shell) won't think you're done.
You should reopen those to <em class="file">/dev/null</em> if it's any issue.</p>
</dd>
</li>
<dt><strong><a name="format" class="item">format</a></strong>

<dd>
<p>Declare a picture format for use by the <a href="#write"><code>write</code></a> function.  For
example:</p>
</dd>
<dd>
<pre>
    format Something =
        Test: @&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @||||| @&gt;&gt;&gt;&gt;&gt;
              $str,     $%,    '$' . int($num)
    .</pre>
</dd>
<dd>
<pre>
    <span class="variable">$str</span> <span class="operator">=</span> <span class="string">"widget"</span><span class="operator">;</span>
    <span class="variable">$num</span> <span class="operator">=</span> <span class="variable">$cost</span><span class="operator">/</span><span class="variable">$quantity</span><span class="operator">;</span>
    <span class="variable">$~</span> <span class="operator">=</span> <span class="string">'Something'</span><span class="operator">;</span>
    <span class="keyword">write</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlform.html">the perlform manpage</a> for many details and examples.</p>
</dd>
</li>
<dt><strong><a name="formline" class="item">formline PICTURE,LIST</a></strong>

<dd>
<p>This is an internal function used by <a href="#format"><code>format</code></a>s, though you may call it,
too.  It formats (see <a href="../../lib/pods/perlform.html">the perlform manpage</a>) a list of values according to the
contents of PICTURE, placing the output into the format output
accumulator, <a href="../../lib/pods/perlvar.html#__a"><code>$^A</code></a> (or <a href="../../lib/pods/perlvar.html#_accumulator"><code>$ACCUMULATOR</code></a> in English).
Eventually, when a <a href="#write"><code>write</code></a> is done, the contents of
<a href="../../lib/pods/perlvar.html#__a"><code>$^A</code></a> are written to some filehandle.  You could also read <a href="../../lib/pods/perlvar.html#__a"><code>$^A</code></a>
and then set <a href="../../lib/pods/perlvar.html#__a"><code>$^A</code></a> back to <code>&quot;&quot;</code>.  Note that a format typically
does one <a href="#formline"><code>formline</code></a> per line of form, but the <a href="#formline"><code>formline</code></a> function itself
doesn't care how many newlines are embedded in the PICTURE.  This means
that the <code>~</code> and <code>~~</code> tokens will treat the entire PICTURE as a single line.
You may therefore need to use multiple formlines to implement a single
record format, just like the format compiler.</p>
</dd>
<dd>
<p>Be careful if you put double quotes around the picture, because an <code>@</code>
character may be taken to mean the beginning of an array name.
<a href="#formline"><code>formline</code></a> always returns true.  See <a href="../../lib/pods/perlform.html">the perlform manpage</a> for other examples.</p>
</dd>
</li>
<dt><strong><a name="getc" class="item">getc FILEHANDLE</a></strong>

<dt><strong>getc</strong>

<dd>
<p>Returns the next character from the input file attached to FILEHANDLE,
or the undefined value at end of file, or if there was an error (in
the latter case <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> is set).  If FILEHANDLE is omitted, reads from
STDIN.  This is not particularly efficient.  However, it cannot be
used by itself to fetch single characters without waiting for the user
to hit enter.  For that, try something more like:</p>
</dd>
<dd>
<pre>
    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$BSD_STYLE</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">system</span> <span class="string">"stty cbreak &lt;/dev/tty &gt;/dev/tty 2&gt;&amp;1"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">else</span> <span class="operator">{</span>
        <span class="keyword">system</span> <span class="string">"stty"</span><span class="operator">,</span> <span class="string">'-icanon'</span><span class="operator">,</span> <span class="string">'eol'</span><span class="operator">,</span> <span class="string">"\001"</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<pre>
    <span class="variable">$key</span> <span class="operator">=</span> <span class="keyword">getc</span><span class="operator">(</span><span class="variable">STDIN</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$BSD_STYLE</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">system</span> <span class="string">"stty -cbreak &lt;/dev/tty &gt;/dev/tty 2&gt;&amp;1"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">else</span> <span class="operator">{</span>
        <span class="keyword">system</span> <span class="string">"stty"</span><span class="operator">,</span> <span class="string">'icanon'</span><span class="operator">,</span> <span class="string">'eol'</span><span class="operator">,</span> <span class="string">'^@'</span><span class="operator">;</span> <span class="comment"># ASCII null</span>
    <span class="operator">}</span>
    <span class="keyword">print</span> <span class="string">"\n"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Determination of whether $BSD_STYLE should be set
is left as an exercise to the reader.</p>
</dd>
<dd>
<p>The <code>POSIX::getattr</code> function can do this more portably on
systems purporting POSIX compliance.  See also the <code>Term::ReadKey</code>
module from your nearest CPAN site; details on CPAN can be found on
<a href="../../lib/pods/perlmodlib.html#cpan">CPAN in the perlmodlib manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="getlogin" class="item">getlogin</a></strong>

<dd>
<p>This implements the C library function of the same name, which on most
systems returns the current login from <em class="file">/etc/utmp</em>, if any.  If null,
use <a href="#getpwuid"><code>getpwuid</code></a>.</p>
</dd>
<dd>
<pre>
    <span class="variable">$login</span> <span class="operator">=</span> <span class="keyword">getlogin</span> <span class="operator">||</span> <span class="keyword">getpwuid</span><span class="operator">(</span><span class="variable">$&lt;</span><span class="operator">)</span> <span class="operator">||</span> <span class="string">"Kilroy"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Do not consider <a href="#getlogin"><code>getlogin</code></a> for authentication: it is not as
secure as <a href="#getpwuid"><code>getpwuid</code></a>.</p>
</dd>
</li>
<dt><strong><a name="getpeername" class="item">getpeername SOCKET</a></strong>

<dd>
<p>Returns the packed sockaddr address of other end of the SOCKET connection.</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Socket</span><span class="operator">;</span>
    <span class="variable">$hersockaddr</span>    <span class="operator">=</span> <span class="keyword">getpeername</span><span class="operator">(</span><span class="variable">SOCK</span><span class="operator">);</span>
    <span class="operator">(</span><span class="variable">$port</span><span class="operator">,</span> <span class="variable">$iaddr</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">sockaddr_in</span><span class="operator">(</span><span class="variable">$hersockaddr</span><span class="operator">);</span>
    <span class="variable">$herhostname</span>    <span class="operator">=</span> <span class="keyword">gethostbyaddr</span><span class="operator">(</span><span class="variable">$iaddr</span><span class="operator">,</span> <span class="variable">AF_INET</span><span class="operator">);</span>
    <span class="variable">$herstraddr</span>     <span class="operator">=</span> <span class="variable">inet_ntoa</span><span class="operator">(</span><span class="variable">$iaddr</span><span class="operator">);</span>
</pre>
</dd>
</li>
<dt><strong><a name="getpgrp" class="item">getpgrp PID</a></strong>

<dd>
<p>Returns the current process group for the specified PID.  Use
a PID of <code>0</code> to get the current process group for the
current process.  Will raise an exception if used on a machine that
doesn't implement <a href="#getpgrp"><code>getpgrp(2)</code></a>.  If PID is omitted, returns process
group of current process.  Note that the POSIX version of <a href="#getpgrp"><code>getpgrp</code></a>
does not accept a PID argument, so only <code>PID==0</code> is truly portable.</p>
</dd>
</li>
<dt><strong><a name="getppid" class="item">getppid</a></strong>

<dd>
<p>Returns the process id of the parent process.</p>
</dd>
<dd>
<p>Note for Linux users: on Linux, the C functions <code>getpid()</code> and
<a href="#getppid"><code>getppid()</code></a> return different values from different threads. In order to
be portable, this behavior is not reflected by the perl-level function
<a href="#getppid"><code>getppid()</code></a>, that returns a consistent value across threads. If you want
to call the underlying <a href="#getppid"><code>getppid()</code></a>, you may use the CPAN module
<code>Linux::Pid</code>.</p>
</dd>
</li>
<dt><strong><a name="getpriority" class="item">getpriority WHICH,WHO</a></strong>

<dd>
<p>Returns the current priority for a process, a process group, or a user.
(See <a href="#getpriority">getpriority(2)</a>.)  Will raise a fatal exception if used on a
machine that doesn't implement <a href="#getpriority"><code>getpriority(2)</code></a>.</p>
</dd>
</li>
<dt><strong><a name="getpwnam" class="item">getpwnam NAME</a></strong>

<dt><strong><a name="getgrnam" class="item">getgrnam NAME</a></strong>

<dt><strong><a name="gethostbyname" class="item">gethostbyname NAME</a></strong>

<dt><strong><a name="getnetbyname" class="item">getnetbyname NAME</a></strong>

<dt><strong><a name="getprotobyname" class="item">getprotobyname NAME</a></strong>

<dt><strong><a name="getpwuid" class="item">getpwuid UID</a></strong>

<dt><strong><a name="getgrgid" class="item">getgrgid GID</a></strong>

<dt><strong><a name="getservbyname" class="item">getservbyname NAME,PROTO</a></strong>

<dt><strong><a name="gethostbyaddr" class="item">gethostbyaddr ADDR,ADDRTYPE</a></strong>

<dt><strong><a name="getnetbyaddr" class="item">getnetbyaddr ADDR,ADDRTYPE</a></strong>

<dt><strong><a name="getprotobynumber" class="item">getprotobynumber NUMBER</a></strong>

<dt><strong><a name="getservbyport" class="item">getservbyport PORT,PROTO</a></strong>

<dt><strong><a name="getpwent" class="item">getpwent</a></strong>

<dt><strong><a name="getgrent" class="item">getgrent</a></strong>

<dt><strong><a name="gethostent" class="item">gethostent</a></strong>

<dt><strong><a name="getnetent" class="item">getnetent</a></strong>

<dt><strong><a name="getprotoent" class="item">getprotoent</a></strong>

<dt><strong><a name="getservent" class="item">getservent</a></strong>

<dt><strong><a name="setpwent" class="item">setpwent</a></strong>

<dt><strong><a name="setgrent" class="item">setgrent</a></strong>

<dt><strong><a name="sethostent" class="item">sethostent STAYOPEN</a></strong>

<dt><strong><a name="setnetent" class="item">setnetent STAYOPEN</a></strong>

<dt><strong><a name="setprotoent" class="item">setprotoent STAYOPEN</a></strong>

<dt><strong><a name="setservent" class="item">setservent STAYOPEN</a></strong>

<dt><strong><a name="endpwent" class="item">endpwent</a></strong>

<dt><strong><a name="endgrent" class="item">endgrent</a></strong>

<dt><strong><a name="endhostent" class="item">endhostent</a></strong>

<dt><strong><a name="endnetent" class="item">endnetent</a></strong>

<dt><strong><a name="endprotoent" class="item">endprotoent</a></strong>

<dt><strong><a name="endservent" class="item">endservent</a></strong>

<dd>
<p>These routines perform the same functions as their counterparts in the
system library.  In list context, the return values from the
various get routines are as follows:</p>
</dd>
<dd>
<pre>
    ($name,$passwd,$uid,$gid,
       $quota,$comment,$gcos,$dir,$shell,$expire) = getpw*
    ($name,$passwd,$gid,$members) = getgr*
    ($name,$aliases,$addrtype,$length,@addrs) = gethost*
    ($name,$aliases,$addrtype,$net) = getnet*
    ($name,$aliases,$proto) = getproto*
    ($name,$aliases,$port,$proto) = getserv*</pre>
</dd>
<dd>
<p>(If the entry doesn't exist you get a null list.)</p>
</dd>
<dd>
<p>The exact meaning of the $gcos field varies but it usually contains
the real name of the user (as opposed to the login name) and other
information pertaining to the user.  Beware, however, that in many
system users are able to change this information and therefore it
cannot be trusted and therefore the $gcos is tainted (see
<a href="../../lib/pods/perlsec.html">the perlsec manpage</a>).  The $passwd and $shell, user's encrypted password and
login shell, are also tainted, because of the same reason.</p>
</dd>
<dd>
<p>In scalar context, you get the name, unless the function was a
lookup by name, in which case you get the other thing, whatever it is.
(If the entry doesn't exist you get the undefined value.)  For example:</p>
</dd>
<dd>
<pre>
    <span class="variable">$uid</span>   <span class="operator">=</span> <span class="keyword">getpwnam</span><span class="operator">(</span><span class="variable">$name</span><span class="operator">);</span>
    <span class="variable">$name</span>  <span class="operator">=</span> <span class="keyword">getpwuid</span><span class="operator">(</span><span class="variable">$num</span><span class="operator">);</span>
    <span class="variable">$name</span>  <span class="operator">=</span> <span class="keyword">getpwent</span><span class="operator">();</span>
    <span class="variable">$gid</span>   <span class="operator">=</span> <span class="keyword">getgrnam</span><span class="operator">(</span><span class="variable">$name</span><span class="operator">);</span>
    <span class="variable">$name</span>  <span class="operator">=</span> <span class="keyword">getgrgid</span><span class="operator">(</span><span class="variable">$num</span><span class="operator">);</span>
    <span class="variable">$name</span>  <span class="operator">=</span> <span class="keyword">getgrent</span><span class="operator">();</span>
    <span class="comment">#etc.</span>
</pre>
</dd>
<dd>
<p>In <em>getpw*()</em> the fields $quota, $comment, and $expire are special
cases in the sense that in many systems they are unsupported.  If the
$quota is unsupported, it is an empty scalar.  If it is supported, it
usually encodes the disk quota.  If the $comment field is unsupported,
it is an empty scalar.  If it is supported it usually encodes some
administrative comment about the user.  In some systems the $quota
field may be $change or $age, fields that have to do with password
aging.  In some systems the $comment field may be $class.  The $expire
field, if present, encodes the expiration period of the account or the
password.  For the availability and the exact meaning of these fields
in your system, please consult your <a href="#getpwnam"><code>getpwnam(3)</code></a> documentation and your
<em class="file">pwd.h</em> file.  You can also find out from within Perl what your
$quota and $comment fields mean and whether you have the $expire field
by using the <code>Config</code> module and the values <code>d_pwquota</code>, <code>d_pwage</code>,
<code>d_pwchange</code>, <code>d_pwcomment</code>, and <code>d_pwexpire</code>.  Shadow password
files are only supported if your vendor has implemented them in the
intuitive fashion that calling the regular C library routines gets the
shadow versions if you're running under privilege or if there exists
the <code>shadow(3)</code> functions as found in System V (this includes Solaris
and Linux.)  Those systems that implement a proprietary shadow password
facility are unlikely to be supported.</p>
</dd>
<dd>
<p>The $members value returned by <em>getgr*()</em> is a space separated list of
the login names of the members of the group.</p>
</dd>
<dd>
<p>For the <em>gethost*()</em> functions, if the <code>h_errno</code> variable is supported in
C, it will be returned to you via <a href="../../lib/pods/perlvar.html#_"><code>$?</code></a> if the function call fails.  The
<code>@addrs</code> value returned by a successful call is a list of the raw
addresses returned by the corresponding system library call.  In the
Internet domain, each address is four bytes long and you can unpack it
by saying something like:</p>
</dd>
<dd>
<pre>
    <span class="operator">(</span><span class="variable">$a</span><span class="operator">,</span><span class="variable">$b</span><span class="operator">,</span><span class="variable">$c</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">'W4'</span><span class="operator">,</span><span class="variable">$addr</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>The Socket library makes this slightly easier:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Socket</span><span class="operator">;</span>
    <span class="variable">$iaddr</span> <span class="operator">=</span> <span class="variable">inet_aton</span><span class="operator">(</span><span class="string">"127.1"</span><span class="operator">);</span> <span class="comment"># or whatever address</span>
    <span class="variable">$name</span>  <span class="operator">=</span> <span class="keyword">gethostbyaddr</span><span class="operator">(</span><span class="variable">$iaddr</span><span class="operator">,</span> <span class="variable">AF_INET</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># or going the other way</span>
    <span class="variable">$straddr</span> <span class="operator">=</span> <span class="variable">inet_ntoa</span><span class="operator">(</span><span class="variable">$iaddr</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>In the opposite way, to resolve a hostname to the IP address
you can write this:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Socket</span><span class="operator">;</span>
    <span class="variable">$packed_ip</span> <span class="operator">=</span> <span class="keyword">gethostbyname</span><span class="operator">(</span><span class="string">"www.perl.org"</span><span class="operator">);</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">defined</span> <span class="variable">$packed_ip</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">$ip_address</span> <span class="operator">=</span> <span class="variable">inet_ntoa</span><span class="operator">(</span><span class="variable">$packed_ip</span><span class="operator">);</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Make sure &lt;gethostbyname()&gt; is called in SCALAR context and that
its return value is checked for definedness.</p>
</dd>
<dd>
<p>If you get tired of remembering which element of the return list
contains which return value, by-name interfaces are provided
in standard modules: <code>File::stat</code>, <code>Net::hostent</code>, <code>Net::netent</code>,
<code>Net::protoent</code>, <code>Net::servent</code>, <code>Time::gmtime</code>, <code>Time::localtime</code>,
and <code>User::grent</code>.  These override the normal built-ins, supplying
versions that return objects with the appropriate names
for each field.  For example:</p>
</dd>
<dd>
<pre>
   <span class="keyword">use</span> <span class="variable">File::stat</span><span class="operator">;</span>
   <span class="keyword">use</span> <span class="variable">User::pwent</span><span class="operator">;</span>
   <span class="variable">$is_his</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">)-&gt;</span><span class="variable">uid</span> <span class="operator">==</span> <span class="variable">pwent</span><span class="operator">(</span><span class="variable">$whoever</span><span class="operator">)-&gt;</span><span class="variable">uid</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>Even though it looks like they're the same method calls (uid),
they aren't, because a <code>File::stat</code> object is different from
a <code>User::pwent</code> object.</p>
</dd>
</li>
<dt><strong><a name="getsockname" class="item">getsockname SOCKET</a></strong>

<dd>
<p>Returns the packed sockaddr address of this end of the SOCKET connection,
in case you don't know the address because you have several different
IPs that the connection might have come in on.</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Socket</span><span class="operator">;</span>
    <span class="variable">$mysockaddr</span> <span class="operator">=</span> <span class="keyword">getsockname</span><span class="operator">(</span><span class="variable">SOCK</span><span class="operator">);</span>
    <span class="operator">(</span><span class="variable">$port</span><span class="operator">,</span> <span class="variable">$myaddr</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">sockaddr_in</span><span class="operator">(</span><span class="variable">$mysockaddr</span><span class="operator">);</span>
    <span class="keyword">printf</span> <span class="string">"Connect to %s [%s]\n"</span><span class="operator">,</span>
       <span class="keyword">scalar</span> <span class="keyword">gethostbyaddr</span><span class="operator">(</span><span class="variable">$myaddr</span><span class="operator">,</span> <span class="variable">AF_INET</span><span class="operator">),</span>
       <span class="variable">inet_ntoa</span><span class="operator">(</span><span class="variable">$myaddr</span><span class="operator">);</span>
</pre>
</dd>
</li>
<dt><strong><a name="getsockopt" class="item">getsockopt SOCKET,LEVEL,OPTNAME</a></strong>

<dd>
<p>Queries the option named OPTNAME associated with SOCKET at a given LEVEL.
Options may exist at multiple protocol levels depending on the socket
type, but at least the uppermost socket level SOL_SOCKET (defined in the
<code>Socket</code> module) will exist. To query options at another level the
protocol number of the appropriate protocol controlling the option
should be supplied. For example, to indicate that an option is to be
interpreted by the TCP protocol, LEVEL should be set to the protocol
number of TCP, which you can get using getprotobyname.</p>
</dd>
<dd>
<p>The call returns a packed string representing the requested socket option,
or <a href="#undef"><code>undef</code></a> if there is an error (the error reason will be in $!). What
exactly is in the packed string depends in the LEVEL and OPTNAME, consult
your system documentation for details. A very common case however is that
the option is an integer, in which case the result will be a packed
integer which you can decode using unpack with the <code>i</code> (or <code>I</code>) format.</p>
</dd>
<dd>
<p>An example testing if Nagle's algorithm is turned on on a socket:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Socket</span> <span class="string">qw(:all)</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">defined</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$tcp</span> <span class="operator">=</span> <span class="keyword">getprotobyname</span><span class="operator">(</span><span class="string">"tcp"</span><span class="operator">))</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Could not determine the protocol number for tcp"</span><span class="operator">;</span>
    <span class="comment"># my $tcp = IPPROTO_TCP; # Alternative</span>
    <span class="keyword">my</span> <span class="variable">$packed</span> <span class="operator">=</span> <span class="keyword">getsockopt</span><span class="operator">(</span><span class="variable">$socket</span><span class="operator">,</span> <span class="variable">$tcp</span><span class="operator">,</span> <span class="variable">TCP_NODELAY</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Could not query TCP_NODELAY socket option: $!"</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$nodelay</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"I"</span><span class="operator">,</span> <span class="variable">$packed</span><span class="operator">);</span>
    <span class="keyword">print</span> <span class="string">"Nagle's algorithm is turned "</span><span class="operator">,</span> <span class="variable">$nodelay</span> <span class="operator">?</span> <span class="string">"off\n"</span> <span class="operator">:</span> <span class="string">"on\n"</span><span class="operator">;</span>
</pre>
</dd>
</li>
<dt><strong><a name="glob" class="item">glob EXPR</a></strong>

<dt><strong>glob</strong>

<dd>
<p>In list context, returns a (possibly empty) list of filename expansions on
the value of EXPR such as the standard Unix shell <em class="file">/bin/csh</em> would do. In
scalar context, glob iterates through such filename expansions, returning
undef when the list is exhausted. This is the internal function
implementing the <a href="../../lib/pods/perlrun.html#c"><code>&lt;*.c&gt;</code></a> operator, but you can use it directly. If
EXPR is omitted, <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> is used.  The <a href="../../lib/pods/perlrun.html#c"><code>&lt;*.c&gt;</code></a> operator is discussed in
more detail in <a href="../../lib/pods/perlop.html#i_o_operators">I/O Operators in the perlop manpage</a>.</p>
</dd>
<dd>
<p>Beginning with v5.6.0, this operator is implemented using the standard
<code>File::Glob</code> extension.  See <a href="../../lib/File/Glob.html">the File::Glob manpage</a> for details.</p>
</dd>
</li>
<dt><strong><a name="gmtime" class="item">gmtime EXPR</a></strong>

<dt><strong>gmtime</strong>

<dd>
<p>Works just like <a href="../../lib/Time/localtime.html">the localtime manpage</a> but the returned values are
localized for the standard Greenwich time zone.</p>
</dd>
<dd>
<p>Note: when called in list context, $isdst, the last value
returned by gmtime is always <code>0</code>.  There is no
Daylight Saving Time in GMT.</p>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlport.html#gmtime">gmtime in the perlport manpage</a> for portability concerns.</p>
</dd>
</li>
<dt><strong><a name="goto" class="item">goto LABEL</a></strong>

<dt><strong>goto EXPR</strong>

<dt><strong>goto &amp;NAME</strong>

<dd>
<p>The <code>goto-LABEL</code> form finds the statement labeled with LABEL and resumes
execution there.  It may not be used to go into any construct that
requires initialization, such as a subroutine or a <code>foreach</code> loop.  It
also can't be used to go into a construct that is optimized away,
or to get out of a block or subroutine given to <a href="#sort"><code>sort</code></a>.
It can be used to go almost anywhere else within the dynamic scope,
including out of subroutines, but it's usually better to use some other
construct such as <a href="#last"><code>last</code></a> or <a href="#die"><code>die</code></a>.  The author of Perl has never felt the
need to use this form of <a href="#goto"><code>goto</code></a> (in Perl, that is--C is another matter).
(The difference being that C does not offer named loops combined with
loop control.  Perl does, and this replaces most structured uses of <a href="#goto"><code>goto</code></a>
in other languages.)</p>
</dd>
<dd>
<p>The <code>goto-EXPR</code> form expects a label name, whose scope will be resolved
dynamically.  This allows for computed <a href="#goto"><code>goto</code></a>s per FORTRAN, but isn't
necessarily recommended if you're optimizing for maintainability:</p>
</dd>
<dd>
<pre>
    <span class="keyword">goto</span> <span class="operator">(</span><span class="string">"FOO"</span><span class="operator">,</span> <span class="string">"BAR"</span><span class="operator">,</span> <span class="string">"GLARCH"</span><span class="operator">)</span><span class="operator">[</span><span class="variable">$i</span><span class="operator">]</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>The <code>goto-&amp;NAME</code> form is quite different from the other forms of
<a href="#goto"><code>goto</code></a>.  In fact, it isn't a goto in the normal sense at all, and
doesn't have the stigma associated with other gotos.  Instead, it
exits the current subroutine (losing any changes set by local()) and
immediately calls in its place the named subroutine using the current
value of @_.  This is used by <code>AUTOLOAD</code> subroutines that wish to
load another subroutine and then pretend that the other subroutine had
been called in the first place (except that any modifications to <a href="../../lib/pods/perlvar.html#__"><code>@_</code></a>
in the current subroutine are propagated to the other subroutine.)
After the <a href="#goto"><code>goto</code></a>, not even <a href="#caller"><code>caller</code></a> will be able to tell that this
routine was called first.</p>
</dd>
<dd>
<p>NAME needn't be the name of a subroutine; it can be a scalar variable
containing a code reference, or a block that evaluates to a code
reference.</p>
</dd>
</li>
<dt><strong><a name="grep" class="item">grep BLOCK LIST</a></strong>

<dt><strong>grep EXPR,LIST</strong>

<dd>
<p>This is similar in spirit to, but not the same as, <a href="#grep"><code>grep(1)</code></a> and its
relatives.  In particular, it is not limited to using regular expressions.</p>
</dd>
<dd>
<p>Evaluates the BLOCK or EXPR for each element of LIST (locally setting
<a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> to each element) and returns the list value consisting of those
elements for which the expression evaluated to true.  In scalar
context, returns the number of times the expression was true.</p>
</dd>
<dd>
<pre>
    <span class="variable">@foo</span> <span class="operator">=</span> <span class="keyword">grep</span><span class="operator">(!</span><span class="regex">/^#/</span><span class="operator">,</span> <span class="variable">@bar</span><span class="operator">);</span>    <span class="comment"># weed out comments</span>
</pre>
</dd>
<dd>
<p>or equivalently,</p>
</dd>
<dd>
<pre>
    <span class="variable">@foo</span> <span class="operator">=</span> <span class="keyword">grep</span> <span class="operator">{!</span><span class="regex">/^#/</span><span class="operator">}</span> <span class="variable">@bar</span><span class="operator">;</span>    <span class="comment"># weed out comments</span>
</pre>
</dd>
<dd>
<p>Note that <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> is an alias to the list value, so it can be used to
modify the elements of the LIST.  While this is useful and supported,
it can cause bizarre results if the elements of LIST are not variables.
Similarly, grep returns aliases into the original list, much as a for
loop's index variable aliases the list elements.  That is, modifying an
element of a list returned by grep (for example, in a <code>foreach</code>, <a href="#map"><code>map</code></a>
or another <a href="#grep"><code>grep</code></a>) actually modifies the element in the original list.
This is usually something to be avoided when writing clear code.</p>
</dd>
<dd>
<p>If <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> is lexical in the scope where the <a href="#grep"><code>grep</code></a> appears (because it has
been declared with <a href="#my"><code>my $_</code></a>) then, in addition to being locally aliased to
the list elements, <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> keeps being lexical inside the block; i.e. it
can't be seen from the outside, avoiding any potential side-effects.</p>
</dd>
<dd>
<p>See also <a href="#map">map</a> for a list composed of the results of the BLOCK or EXPR.</p>
</dd>
</li>
<dt><strong><a name="hex" class="item">hex EXPR</a></strong>

<dt><strong>hex</strong>

<dd>
<p>Interprets EXPR as a hex string and returns the corresponding value.
(To convert strings that might start with either <code>0</code>, <code>0x</code>, or <code>0b</code>, see
<a href="#oct">oct</a>.)  If EXPR is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="keyword">hex</span> <span class="string">'0xAf'</span><span class="operator">;</span> <span class="comment"># prints '175'</span>
    <span class="keyword">print</span> <span class="keyword">hex</span> <span class="string">'aF'</span><span class="operator">;</span>   <span class="comment"># same</span>
</pre>
</dd>
<dd>
<p>Hex strings may only represent integers.  Strings that would cause
integer overflow trigger a warning.  Leading whitespace is not stripped,
unlike <a href="#oct"><code>oct()</code></a>. To present something as hex, look into <a href="#printf">printf</a>,
<a href="#sprintf">sprintf</a>, or <a href="#unpack">unpack</a>.</p>
</dd>
</li>
<dt><strong><a name="import" class="item">import LIST</a></strong>

<dd>
<p>There is no builtin <a href="#import"><code>import</code></a> function.  It is just an ordinary
method (subroutine) defined (or inherited) by modules that wish to export
names to another module.  The <a href="#use"><code>use</code></a> function calls the <a href="#import"><code>import</code></a> method
for the package used.  See also <a href="#use">use</a>, <a href="../../lib/pods/perlmod.html">the perlmod manpage</a>, and <a href="../../lib/Exporter.html">the Exporter manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="index" class="item">index STR,SUBSTR,POSITION</a></strong>

<dt><strong>index STR,SUBSTR</strong>

<dd>
<p>The index function searches for one string within another, but without
the wildcard-like behavior of a full regular-expression pattern match.
It returns the position of the first occurrence of SUBSTR in STR at
or after POSITION.  If POSITION is omitted, starts searching from the
beginning of the string.  POSITION before the beginning of the string
or after its end is treated as if it were the beginning or the end,
respectively.  POSITION and the return value are based at <code>0</code> (or whatever
you've set the <a href="../../lib/pods/perlvar.html#__"><code>$[</code></a> variable to--but don't do that).  If the substring
is not found, <a href="#index"><code>index</code></a> returns one less than the base, ordinarily <code>-1</code>.</p>
</dd>
</li>
<dt><strong><a name="int" class="item">int EXPR</a></strong>

<dt><strong>int</strong>

<dd>
<p>Returns the integer portion of EXPR.  If EXPR is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.
You should not use this function for rounding: one because it truncates
towards <code>0</code>, and two because machine representations of floating point
numbers can sometimes produce counterintuitive results.  For example,
<a href="#int"><code>int(-6.725/0.025)</code></a> produces -268 rather than the correct -269; that's
because it's really more like -268.99999999999994315658 instead.  Usually,
the <a href="#sprintf"><code>sprintf</code></a>, <a href="#printf"><code>printf</code></a>, or the <code>POSIX::floor</code> and <code>POSIX::ceil</code>
functions will serve you better than will <a href="#int"><code>int()</code></a>.</p>
</dd>
</li>
<dt><strong><a name="ioctl" class="item">ioctl FILEHANDLE,FUNCTION,SCALAR</a></strong>

<dd>
<p>Implements the <a href="#ioctl"><code>ioctl(2)</code></a> function.  You'll probably first have to say</p>
</dd>
<dd>
<pre>
    <span class="keyword">require</span> <span class="string">"sys/ioctl.ph"</span><span class="operator">;</span>     <span class="comment"># probably in $Config{archlib}/sys/ioctl.ph</span>
</pre>
</dd>
<dd>
<p>to get the correct function definitions.  If <em class="file">sys/ioctl.ph</em> doesn't
exist or doesn't have the correct definitions you'll have to roll your
own, based on your C header files such as <em class="file">&lt;sys/ioctl.h</em> &gt;&gt;.
(There is a Perl script called <strong>h2ph</strong> that comes with the Perl kit that
may help you in this, but it's nontrivial.)  SCALAR will be read and/or
written depending on the FUNCTION--a pointer to the string value of SCALAR
will be passed as the third argument of the actual <a href="#ioctl"><code>ioctl</code></a> call.  (If SCALAR
has no string value but does have a numeric value, that value will be
passed rather than a pointer to the string value.  To guarantee this to be
true, add a <code>0</code> to the scalar before using it.)  The <a href="#pack"><code>pack</code></a> and <a href="#unpack"><code>unpack</code></a>
functions may be needed to manipulate the values of structures used by
<a href="#ioctl"><code>ioctl</code></a>.</p>
</dd>
<dd>
<p>The return value of <a href="#ioctl"><code>ioctl</code></a> (and <a href="#fcntl"><code>fcntl</code></a>) is as follows:</p>
</dd>
<dd>
<pre>
        if OS returns:          then Perl returns:
            -1                    undefined value
             0                  string &quot;0 but true&quot;
        anything else               that number</pre>
</dd>
<dd>
<p>Thus Perl returns true on success and false on failure, yet you can
still easily determine the actual value returned by the operating
system:</p>
</dd>
<dd>
<pre>
    <span class="variable">$retval</span> <span class="operator">=</span> <span class="keyword">ioctl</span><span class="operator">(...)</span> <span class="operator">||</span> <span class="operator">-</span><span class="number">1</span><span class="operator">;</span>
    <span class="keyword">printf</span> <span class="string">"System returned %d\n"</span><span class="operator">,</span> <span class="variable">$retval</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>The special string <code>&quot;0 but true&quot;</code> is exempt from <strong>-w</strong> complaints
about improper numeric conversions.</p>
</dd>
</li>
<dt><strong><a name="join" class="item">join EXPR,LIST</a></strong>

<dd>
<p>Joins the separate strings of LIST into a single string with fields
separated by the value of EXPR, and returns that new string.  Example:</p>
</dd>
<dd>
<pre>
    <span class="variable">$rec</span> <span class="operator">=</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="variable">$login</span><span class="operator">,</span><span class="variable">$passwd</span><span class="operator">,</span><span class="variable">$uid</span><span class="operator">,</span><span class="variable">$gid</span><span class="operator">,</span><span class="variable">$gcos</span><span class="operator">,</span><span class="variable">$home</span><span class="operator">,</span><span class="variable">$shell</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>Beware that unlike <a href="#split"><code>split</code></a>, <a href="#join"><code>join</code></a> doesn't take a pattern as its
first argument.  Compare <a href="#split">split</a>.</p>
</dd>
</li>
<dt><strong><a name="keys" class="item">keys HASH</a></strong>

<dd>
<p>Returns a list consisting of all the keys of the named hash.
(In scalar context, returns the number of keys.)</p>
</dd>
<dd>
<p>The keys are returned in an apparently random order.  The actual
random order is subject to change in future versions of perl, but it
is guaranteed to be the same order as either the <a href="#values"><code>values</code></a> or <a href="#each"><code>each</code></a>
function produces (given that the hash has not been modified).  Since
Perl 5.8.1 the ordering is different even between different runs of
Perl for security reasons (see <a href="../../lib/pods/perlsec.html#algorithmic_complexity_attacks">Algorithmic Complexity Attacks in the perlsec manpage</a>).</p>
</dd>
<dd>
<p>As a side effect, calling <a href="#keys"><code>keys()</code></a> resets the HASH's internal iterator
(see <a href="#each">each</a>).  In particular, calling <a href="#keys"><code>keys()</code></a> in void context resets
the iterator with no other overhead.</p>
</dd>
<dd>
<p>Here is yet another way to print your environment:</p>
</dd>
<dd>
<pre>
    <span class="variable">@keys</span> <span class="operator">=</span> <span class="keyword">keys</span> <span class="variable">%ENV</span><span class="operator">;</span>
    <span class="variable">@values</span> <span class="operator">=</span> <span class="keyword">values</span> <span class="variable">%ENV</span><span class="operator">;</span>
    <span class="keyword">while</span> <span class="operator">(</span><span class="variable">@keys</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="keyword">pop</span><span class="operator">(</span><span class="variable">@keys</span><span class="operator">),</span> <span class="string">'='</span><span class="operator">,</span> <span class="keyword">pop</span><span class="operator">(</span><span class="variable">@values</span><span class="operator">),</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>or how about sorted by key:</p>
</dd>
<dd>
<pre>
    <span class="keyword">foreach</span> <span class="variable">$key</span> <span class="operator">(</span><span class="keyword">sort</span><span class="operator">(</span><span class="keyword">keys</span> <span class="variable">%ENV</span><span class="operator">))</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="variable">$key</span><span class="operator">,</span> <span class="string">'='</span><span class="operator">,</span> <span class="variable">$ENV</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">,</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>The returned values are copies of the original keys in the hash, so
modifying them will not affect the original hash.  Compare <a href="#values">values</a>.</p>
</dd>
<dd>
<p>To sort a hash by value, you'll need to use a <a href="#sort"><code>sort</code></a> function.
Here's a descending numeric sort of a hash by its values:</p>
</dd>
<dd>
<pre>
    <span class="keyword">foreach</span> <span class="variable">$key</span> <span class="operator">(</span><span class="keyword">sort</span> <span class="operator">{</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$b</span><span class="operator">}</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$a</span><span class="operator">}</span> <span class="operator">}</span> <span class="keyword">keys</span> <span class="variable">%hash</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">printf</span> <span class="string">"%4d %s\n"</span><span class="operator">,</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">,</span> <span class="variable">$key</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>As an lvalue <a href="#keys"><code>keys</code></a> allows you to increase the number of hash buckets
allocated for the given hash.  This can gain you a measure of efficiency if
you know the hash is going to get big.  (This is similar to pre-extending
an array by assigning a larger number to $#array.)  If you say</p>
</dd>
<dd>
<pre>
    <span class="keyword">keys</span> <span class="variable">%hash</span> <span class="operator">=</span> <span class="number">200</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>then <code>%hash</code> will have at least 200 buckets allocated for it--256 of them,
in fact, since it rounds up to the next power of two.  These
buckets will be retained even if you do <code>%hash = ()</code>, use <code>undef
%hash</code> if you want to free the storage while <code>%hash</code> is still in scope.
You can't shrink the number of buckets allocated for the hash using
<a href="#keys"><code>keys</code></a> in this way (but you needn't worry about doing this by accident,
as trying has no effect).</p>
</dd>
<dd>
<p>See also <a href="#each"><code>each</code></a>, <a href="#values"><code>values</code></a> and <a href="#sort"><code>sort</code></a>.</p>
</dd>
</li>
<dt><strong><a name="kill" class="item">kill SIGNAL, LIST</a></strong>

<dd>
<p>Sends a signal to a list of processes.  Returns the number of
processes successfully signaled (which is not necessarily the
same as the number actually killed).</p>
</dd>
<dd>
<pre>
    <span class="variable">$cnt</span> <span class="operator">=</span> <span class="keyword">kill</span> <span class="number">1</span><span class="operator">,</span> <span class="variable">$child1</span><span class="operator">,</span> <span class="variable">$child2</span><span class="operator">;</span>
    <span class="keyword">kill</span> <span class="number">9</span><span class="operator">,</span> <span class="variable">@goners</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>If SIGNAL is zero, no signal is sent to the process, but the <a href="#kill"><code>kill(2)</code></a>
system call will check whether it's possible to send a signal to it (that
means, to be brief, that the process is owned by the same user, or we are
the super-user).  This is a useful way to check that a child process is
alive (even if only as a zombie) and hasn't changed its UID.  See
<a href="../../lib/pods/perlport.html">the perlport manpage</a> for notes on the portability of this construct.</p>
</dd>
<dd>
<p>Unlike in the shell, if SIGNAL is negative, it kills
process groups instead of processes.  (On System V, a negative <em>PROCESS</em>
number will also kill process groups, but that's not portable.)  That
means you usually want to use positive not negative signals.  You may also
use a signal name in quotes.</p>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlipc.html#signals">Signals in the perlipc manpage</a> for more details.</p>
</dd>
</li>
<dt><strong><a name="last" class="item">last LABEL</a></strong>

<dt><strong>last</strong>

<dd>
<p>The <a href="#last"><code>last</code></a> command is like the <a href="#break"><code>break</code></a> statement in C (as used in
loops); it immediately exits the loop in question.  If the LABEL is
omitted, the command refers to the innermost enclosing loop.  The
<a href="#continue"><code>continue</code></a> block, if any, is not executed:</p>
</dd>
<dd>
<pre>
    <span class="variable">LINE</span><span class="operator">:</span> <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;)</span> <span class="operator">{</span>
        <span class="keyword">last</span> <span class="variable">LINE</span> <span class="keyword">if</span> <span class="regex">/^$/</span><span class="operator">;</span>      <span class="comment"># exit when done with header</span>
        <span class="comment">#...</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p><a href="#last"><code>last</code></a> cannot be used to exit a block which returns a value such as
<a href="#eval"><code>eval {}</code></a>, <a href="#sub"><code>sub {}</code></a> or <a href="#do"><code>do {}</code></a>, and should not be used to exit
a <a href="#grep"><code>grep()</code></a> or <a href="#map"><code>map()</code></a> operation.</p>
</dd>
<dd>
<p>Note that a block by itself is semantically identical to a loop
that executes once.  Thus <a href="#last"><code>last</code></a> can be used to effect an early
exit out of such a block.</p>
</dd>
<dd>
<p>See also <a href="#continue">continue</a> for an illustration of how <a href="#last"><code>last</code></a>, <a href="#next"><code>next</code></a>, and
<a href="#redo"><code>redo</code></a> work.</p>
</dd>
</li>
<dt><strong><a name="lc" class="item">lc EXPR</a></strong>

<dt><strong>lc</strong>

<dd>
<p>Returns a lowercased version of EXPR.  This is the internal function
implementing the <code>\L</code> escape in double-quoted strings.  Respects
current LC_CTYPE locale if <code>use locale</code> in force.  See <a href="../../lib/pods/perllocale.html">the perllocale manpage</a>
and <a href="../../lib/pods/perlunicode.html">the perlunicode manpage</a> for more details about locale and Unicode support.</p>
</dd>
<dd>
<p>If EXPR is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
</li>
<dt><strong><a name="lcfirst" class="item">lcfirst EXPR</a></strong>

<dt><strong>lcfirst</strong>

<dd>
<p>Returns the value of EXPR with the first character lowercased.  This
is the internal function implementing the <code>\l</code> escape in
double-quoted strings.  Respects current LC_CTYPE locale if <code>use
locale</code> in force.  See <a href="../../lib/pods/perllocale.html">the perllocale manpage</a> and <a href="../../lib/pods/perlunicode.html">the perlunicode manpage</a> for more
details about locale and Unicode support.</p>
</dd>
<dd>
<p>If EXPR is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
</li>
<dt><strong><a name="length" class="item">length EXPR</a></strong>

<dt><strong>length</strong>

<dd>
<p>Returns the length in <em>characters</em> of the value of EXPR.  If EXPR is
omitted, returns length of <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.  Note that this cannot be used on
an entire array or hash to find out how many elements these have.
For that, use <code>scalar @array</code> and <code>scalar keys %hash</code> respectively.</p>
</dd>
<dd>
<p>Note the <em>characters</em>: if the EXPR is in Unicode, you will get the
number of characters, not the number of bytes.  To get the length
of the internal string in bytes, use <a href="#length"><code>bytes::length(EXPR)</code></a>, see
<a href="../../lib/bytes.html">the bytes manpage</a>.  Note that the internal encoding is variable, and the number
of bytes usually meaningless.  To get the number of bytes that the
string would have when encoded as UTF-8, use
<a href="#length"><code>length(Encoding::encode_utf8(EXPR))</code></a>.</p>
</dd>
</li>
<dt><strong><a name="link" class="item">link OLDFILE,NEWFILE</a></strong>

<dd>
<p>Creates a new filename linked to the old filename.  Returns true for
success, false otherwise.</p>
</dd>
</li>
<dt><strong><a name="listen" class="item">listen SOCKET,QUEUESIZE</a></strong>

<dd>
<p>Does the same thing that the listen system call does.  Returns true if
it succeeded, false otherwise.  See the example in
<a href="../../lib/pods/perlipc.html#sockets__client_server_communication">Sockets: Client/Server Communication in the perlipc manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="local" class="item">local EXPR</a></strong>

<dd>
<p>You really probably want to be using <a href="#my"><code>my</code></a> instead, because <a href="#local"><code>local</code></a> isn't
what most people think of as &quot;local&quot;.  See
<a href="../../lib/pods/perlsub.html#private_variables_via_my__">Private Variables via my() in the perlsub manpage</a> for details.</p>
</dd>
<dd>
<p>A local modifies the listed variables to be local to the enclosing
block, file, or eval.  If more than one value is listed, the list must
be placed in parentheses.  See <a href="../../lib/pods/perlsub.html#temporary_values_via_local__">Temporary Values via local() in the perlsub manpage</a>
for details, including issues with tied arrays and hashes.</p>
</dd>
</li>
<dt><strong><a name="localtime" class="item">localtime EXPR</a></strong>

<dt><strong>localtime</strong>

<dd>
<p>Converts a time as returned by the time function to a 9-element list
with the time analyzed for the local time zone.  Typically used as
follows:</p>
</dd>
<dd>
<pre>
    <span class="comment">#  0    1    2     3     4    5     6     7     8</span>
    <span class="operator">(</span><span class="variable">$sec</span><span class="operator">,</span><span class="variable">$min</span><span class="operator">,</span><span class="variable">$hour</span><span class="operator">,</span><span class="variable">$mday</span><span class="operator">,</span><span class="variable">$mon</span><span class="operator">,</span><span class="variable">$year</span><span class="operator">,</span><span class="variable">$wday</span><span class="operator">,</span><span class="variable">$yday</span><span class="operator">,</span><span class="variable">$isdst</span><span class="operator">)</span> <span class="operator">=</span>
                                                <span class="keyword">localtime</span><span class="operator">(</span><span class="keyword">time</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>All list elements are numeric, and come straight out of the C `struct
tm'.  <code>$sec</code>, <code>$min</code>, and <code>$hour</code> are the seconds, minutes, and hours
of the specified time.</p>
</dd>
<dd>
<p><code>$mday</code> is the day of the month, and <code>$mon</code> is the month itself, in
the range <code>0..11</code> with 0 indicating January and 11 indicating December.
This makes it easy to get a month name from a list:</p>
</dd>
<dd>
<pre>
    <span class="keyword">my</span> <span class="variable">@abbr</span> <span class="operator">=</span> <span class="string">qw( Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec )</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"</span><span class="variable">$abbr</span><span class="string">[</span><span class="variable">$mon</span><span class="string">] </span><span class="variable">$mday</span><span class="string">"</span><span class="operator">;</span>
    <span class="comment"># $mon=9, $mday=18 gives "Oct 18"</span>
</pre>
</dd>
<dd>
<p><code>$year</code> is the number of years since 1900, not just the last two digits
of the year.  That is, <code>$year</code> is <code>123</code> in year 2023.  The proper way
to get a complete 4-digit year is simply:</p>
</dd>
<dd>
<pre>
    <span class="variable">$year</span> <span class="operator">+=</span> <span class="number">1900</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Otherwise you create non-Y2K-compliant programs--and you wouldn't want
to do that, would you?</p>
</dd>
<dd>
<p>To get the last two digits of the year (e.g., '01' in 2001) do:</p>
</dd>
<dd>
<pre>
    <span class="variable">$year</span> <span class="operator">=</span> <span class="keyword">sprintf</span><span class="operator">(</span><span class="string">"%02d"</span><span class="operator">,</span> <span class="variable">$year</span> <span class="operator">% </span><span class="number">100</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p><code>$wday</code> is the day of the week, with 0 indicating Sunday and 3 indicating
Wednesday.  <code>$yday</code> is the day of the year, in the range <code>0..364</code>
(or <code>0..365</code> in leap years.)</p>
</dd>
<dd>
<p><code>$isdst</code> is true if the specified time occurs during Daylight Saving
Time, false otherwise.</p>
</dd>
<dd>
<p>If EXPR is omitted, <a href="#localtime"><code>localtime()</code></a> uses the current time (<a href="#localtime"><code>localtime(time)</code></a>).</p>
</dd>
<dd>
<p>In scalar context, <a href="#localtime"><code>localtime()</code></a> returns the <code>ctime(3)</code> value:</p>
</dd>
<dd>
<pre>
    <span class="variable">$now_string</span> <span class="operator">=</span> <span class="keyword">localtime</span><span class="operator">;</span>  <span class="comment"># e.g., "Thu Oct 13 04:54:34 1994"</span>
</pre>
</dd>
<dd>
<p>This scalar value is <strong>not</strong> locale dependent but is a Perl builtin. For GMT
instead of local time use the <a href="#gmtime">gmtime</a> builtin. See also the
<code>Time::Local</code> module (to convert the second, minutes, hours, ... back to
the integer value returned by time()), and the <a href="../../lib/POSIX.html">the POSIX manpage</a> module's <code>strftime(3)</code>
and <code>mktime(3)</code> functions.</p>
</dd>
<dd>
<p>To get somewhat similar but locale dependent date strings, set up your
locale environment variables appropriately (please see <a href="../../lib/pods/perllocale.html">the perllocale manpage</a>) and
try for example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">POSIX</span> <span class="string">qw(strftime)</span><span class="operator">;</span>
    <span class="variable">$now_string</span> <span class="operator">=</span> <span class="variable">strftime</span> <span class="string">"%a %b %e %H:%M:%S %Y"</span><span class="operator">,</span> <span class="keyword">localtime</span><span class="operator">;</span>
    <span class="comment"># or for GMT formatted appropriately for your locale:</span>
    <span class="variable">$now_string</span> <span class="operator">=</span> <span class="variable">strftime</span> <span class="string">"%a %b %e %H:%M:%S %Y"</span><span class="operator">,</span> <span class="keyword">gmtime</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Note that the <code>%a</code> and <code>%b</code>, the short forms of the day of the week
and the month of the year, may not necessarily be three characters wide.</p>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlport.html#localtime">localtime in the perlport manpage</a> for portability concerns.</p>
</dd>
<dd>
<p>The <a href="../../lib/Time/gmtime.html">the Time::gmtime manpage</a> and <a href="../../lib/Time/localtime.html">the Time::localtime manpage</a> modules provides a convenient,
by-name access mechanism to the <a href="#gmtime"><code>gmtime()</code></a> and <a href="#localtime"><code>localtime()</code></a> functions,
respectively.</p>
</dd>
<dd>
<p>For a comprehensive date and time representation look at the
<a href="../../lib/ActiveState/DateTime.html">the DateTime manpage</a> module on CPAN.</p>
</dd>
</li>
<dt><strong><a name="lock" class="item">lock THING</a></strong>

<dd>
<p>This function places an advisory lock on a shared variable, or referenced
object contained in <em>THING</em> until the lock goes out of scope.</p>
</dd>
<dd>
<p><a href="#lock"><code>lock()</code></a> is a &quot;weak keyword&quot; : this means that if you've defined a function
by this name (before any calls to it), that function will be called
instead. (However, if you've said <code>use threads</code>, <a href="#lock"><code>lock()</code></a> is always a
keyword.) See <a href="../../lib/threads.html">the threads manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="log" class="item">log EXPR</a></strong>

<dt><strong>log</strong>

<dd>
<p>Returns the natural logarithm (base <em>e</em>) of EXPR.  If EXPR is omitted,
returns log of <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.  To get the log of another base, use basic algebra:
The base-N log of a number is equal to the natural log of that number
divided by the natural log of N.  For example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> log10 </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="variable">$n</span> <span class="operator">=</span> <span class="keyword">shift</span><span class="operator">;</span>
        <span class="keyword">return</span> <span class="keyword">log</span><span class="operator">(</span><span class="variable">$n</span><span class="operator">)/</span><span class="keyword">log</span><span class="operator">(</span><span class="number">10</span><span class="operator">);</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>See also <a href="#exp">exp</a> for the inverse operation.</p>
</dd>
</li>
<dt><strong><a name="lstat" class="item">lstat EXPR</a></strong>

<dt><strong>lstat</strong>

<dd>
<p>Does the same thing as the <a href="#stat"><code>stat</code></a> function (including setting the
special <code>_</code> filehandle) but stats a symbolic link instead of the file
the symbolic link points to.  If symbolic links are unimplemented on
your system, a normal <a href="#stat"><code>stat</code></a> is done.  For much more detailed
information, please see the documentation for <a href="#stat"><code>stat</code></a>.</p>
</dd>
<dd>
<p>If EXPR is omitted, stats <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
</li>
<dt><strong><a name="m_" class="item">m//</a></strong>

<dd>
<p>The match operator.  See <a href="../../lib/pods/perlop.html">the perlop manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="map" class="item">map BLOCK LIST</a></strong>

<dt><strong>map EXPR,LIST</strong>

<dd>
<p>Evaluates the BLOCK or EXPR for each element of LIST (locally setting
<a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> to each element) and returns the list value composed of the
results of each such evaluation.  In scalar context, returns the
total number of elements so generated.  Evaluates BLOCK or EXPR in
list context, so each element of LIST may produce zero, one, or
more elements in the returned value.</p>
</dd>
<dd>
<pre>
    <span class="variable">@chars</span> <span class="operator">=</span> <span class="keyword">map</span><span class="operator">(</span><span class="keyword">chr</span><span class="operator">,</span> <span class="variable">@nums</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>translates a list of numbers to the corresponding characters.  And</p>
</dd>
<dd>
<pre>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="variable">get_a_key_for</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">)</span> <span class="operator">=&gt;</span> <span class="variable">$_</span> <span class="operator">}</span> <span class="variable">@array</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>is just a funny way to write</p>
</dd>
<dd>
<pre>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="operator">();</span>
    <span class="keyword">foreach</span> <span class="operator">(</span><span class="variable">@array</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">$hash</span><span class="operator">{</span><span class="variable">get_a_key_for</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">)</span><span class="operator">}</span> <span class="operator">=</span> <span class="variable">$_</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Note that <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> is an alias to the list value, so it can be used to
modify the elements of the LIST.  While this is useful and supported,
it can cause bizarre results if the elements of LIST are not variables.
Using a regular <code>foreach</code> loop for this purpose would be clearer in
most cases.  See also <a href="#grep">grep</a> for an array composed of those items of
the original list for which the BLOCK or EXPR evaluates to true.</p>
</dd>
<dd>
<p>If <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> is lexical in the scope where the <a href="#map"><code>map</code></a> appears (because it has
been declared with <a href="#my"><code>my $_</code></a>), then, in addition to being locally aliased to
the list elements, <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> keeps being lexical inside the block; that is, it
can't be seen from the outside, avoiding any potential side-effects.</p>
</dd>
<dd>
<p><code>{</code> starts both hash references and blocks, so <a href="#map"><code>map { ...</code></a> could be either
the start of map BLOCK LIST or map EXPR, LIST. Because perl doesn't look
ahead for the closing <code>}</code> it has to take a guess at which its dealing with
based what it finds just after the <code>{</code>. Usually it gets it right, but if it
doesn't it won't realize something is wrong until it gets to the <code>}</code> and
encounters the missing (or unexpected) comma. The syntax error will be
reported close to the <code>}</code> but you'll need to change something near the <code>{</code>
such as using a unary <code>+</code> to give perl some help:</p>
</dd>
<dd>
<pre>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span>  <span class="string">"\L</span><span class="variable">$_</span><span class="string">"</span><span class="operator">,</span> <span class="number">1</span>  <span class="operator">}</span> <span class="variable">@array</span>  <span class="comment"># perl guesses EXPR.  wrong</span>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="operator">+</span><span class="string">"\L</span><span class="variable">$_</span><span class="string">"</span><span class="operator">,</span> <span class="number">1</span>  <span class="operator">}</span> <span class="variable">@array</span>  <span class="comment"># perl guesses BLOCK. right</span>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="operator">(</span><span class="string">"\L</span><span class="variable">$_</span><span class="string">"</span><span class="operator">,</span> <span class="number">1</span><span class="operator">)</span> <span class="operator">}</span> <span class="variable">@array</span>  <span class="comment"># this also works</span>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span>  <span class="keyword">lc</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">),</span> <span class="number">1</span>  <span class="operator">}</span> <span class="variable">@array</span>  <span class="comment"># as does this.</span>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">+(</span> <span class="keyword">lc</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">),</span> <span class="number">1</span> <span class="operator">),</span> <span class="variable">@array</span>  <span class="comment"># this is EXPR and works!</span>
</pre>
</dd>
<dd>
<pre>
    %hash = map  ( lc($_), 1 ), @array  # evaluates to (1, @array)</pre>
</dd>
<dd>
<p>or to force an anon hash constructor use <code>+{</code>:</p>
</dd>
<dd>
<pre>
   <span class="variable">@hashes</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">+{</span> <span class="keyword">lc</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">),</span> <span class="number">1</span> <span class="operator">},</span> <span class="variable">@array</span> <span class="comment"># EXPR, so needs , at end</span>
</pre>
</dd>
<dd>
<p>and you get list of anonymous hashes each with only 1 entry.</p>
</dd>
</li>
<dt><strong><a name="mkdir" class="item">mkdir FILENAME,MASK</a></strong>

<dt><strong>mkdir FILENAME</strong>

<dt><strong>mkdir</strong>

<dd>
<p>Creates the directory specified by FILENAME, with permissions
specified by MASK (as modified by <a href="#umask"><code>umask</code></a>).  If it succeeds it
returns true, otherwise it returns false and sets <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> (errno).
If omitted, MASK defaults to 0777. If omitted, FILENAME defaults
to <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
<dd>
<p>In general, it is better to create directories with permissive MASK,
and let the user modify that with their <a href="#umask"><code>umask</code></a>, than it is to supply
a restrictive MASK and give the user no way to be more permissive.
The exceptions to this rule are when the file or directory should be
kept private (mail files, for instance).  The <code>perlfunc(1)</code> entry on
<a href="#umask"><code>umask</code></a> discusses the choice of MASK in more detail.</p>
</dd>
<dd>
<p>Note that according to the POSIX 1003.1-1996 the FILENAME may have any
number of trailing slashes.  Some operating and filesystems do not get
this right, so Perl automatically removes all trailing slashes to keep
everyone happy.</p>
</dd>
<dd>
<p>In order to recursively create a directory structure look at
the <code>mkpath</code> function of the <a href="../../lib/File/Path.html">the File::Path manpage</a> module.</p>
</dd>
</li>
<dt><strong><a name="msgctl" class="item">msgctl ID,CMD,ARG</a></strong>

<dd>
<p>Calls the System V IPC function <a href="#msgctl"><code>msgctl(2)</code></a>.  You'll probably have to say</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">IPC::SysV</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>first to get the correct constant definitions.  If CMD is <code>IPC_STAT</code>,
then ARG must be a variable that will hold the returned <code>msqid_ds</code>
structure.  Returns like <a href="#ioctl"><code>ioctl</code></a>: the undefined value for error,
<code>&quot;0 but true&quot;</code> for zero, or the actual return value otherwise.  See also
<a href="../../lib/pods/perlipc.html#sysv_ipc">SysV IPC in the perlipc manpage</a>, <code>IPC::SysV</code>, and <code>IPC::Semaphore</code> documentation.</p>
</dd>
</li>
<dt><strong><a name="msgget" class="item">msgget KEY,FLAGS</a></strong>

<dd>
<p>Calls the System V IPC function <a href="#msgget"><code>msgget(2)</code></a>.  Returns the message queue
id, or the undefined value if there is an error.  See also
<a href="../../lib/pods/perlipc.html#sysv_ipc">SysV IPC in the perlipc manpage</a> and <code>IPC::SysV</code> and <code>IPC::Msg</code> documentation.</p>
</dd>
</li>
<dt><strong><a name="msgrcv" class="item">msgrcv ID,VAR,SIZE,TYPE,FLAGS</a></strong>

<dd>
<p>Calls the System V IPC function msgrcv to receive a message from
message queue ID into variable VAR with a maximum message size of
SIZE.  Note that when a message is received, the message type as a
native long integer will be the first thing in VAR, followed by the
actual message.  This packing may be opened with <a href="#unpack"><code>unpack(&quot;l! a*&quot;)</code></a>.
Taints the variable.  Returns true if successful, or false if there is
an error.  See also <a href="../../lib/pods/perlipc.html#sysv_ipc">SysV IPC in the perlipc manpage</a>, <code>IPC::SysV</code>, and
<code>IPC::SysV::Msg</code> documentation.</p>
</dd>
</li>
<dt><strong><a name="msgsnd" class="item">msgsnd ID,MSG,FLAGS</a></strong>

<dd>
<p>Calls the System V IPC function msgsnd to send the message MSG to the
message queue ID.  MSG must begin with the native long integer message
type, and be followed by the length of the actual message, and finally
the message itself.  This kind of packing can be achieved with
<a href="#pack"><code>pack(&quot;l! a*&quot;, $type, $message)</code></a>.  Returns true if successful,
or false if there is an error.  See also <code>IPC::SysV</code>
and <code>IPC::SysV::Msg</code> documentation.</p>
</dd>
</li>
<dt><strong><a name="my" class="item">my EXPR</a></strong>

<dt><strong>my TYPE EXPR</strong>

<dt><strong><a name="my_expr_attrs" class="item">my EXPR : ATTRS</a></strong>

<dt><strong><a name="my_type_expr_attrs" class="item">my TYPE EXPR : ATTRS</a></strong>

<dd>
<p>A <a href="#my"><code>my</code></a> declares the listed variables to be local (lexically) to the
enclosing block, file, or <a href="#eval"><code>eval</code></a>.  If more than one value is listed,
the list must be placed in parentheses.</p>
</dd>
<dd>
<p>The exact semantics and interface of TYPE and ATTRS are still
evolving.  TYPE is currently bound to the use of <code>fields</code> pragma,
and attributes are handled using the <code>attributes</code> pragma, or starting
from Perl 5.8.0 also via the <code>Attribute::Handlers</code> module.  See
<a href="../../lib/pods/perlsub.html#private_variables_via_my__">Private Variables via my() in the perlsub manpage</a> for details, and <a href="../../lib/fields.html">the fields manpage</a>,
<a href="../../lib/attributes.html">the attributes manpage</a>, and <a href="../../lib/Attribute/Handlers.html">the Attribute::Handlers manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="next" class="item">next LABEL</a></strong>

<dt><strong>next</strong>

<dd>
<p>The <a href="#next"><code>next</code></a> command is like the <a href="#continue"><code>continue</code></a> statement in C; it starts
the next iteration of the loop:</p>
</dd>
<dd>
<pre>
    <span class="variable">LINE</span><span class="operator">:</span> <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;)</span> <span class="operator">{</span>
        <span class="keyword">next</span> <span class="variable">LINE</span> <span class="keyword">if</span> <span class="regex">/^#/</span><span class="operator">;</span>      <span class="comment"># discard comments</span>
        <span class="comment">#...</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Note that if there were a <a href="#continue"><code>continue</code></a> block on the above, it would get
executed even on discarded lines.  If the LABEL is omitted, the command
refers to the innermost enclosing loop.</p>
</dd>
<dd>
<p><a href="#next"><code>next</code></a> cannot be used to exit a block which returns a value such as
<a href="#eval"><code>eval {}</code></a>, <a href="#sub"><code>sub {}</code></a> or <a href="#do"><code>do {}</code></a>, and should not be used to exit
a <a href="#grep"><code>grep()</code></a> or <a href="#map"><code>map()</code></a> operation.</p>
</dd>
<dd>
<p>Note that a block by itself is semantically identical to a loop
that executes once.  Thus <a href="#next"><code>next</code></a> will exit such a block early.</p>
</dd>
<dd>
<p>See also <a href="#continue">continue</a> for an illustration of how <a href="#last"><code>last</code></a>, <a href="#next"><code>next</code></a>, and
<a href="#redo"><code>redo</code></a> work.</p>
</dd>
</li>
<dt><strong><a name="no" class="item">no Module VERSION LIST</a></strong>

<dt><strong>no Module VERSION</strong>

<dt><strong>no Module LIST</strong>

<dt><strong>no Module</strong>

<dt><strong>no VERSION</strong>

<dd>
<p>See the <a href="#use"><code>use</code></a> function, of which <a href="#no"><code>no</code></a> is the opposite.</p>
</dd>
</li>
<dt><strong><a name="oct" class="item">oct EXPR</a></strong>

<dt><strong>oct</strong>

<dd>
<p>Interprets EXPR as an octal string and returns the corresponding
value.  (If EXPR happens to start off with <code>0x</code>, interprets it as a
hex string.  If EXPR starts off with <code>0b</code>, it is interpreted as a
binary string.  Leading whitespace is ignored in all three cases.)
The following will handle decimal, binary, octal, and hex in the standard
Perl or C notation:</p>
</dd>
<dd>
<pre>
    <span class="variable">$val</span> <span class="operator">=</span> <span class="keyword">oct</span><span class="operator">(</span><span class="variable">$val</span><span class="operator">)</span> <span class="keyword">if</span> <span class="variable">$val</span> <span class="operator">=~</span> <span class="regex">/^0/</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>If EXPR is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.   To go the other way (produce a number
in octal), use <a href="#sprintf"><code>sprintf()</code></a> or printf():</p>
</dd>
<dd>
<pre>
    <span class="variable">$perms</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">stat</span><span class="operator">(</span><span class="string">"filename"</span><span class="operator">))</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span> <span class="operator">&amp;</span> <span class="number">07777</span><span class="operator">;</span>
    <span class="variable">$oct_perms</span> <span class="operator">=</span> <span class="keyword">sprintf</span> <span class="string">"%lo"</span><span class="operator">,</span> <span class="variable">$perms</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>The <a href="#oct"><code>oct()</code></a> function is commonly used when a string such as <code>644</code> needs
to be converted into a file mode, for example. (Although perl will
automatically convert strings into numbers as needed, this automatic
conversion assumes base 10.)</p>
</dd>
</li>
<dt><strong><a name="open" class="item">open FILEHANDLE,EXPR</a></strong>

<dt><strong>open FILEHANDLE,MODE,EXPR</strong>

<dt><strong>open FILEHANDLE,MODE,EXPR,LIST</strong>

<dt><strong>open FILEHANDLE,MODE,REFERENCE</strong>

<dt><strong>open FILEHANDLE</strong>

<dd>
<p>Opens the file whose filename is given by EXPR, and associates it with
FILEHANDLE.</p>
</dd>
<dd>
<p>(The following is a comprehensive reference to open(): for a gentler
introduction you may consider <a href="../../lib/pods/perlopentut.html">the perlopentut manpage</a>.)</p>
</dd>
<dd>
<p>If FILEHANDLE is an undefined scalar variable (or array or hash element)
the variable is assigned a reference to a new anonymous filehandle,
otherwise if FILEHANDLE is an expression, its value is used as the name of
the real filehandle wanted.  (This is considered a symbolic reference, so
<code>use strict 'refs'</code> should <em>not</em> be in effect.)</p>
</dd>
<dd>
<p>If EXPR is omitted, the scalar variable of the same name as the
FILEHANDLE contains the filename.  (Note that lexical variables--those
declared with <a href="#my"><code>my</code></a>--will not work for this purpose; so if you're
using <a href="#my"><code>my</code></a>, specify EXPR in your call to open.)</p>
</dd>
<dd>
<p>If three or more arguments are specified then the mode of opening and
the file name are separate. If MODE is <code>'&lt;'</code> or nothing, the file
is opened for input.  If MODE is <code>'&gt;'</code>, the file is truncated and
opened for output, being created if necessary.  If MODE is <code>'&gt;&gt;'</code>,
the file is opened for appending, again being created if necessary.</p>
</dd>
<dd>
<p>You can put a <code>'+'</code> in front of the <code>'&gt;'</code> or <code>'&lt;'</code> to
indicate that you want both read and write access to the file; thus
<code>'+&lt;'</code> is almost always preferred for read/write updates--the <code>&lt;
'+</code>' &gt;&gt; mode would clobber the file first.  You can't usually use
either read-write mode for updating textfiles, since they have
variable length records.  See the <strong>-i</strong> switch in <a href="../../lib/pods/perlrun.html">the perlrun manpage</a> for a
better approach.  The file is created with permissions of <code>0666</code>
modified by the process' <a href="#umask"><code>umask</code></a> value.</p>
</dd>
<dd>
<p>These various prefixes correspond to the <code>fopen(3)</code> modes of <a href="../../lib/pods/perlguts.html#r"><code>'r'</code></a>,
<a href="../../lib/pods/perlguts.html#r"><code>'r+'</code></a>, <a href="../../lib/pods/perlrun.html#w"><code>'w'</code></a>, <a href="../../lib/pods/perlrun.html#w"><code>'w+'</code></a>, <a href="../../lib/pods/perlrun.html#a"><code>'a'</code></a>, and <a href="../../lib/pods/perlrun.html#a"><code>'a+'</code></a>.</p>
</dd>
<dd>
<p>In the 2-arguments (and 1-argument) form of the call the mode and
filename should be concatenated (in this order), possibly separated by
spaces.  It is possible to omit the mode in these forms if the mode is
<code>'&lt;'</code>.</p>
</dd>
<dd>
<p>If the filename begins with <code>'|'</code>, the filename is interpreted as a
command to which output is to be piped, and if the filename ends with a
<code>'|'</code>, the filename is interpreted as a command which pipes output to
us.  See <a href="../../lib/pods/perlipc.html#using_open___for_ipc">Using open() for IPC in the perlipc manpage</a>
for more examples of this.  (You are not allowed to <a href="#open"><code>open</code></a> to a command
that pipes both in <em>and</em> out, but see <a href="../../lib/IPC/Open2.html">the IPC::Open2 manpage</a>, <a href="../../lib/IPC/Open3.html">the IPC::Open3 manpage</a>,
and <a href="../../lib/pods/perlipc.html#bidirectional_communication_with_another_process">Bidirectional Communication with Another Process in the perlipc manpage</a>
for alternatives.)</p>
</dd>
<dd>
<p>For three or more arguments if MODE is <code>'|-'</code>, the filename is
interpreted as a command to which output is to be piped, and if MODE
is <code>'-|'</code>, the filename is interpreted as a command which pipes
output to us.  In the 2-arguments (and 1-argument) form one should
replace dash (<code>'-'</code>) with the command.
See <a href="../../lib/pods/perlipc.html#using_open___for_ipc">Using open() for IPC in the perlipc manpage</a> for more examples of this.
(You are not allowed to <a href="#open"><code>open</code></a> to a command that pipes both in <em>and</em>
out, but see <a href="../../lib/IPC/Open2.html">the IPC::Open2 manpage</a>, <a href="../../lib/IPC/Open3.html">the IPC::Open3 manpage</a>, and
<a href="../../lib/pods/perlipc.html#bidirectional_communication">Bidirectional Communication in the perlipc manpage</a> for alternatives.)</p>
</dd>
<dd>
<p>In the three-or-more argument form of pipe opens, if LIST is specified
(extra arguments after the command name) then LIST becomes arguments
to the command invoked if the platform supports it.  The meaning of
<a href="#open"><code>open</code></a> with more than three arguments for non-pipe modes is not yet
specified. Experimental &quot;layers&quot; may give extra LIST arguments
meaning.</p>
</dd>
<dd>
<p>In the 2-arguments (and 1-argument) form opening <code>'-'</code> opens STDIN
and opening <code>'&gt;-'</code> opens STDOUT.</p>
</dd>
<dd>
<p>You may use the three-argument form of open to specify IO &quot;layers&quot;
(sometimes also referred to as &quot;disciplines&quot;) to be applied to the handle
that affect how the input and output are processed (see <a href="../../lib/open.html">the open manpage</a> and
<a href="../../lib/PerlIO.html">the PerlIO manpage</a> for more details). For example</p>
</dd>
<dd>
<pre>
  open(FH, &quot;&lt;:encoding(UTF-8)&quot;, &quot;file&quot;)</pre>
</dd>
<dd>
<p>will open the UTF-8 encoded file containing Unicode characters,
see <a href="../../lib/pods/perluniintro.html">the perluniintro manpage</a>. Note that if layers are specified in the
three-arg form then default layers stored in ${^OPEN} (see <a href="../../lib/pods/perlvar.html">the perlvar manpage</a>;
usually set by the <strong>open</strong> pragma or the switch <strong>-CioD</strong>) are ignored.</p>
</dd>
<dd>
<p>Open returns nonzero upon success, the undefined value otherwise.  If
the <a href="#open"><code>open</code></a> involved a pipe, the return value happens to be the pid of
the subprocess.</p>
</dd>
<dd>
<p>If you're running Perl on a system that distinguishes between text
files and binary files, then you should check out <a href="#binmode">binmode</a> for tips
for dealing with this.  The key distinction between systems that need
<a href="#binmode"><code>binmode</code></a> and those that don't is their text file formats.  Systems
like Unix, Mac OS, and Plan 9, which delimit lines with a single
character, and which encode that character in C as <a href="../../lib/pods/perlrun.html#n"><code>&quot;\n&quot;</code></a>, do not
need <a href="#binmode"><code>binmode</code></a>.  The rest need it.</p>
</dd>
<dd>
<p>When opening a file, it's usually a bad idea to continue normal execution
if the request failed, so <a href="#open"><code>open</code></a> is frequently used in connection with
<a href="#die"><code>die</code></a>.  Even if <a href="#die"><code>die</code></a> won't do what you want (say, in a CGI script,
where you want to make a nicely formatted error message (but there are
modules that can help with that problem)) you should always check
the return value from opening a file.  The infrequent exception is when
working with an unopened filehandle is actually what you want to do.</p>
</dd>
<dd>
<p>As a special case the 3-arg form with a read/write mode and the third
argument being <a href="#undef"><code>undef</code></a>:</p>
</dd>
<dd>
<pre>
    open(TMP, &quot;+&gt;&quot;, undef) or die ...</pre>
</dd>
<dd>
<p>opens a filehandle to an anonymous temporary file.  Also using &quot;+&lt;&quot;
works for symmetry, but you really should consider writing something
to the temporary file first.  You will need to <a href="#seek"><code>seek()</code></a> to do the
reading.</p>
</dd>
<dd>
<p>Since v5.8.0, perl has built using PerlIO by default.  Unless you've
changed this (i.e. Configure -Uuseperlio), you can open file handles to
&quot;in memory&quot; files held in Perl scalars via:</p>
</dd>
<dd>
<pre>
    open($fh, '&gt;', \$variable) || ..</pre>
</dd>
<dd>
<p>Though if you try to re-open <code>STDOUT</code> or <code>STDERR</code> as an &quot;in memory&quot;
file, you have to close it first:</p>
</dd>
<dd>
<pre>
    <span class="keyword">close</span> <span class="variable">STDOUT</span><span class="operator">;</span>
    <span class="keyword">open</span> <span class="variable">STDOUT</span><span class="operator">,</span> <span class="string">'&gt;'</span><span class="operator">,</span> <span class="operator">\</span><span class="variable">$variable</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open STDOUT: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Examples:</p>
</dd>
<dd>
<pre>
    <span class="variable">$ARTICLE</span> <span class="operator">=</span> <span class="number">100</span><span class="operator">;</span>
    <span class="keyword">open</span> <span class="variable">ARTICLE</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't find article </span><span class="variable">$ARTICLE</span><span class="string">: $!\n"</span><span class="operator">;</span>
    <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">ARTICLE</span><span class="operator">&gt;)</span> <span class="operator">{...</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">LOG</span><span class="operator">,</span> <span class="string">'&gt;&gt;/usr/spool/news/twitlog'</span><span class="operator">);</span>     <span class="comment"># (log is reserved)</span>
    <span class="comment"># if the open fails, output is discarded</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">DBASE</span><span class="operator">,</span> <span class="string">'+&lt;'</span><span class="operator">,</span> <span class="string">'dbase.mine'</span><span class="operator">)</span>             <span class="comment"># open for update</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open 'dbase.mine' for update: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">DBASE</span><span class="operator">,</span> <span class="string">'+&lt;dbase.mine'</span><span class="operator">)</span>                 <span class="comment"># ditto</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open 'dbase.mine' for update: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">ARTICLE</span><span class="operator">,</span> <span class="string">'-|'</span><span class="operator">,</span> <span class="string">"caesar &lt;</span><span class="variable">$article</span><span class="string">"</span><span class="operator">)</span>     <span class="comment"># decrypt article</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't start caesar: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">ARTICLE</span><span class="operator">,</span> <span class="string">"caesar &lt;</span><span class="variable">$article</span><span class="string"> |"</span><span class="operator">)</span>         <span class="comment"># ditto</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't start caesar: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">EXTRACT</span><span class="operator">,</span> <span class="string">"|sort &gt;Tmp$$"</span><span class="operator">)</span>               <span class="comment"># $$ is our process id</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't start sort: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># in memory files</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">MEMORY</span><span class="operator">,</span><span class="string">'&gt;'</span><span class="operator">,</span> <span class="operator">\</span><span class="variable">$var</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open memory file: $!"</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="variable">MEMORY</span> <span class="string">"foo!\n"</span><span class="operator">;</span>                      <span class="comment"># output will end up in $var</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># process argument list of files along with any includes</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">foreach</span> <span class="variable">$file</span> <span class="operator">(</span><span class="variable">@ARGV</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">process</span><span class="operator">(</span><span class="variable">$file</span><span class="operator">,</span> <span class="string">'fh00'</span><span class="operator">);</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> process </span><span class="operator">{</span>
        <span class="keyword">my</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">,</span> <span class="variable">$input</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="variable">$input</span><span class="operator">++;</span>               <span class="comment"># this is a string increment</span>
        <span class="keyword">unless</span> <span class="operator">(</span><span class="keyword">open</span><span class="operator">(</span><span class="variable">$input</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">))</span> <span class="operator">{</span>
            <span class="keyword">print</span> <span class="variable">STDERR</span> <span class="string">"Can't open </span><span class="variable">$filename</span><span class="string">: $!\n"</span><span class="operator">;</span>
            <span class="keyword">return</span><span class="operator">;</span>
        <span class="operator">}</span>
</pre>
</dd>
<dd>
<pre>
        <span class="keyword">local</span> <span class="variable">$_</span><span class="operator">;</span>
        <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">$input</span><span class="operator">&gt;)</span> <span class="operator">{</span>              <span class="comment"># note use of indirection</span>
            <span class="keyword">if</span> <span class="operator">(</span><span class="regex">/^#include "(.*)"/</span><span class="operator">)</span> <span class="operator">{</span>
                <span class="variable">process</span><span class="operator">(</span><span class="variable">$1</span><span class="operator">,</span> <span class="variable">$input</span><span class="operator">);</span>
                <span class="keyword">next</span><span class="operator">;</span>
            <span class="operator">}</span>
            <span class="comment">#...                # whatever</span>
        <span class="operator">}</span>
            <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>See <a href="../../lib/pods/perliol.html">the perliol manpage</a> for detailed info on PerlIO.</p>
</dd>
<dd>
<p>You may also, in the Bourne shell tradition, specify an EXPR beginning
with <code>'&gt;&amp;'</code>, in which case the rest of the string is interpreted
as the name of a filehandle (or file descriptor, if numeric) to be
duped (as <em>dup(2)</em>) and opened.  You may use <code>&amp;</code> after <code>&gt;</code>,
<code>&gt;&gt;</code>, <code>&lt;</code>, <code>+&gt;</code>, <code>+&gt;&gt;</code>, and <code>+&lt;</code>.
The mode you specify should match the mode of the original filehandle.
(Duping a filehandle does not take into account any existing contents
of IO buffers.) If you use the 3-arg form then you can pass either a
number, the name of a filehandle or the normal &quot;reference to a glob&quot;.</p>
</dd>
<dd>
<p>Here is a script that saves, redirects, and restores <code>STDOUT</code> and
<code>STDERR</code> using various methods:</p>
</dd>
<dd>
<pre>
    <span class="comment">#!/usr/bin/perl</span>
    <span class="keyword">open</span> <span class="keyword">my</span> <span class="variable">$oldout</span><span class="operator">,</span> <span class="string">"&gt;&amp;STDOUT"</span>     <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't dup STDOUT: $!"</span><span class="operator">;</span>
    <span class="keyword">open</span> <span class="variable">OLDERR</span><span class="operator">,</span>     <span class="string">"&gt;&amp;"</span><span class="operator">,</span> <span class="operator">\</span><span class="variable">*STDERR</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't dup STDERR: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">open</span> <span class="variable">STDOUT</span><span class="operator">,</span> <span class="string">'&gt;'</span><span class="operator">,</span> <span class="string">"foo.out"</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't redirect STDOUT: $!"</span><span class="operator">;</span>
    <span class="keyword">open</span> <span class="variable">STDERR</span><span class="operator">,</span> <span class="string">"&gt;&amp;STDOUT"</span>     <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't dup STDOUT: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">select</span> <span class="variable">STDERR</span><span class="operator">;</span> <span class="variable">$|</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>      <span class="comment"># make unbuffered</span>
    <span class="keyword">select</span> <span class="variable">STDOUT</span><span class="operator">;</span> <span class="variable">$|</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>      <span class="comment"># make unbuffered</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="variable">STDOUT</span> <span class="string">"stdout 1\n"</span><span class="operator">;</span>  <span class="comment"># this works for</span>
    <span class="keyword">print</span> <span class="variable">STDERR</span> <span class="string">"stderr 1\n"</span><span class="operator">;</span>  <span class="comment"># subprocesses too</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">open</span> <span class="variable">STDOUT</span><span class="operator">,</span> <span class="string">"&gt;&amp;"</span><span class="operator">,</span> <span class="variable">$oldout</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't dup \$oldout: $!"</span><span class="operator">;</span>
    <span class="keyword">open</span> <span class="variable">STDERR</span><span class="operator">,</span> <span class="string">"&gt;&amp;OLDERR"</span>    <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't dup OLDERR: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="variable">STDOUT</span> <span class="string">"stdout 2\n"</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="variable">STDERR</span> <span class="string">"stderr 2\n"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>If you specify <a href="#x"><code>'&lt;&amp;=X'</code></a>, where <a href="#x"><code>X</code></a> is a file descriptor number
or a filehandle, then Perl will do an equivalent of C's <code>fdopen</code> of
that file descriptor (and not call <em>dup(2)</em>); this is more
parsimonious of file descriptors.  For example:</p>
</dd>
<dd>
<pre>
    # open for input, reusing the fileno of $fd
    open(FILEHANDLE, &quot;&lt;&amp;=$fd&quot;)</pre>
</dd>
<dd>
<p>or</p>
</dd>
<dd>
<pre>
    open(FILEHANDLE, &quot;&lt;&amp;=&quot;, $fd)</pre>
</dd>
<dd>
<p>or</p>
</dd>
<dd>
<pre>
    # open for append, using the fileno of OLDFH
    open(FH, &quot;&gt;&gt;&amp;=&quot;, OLDFH)</pre>
</dd>
<dd>
<p>or</p>
</dd>
<dd>
<pre>
    open(FH, &quot;&gt;&gt;&amp;=OLDFH&quot;)</pre>
</dd>
<dd>
<p>Being parsimonious on filehandles is also useful (besides being
parsimonious) for example when something is dependent on file
descriptors, like for example locking using <a href="#flock"><code>flock()</code></a>.  If you do just
<a href="#open"><code>open(A, '&gt;&gt;&amp;B')</code></a>, the filehandle A will not have the same file
descriptor as B, and therefore flock(A) will not flock(B), and vice
versa.  But with <a href="#open"><code>open(A, '&gt;&gt;&amp;=B')</code></a> the filehandles will share
the same file descriptor.</p>
</dd>
<dd>
<p>Note that if you are using Perls older than 5.8.0, Perl will be using
the standard C libraries' <code>fdopen()</code> to implement the &quot;=&quot; functionality.
On many UNIX systems <code>fdopen()</code> fails when file descriptors exceed a
certain value, typically 255.  For Perls 5.8.0 and later, PerlIO is
most often the default.</p>
</dd>
<dd>
<p>You can see whether Perl has been compiled with PerlIO or not by
running <code>perl -V</code> and looking for <code>useperlio=</code> line.  If <code>useperlio</code>
is <code>define</code>, you have PerlIO, otherwise you don't.</p>
</dd>
<dd>
<p>If you open a pipe on the command <code>'-'</code>, i.e., either <code>'|-'</code> or <code>'-|'</code>
with 2-arguments (or 1-argument) form of <a href="#open"><code>open()</code></a>, then
there is an implicit fork done, and the return value of open is the pid
of the child within the parent process, and <code>0</code> within the child
process.  (Use <a href="#defined"><code>defined($pid)</code></a> to determine whether the open was successful.)
The filehandle behaves normally for the parent, but i/o to that
filehandle is piped from/to the STDOUT/STDIN of the child process.
In the child process the filehandle isn't opened--i/o happens from/to
the new STDOUT or STDIN.  Typically this is used like the normal
piped open when you want to exercise more control over just how the
pipe command gets executed, such as when you are running setuid, and
don't want to have to scan shell commands for metacharacters.
The following triples are more or less equivalent:</p>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"|tr '[a-z]' '[A-Z]'"</span><span class="operator">);</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">'|-'</span><span class="operator">,</span> <span class="string">"tr '[a-z]' '[A-Z]'"</span><span class="operator">);</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">'|-'</span><span class="operator">)</span> <span class="operator">||</span> <span class="keyword">exec</span> <span class="string">'tr'</span><span class="operator">,</span> <span class="string">'[a-z]'</span><span class="operator">,</span> <span class="string">'[A-Z]'</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">'|-'</span><span class="operator">,</span> <span class="string">"tr"</span><span class="operator">,</span> <span class="string">'[a-z]'</span><span class="operator">,</span> <span class="string">'[A-Z]'</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"cat -n '</span><span class="variable">$file</span><span class="string">'|"</span><span class="operator">);</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">'-|'</span><span class="operator">,</span> <span class="string">"cat -n '</span><span class="variable">$file</span><span class="string">'"</span><span class="operator">);</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">'-|'</span><span class="operator">)</span> <span class="operator">||</span> <span class="keyword">exec</span> <span class="string">'cat'</span><span class="operator">,</span> <span class="string">'-n'</span><span class="operator">,</span> <span class="variable">$file</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">'-|'</span><span class="operator">,</span> <span class="string">"cat"</span><span class="operator">,</span> <span class="string">'-n'</span><span class="operator">,</span> <span class="variable">$file</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>The last example in each block shows the pipe as &quot;list form&quot;, which is
not yet supported on all platforms.  A good rule of thumb is that if
your platform has true <a href="#fork"><code>fork()</code></a> (in other words, if your platform is
UNIX) you can use the list form.</p>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlipc.html#safe_pipe_opens">Safe Pipe Opens in the perlipc manpage</a> for more examples of this.</p>
</dd>
<dd>
<p>Beginning with v5.6.0, Perl will attempt to flush all files opened for
output before any operation that may do a fork, but this may not be
supported on some platforms (see <a href="../../lib/pods/perlport.html">the perlport manpage</a>).  To be safe, you may need
to set <a href="../../lib/pods/perlvar.html#__"><code>$|</code></a> ($AUTOFLUSH in English) or call the <a href="../../lib/pods/perlvar.html#autoflush"><code>autoflush()</code></a> method
of <code>IO::Handle</code> on any open handles.</p>
</dd>
<dd>
<p>On systems that support a close-on-exec flag on files, the flag will
be set for the newly opened file descriptor as determined by the value
of $^F.  See <a href="../../lib/pods/perlvar.html#__f">$^F in the perlvar manpage</a>.</p>
</dd>
<dd>
<p>Closing any piped filehandle causes the parent process to wait for the
child to finish, and returns the status value in <a href="../../lib/pods/perlvar.html#_"><code>$?</code></a> and
<a href="../../lib/pods/perlvar.html#___child_error_native_"><code>${^CHILD_ERROR_NATIVE}</code></a>.</p>
</dd>
<dd>
<p>The filename passed to 2-argument (or 1-argument) form of <a href="#open"><code>open()</code></a> will
have leading and trailing whitespace deleted, and the normal
redirection characters honored.  This property, known as &quot;magic open&quot;,
can often be used to good effect.  A user could specify a filename of
<em class="file">&quot;rsh cat file |&quot;</em>, or you could change certain filenames as needed:</p>
</dd>
<dd>
<pre>
    <span class="variable">$filename</span> <span class="operator">=~</span> <span class="regex">s/(.*\.gz)\s*$/gzip -dc &lt; $1|/</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FH</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open </span><span class="variable">$filename</span><span class="string">: $!"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Use 3-argument form to open a file with arbitrary weird characters in it,</p>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">'&lt;'</span><span class="operator">,</span> <span class="variable">$file</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>otherwise it's necessary to protect any leading and trailing whitespace:</p>
</dd>
<dd>
<pre>
    <span class="variable">$file</span> <span class="operator">=~</span> <span class="regex">s#^(\s)#./$1#</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"&lt; </span><span class="variable">$file</span><span class="string">\0"</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>(this may not work on some bizarre filesystems).  One should
conscientiously choose between the <em>magic</em> and 3-arguments form
of open():</p>
</dd>
<dd>
<pre>
    <span class="keyword">open</span> <span class="variable">IN</span><span class="operator">,</span> <span class="variable">$ARGV</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>will allow the user to specify an argument of the form <code>&quot;rsh cat file |&quot;</code>,
but will not work on a filename which happens to have a trailing space, while</p>
</dd>
<dd>
<pre>
    <span class="keyword">open</span> <span class="variable">IN</span><span class="operator">,</span> <span class="string">'&lt;'</span><span class="operator">,</span> <span class="variable">$ARGV</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>will have exactly the opposite restrictions.</p>
</dd>
<dd>
<p>If you want a &quot;real&quot; C <a href="#open"><code>open</code></a> (see <a href="#open">open(2)</a> on your system), then you
should use the <a href="#sysopen"><code>sysopen</code></a> function, which involves no such magic (but
may use subtly different filemodes than Perl <a href="#open"><code>open()</code></a>, which is mapped
to C fopen()).  This is
another way to protect your filenames from interpretation.  For example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">IO::Handle</span><span class="operator">;</span>
    <span class="keyword">sysopen</span><span class="operator">(</span><span class="variable">HANDLE</span><span class="operator">,</span> <span class="variable">$path</span><span class="operator">,</span> <span class="variable">O_RDWR</span><span class="operator">|</span><span class="variable">O_CREAT</span><span class="operator">|</span><span class="variable">O_EXCL</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"sysopen </span><span class="variable">$path</span><span class="string">: $!"</span><span class="operator">;</span>
    <span class="variable">$oldfh</span> <span class="operator">=</span> <span class="keyword">select</span><span class="operator">(</span><span class="variable">HANDLE</span><span class="operator">);</span> <span class="variable">$|</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span> <span class="keyword">select</span><span class="operator">(</span><span class="variable">$oldfh</span><span class="operator">);</span>
    <span class="keyword">print</span> <span class="variable">HANDLE</span> <span class="string">"stuff $$\n"</span><span class="operator">;</span>
    <span class="keyword">seek</span><span class="operator">(</span><span class="variable">HANDLE</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>
    <span class="keyword">print</span> <span class="string">"File contains: "</span><span class="operator">,</span> <span class="operator">&lt;</span><span class="variable">HANDLE</span><span class="operator">&gt;;</span>
</pre>
</dd>
<dd>
<p>Using the constructor from the <code>IO::Handle</code> package (or one of its
subclasses, such as <code>IO::File</code> or <code>IO::Socket</code>), you can generate anonymous
filehandles that have the scope of whatever variables hold references to
them, and automatically close whenever and however you leave that scope:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">IO::File</span><span class="operator">;</span>
    <span class="comment">#...</span>
    <span class="keyword">sub</span><span class="variable"> read_myfile_munged </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="variable">$ALL</span> <span class="operator">=</span> <span class="keyword">shift</span><span class="operator">;</span>
        <span class="keyword">my</span> <span class="variable">$handle</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">IO::File</span><span class="operator">;</span>
        <span class="keyword">open</span><span class="operator">(</span><span class="variable">$handle</span><span class="operator">,</span> <span class="string">"myfile"</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"myfile: $!"</span><span class="operator">;</span>
        <span class="variable">$first</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">$handle</span><span class="operator">&gt;</span>
            <span class="keyword">or</span> <span class="keyword">return</span> <span class="operator">();</span>     <span class="comment"># Automatically closed here.</span>
        <span class="variable">mung</span> <span class="variable">$first</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"mung failed"</span><span class="operator">;</span>       <span class="comment"># Or here.</span>
        <span class="keyword">return</span> <span class="variable">$first</span><span class="operator">,</span> <span class="operator">&lt;</span><span class="variable">$handle</span><span class="operator">&gt;</span> <span class="keyword">if</span> <span class="variable">$ALL</span><span class="operator">;</span>       <span class="comment"># Or here.</span>
        <span class="variable">$first</span><span class="operator">;</span>                                 <span class="comment"># Or here.</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>See <a href="#seek">seek</a> for some details about mixing reading and writing.</p>
</dd>
</li>
<dt><strong><a name="opendir" class="item">opendir DIRHANDLE,EXPR</a></strong>

<dd>
<p>Opens a directory named EXPR for processing by <a href="#readdir"><code>readdir</code></a>, <a href="#telldir"><code>telldir</code></a>,
<a href="#seekdir"><code>seekdir</code></a>, <a href="#rewinddir"><code>rewinddir</code></a>, and <a href="#closedir"><code>closedir</code></a>.  Returns true if successful.
DIRHANDLE may be an expression whose value can be used as an indirect
dirhandle, usually the real dirhandle name.  If DIRHANDLE is an undefined
scalar variable (or array or hash element), the variable is assigned a
reference to a new anonymous dirhandle.
DIRHANDLEs have their own namespace separate from FILEHANDLEs.</p>
</dd>
</li>
<dt><strong><a name="ord" class="item">ord EXPR</a></strong>

<dt><strong>ord</strong>

<dd>
<p>Returns the numeric (the native 8-bit encoding, like ASCII or EBCDIC,
or Unicode) value of the first character of EXPR.  If EXPR is omitted,
uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
<dd>
<p>For the reverse, see <a href="#chr">chr</a>.
See <a href="../../lib/pods/perlunicode.html">the perlunicode manpage</a> for more about Unicode.</p>
</dd>
</li>
<dt><strong><a name="our" class="item">our EXPR</a></strong>

<dt><strong>our TYPE EXPR</strong>

<dt><strong><a name="our_expr_attrs" class="item">our EXPR : ATTRS</a></strong>

<dt><strong><a name="our_type_expr_attrs" class="item">our TYPE EXPR : ATTRS</a></strong>

<dd>
<p><a href="#our"><code>our</code></a> associates a simple name with a package variable in the current
package for use within the current scope.  When <code>use strict 'vars'</code> is in
effect, <a href="#our"><code>our</code></a> lets you use declared global variables without qualifying
them with package names, within the lexical scope of the <a href="#our"><code>our</code></a> declaration.
In this way <a href="#our"><code>our</code></a> differs from <code>use vars</code>, which is package scoped.</p>
</dd>
<dd>
<p>Unlike <a href="#my"><code>my</code></a>, which both allocates storage for a variable and associates
a simple name with that storage for use within the current scope, <a href="#our"><code>our</code></a>
associates a simple name with a package variable in the current package,
for use within the current scope.  In other words, <a href="#our"><code>our</code></a> has the same
scoping rules as <a href="#my"><code>my</code></a>, but does not necessarily create a
variable.</p>
</dd>
<dd>
<p>If more than one value is listed, the list must be placed
in parentheses.</p>
</dd>
<dd>
<pre>
    <span class="keyword">our</span> <span class="variable">$foo</span><span class="operator">;</span>
    <span class="keyword">our</span><span class="operator">(</span><span class="variable">$bar</span><span class="operator">,</span> <span class="variable">$baz</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>An <a href="#our"><code>our</code></a> declaration declares a global variable that will be visible
across its entire lexical scope, even across package boundaries.  The
package in which the variable is entered is determined at the point
of the declaration, not at the point of use.  This means the following
behavior holds:</p>
</dd>
<dd>
<pre>
    <span class="keyword">package</span> <span class="variable">Foo</span><span class="operator">;</span>
    <span class="keyword">our</span> <span class="variable">$bar</span><span class="operator">;</span>           <span class="comment"># declares $Foo::bar for rest of lexical scope</span>
    <span class="variable">$bar</span> <span class="operator">=</span> <span class="number">20</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">package</span> <span class="variable">Bar</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="variable">$bar</span><span class="operator">;</span>         <span class="comment"># prints 20, as it refers to $Foo::bar</span>
</pre>
</dd>
<dd>
<p>Multiple <a href="#our"><code>our</code></a> declarations with the same name in the same lexical
scope are allowed if they are in different packages.  If they happen
to be in the same package, Perl will emit warnings if you have asked
for them, just like multiple <a href="#my"><code>my</code></a> declarations.  Unlike a second
<a href="#my"><code>my</code></a> declaration, which will bind the name to a fresh variable, a
second <a href="#our"><code>our</code></a> declaration in the same package, in the same scope, is
merely redundant.</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">warnings</span><span class="operator">;</span>
    <span class="keyword">package</span> <span class="variable">Foo</span><span class="operator">;</span>
    <span class="keyword">our</span> <span class="variable">$bar</span><span class="operator">;</span>           <span class="comment"># declares $Foo::bar for rest of lexical scope</span>
    <span class="variable">$bar</span> <span class="operator">=</span> <span class="number">20</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">package</span> <span class="variable">Bar</span><span class="operator">;</span>
    <span class="keyword">our</span> <span class="variable">$bar</span> <span class="operator">=</span> <span class="number">30</span><span class="operator">;</span>      <span class="comment"># declares $Bar::bar for rest of lexical scope</span>
    <span class="keyword">print</span> <span class="variable">$bar</span><span class="operator">;</span>         <span class="comment"># prints 30</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">our</span> <span class="variable">$bar</span><span class="operator">;</span>           <span class="comment"># emits warning but has no other effect</span>
    <span class="keyword">print</span> <span class="variable">$bar</span><span class="operator">;</span>         <span class="comment"># still prints 30</span>
</pre>
</dd>
<dd>
<p>An <a href="#our"><code>our</code></a> declaration may also have a list of attributes associated
with it.</p>
</dd>
<dd>
<p>The exact semantics and interface of TYPE and ATTRS are still
evolving.  TYPE is currently bound to the use of <code>fields</code> pragma,
and attributes are handled using the <code>attributes</code> pragma, or starting
from Perl 5.8.0 also via the <code>Attribute::Handlers</code> module.  See
<a href="../../lib/pods/perlsub.html#private_variables_via_my__">Private Variables via my() in the perlsub manpage</a> for details, and <a href="../../lib/fields.html">the fields manpage</a>,
<a href="../../lib/attributes.html">the attributes manpage</a>, and <a href="../../lib/Attribute/Handlers.html">the Attribute::Handlers manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="pack" class="item">pack TEMPLATE,LIST</a></strong>

<dd>
<p>Takes a LIST of values and converts it into a string using the rules
given by the TEMPLATE.  The resulting string is the concatenation of
the converted values.  Typically, each converted value looks
like its machine-level representation.  For example, on 32-bit machines
an integer may be represented by a sequence of 4 bytes that will be 
converted to a sequence of 4 characters.</p>
</dd>
<dd>
<p>The TEMPLATE is a sequence of characters that give the order and type
of values, as follows:</p>
</dd>
<dd>
<pre>
    a   A string with arbitrary binary data, will be null padded.
    A   A text (ASCII) string, will be space padded.
    Z   A null terminated (ASCIZ) string, will be null padded.</pre>
</dd>
<dd>
<pre>
    b   A bit string (ascending bit order inside each byte, like vec()).
    B   A bit string (descending bit order inside each byte).
    h   A hex string (low nybble first).
    H   A hex string (high nybble first).</pre>
</dd>
<dd>
<pre>
    c   A signed char (8-bit) value.
    C   An unsigned char (octet) value.
    W   An unsigned char value (can be greater than 255).</pre>
</dd>
<dd>
<pre>
    s   A signed short (16-bit) value.
    S   An unsigned short value.</pre>
</dd>
<dd>
<pre>
    l   A signed long (32-bit) value.
    L   An unsigned long value.</pre>
</dd>
<dd>
<pre>
    q   A signed quad (64-bit) value.
    Q   An unsigned quad value.
          (Quads are available only if your system supports 64-bit
           integer values _and_ if Perl has been compiled to support those.
           Causes a fatal error otherwise.)</pre>
</dd>
<dd>
<pre>
    i   A signed integer value.
    I   A unsigned integer value.
          (This 'integer' is _at_least_ 32 bits wide.  Its exact
           size depends on what a local C compiler calls 'int'.)</pre>
</dd>
<dd>
<pre>
    n   An unsigned short (16-bit) in &quot;network&quot; (big-endian) order.
    N   An unsigned long (32-bit) in &quot;network&quot; (big-endian) order.
    v   An unsigned short (16-bit) in &quot;VAX&quot; (little-endian) order.
    V   An unsigned long (32-bit) in &quot;VAX&quot; (little-endian) order.</pre>
</dd>
<dd>
<pre>
    j   A Perl internal signed integer value (IV).
    J   A Perl internal unsigned integer value (UV).</pre>
</dd>
<dd>
<pre>
    f   A single-precision float in the native format.
    d   A double-precision float in the native format.</pre>
</dd>
<dd>
<pre>
    F   A Perl internal floating point value (NV) in the native format
    D   A long double-precision float in the native format.
          (Long doubles are available only if your system supports long
           double values _and_ if Perl has been compiled to support those.
           Causes a fatal error otherwise.)</pre>
</dd>
<dd>
<pre>
    p   A pointer to a null-terminated string.
    P   A pointer to a structure (fixed-length string).</pre>
</dd>
<dd>
<pre>
    u   A uuencoded string.
    U   A Unicode character number.  Encodes to a character in character mode
        and UTF-8 (or UTF-EBCDIC in EBCDIC platforms) in byte mode.</pre>
</dd>
<dd>
<pre>
    w   A BER compressed integer (not an ASN.1 BER, see <a href="../../lib/pods/perlpacktut.html">perlpacktut</a> for
        details).  Its bytes represent an unsigned integer in base 128,
        most significant digit first, with as few digits as possible.  Bit
        eight (the high bit) is set on each byte except the last.</pre>
</dd>
<dd>
<pre>
    x   A null byte.
    X   Back up a byte.
    @   Null fill or truncate to absolute position, counted from the
        start of the innermost ()-group.
    .   Null fill or truncate to absolute position specified by value.
    (   Start of a ()-group.</pre>
</dd>
<dd>
<p>One or more of the modifiers below may optionally follow some letters in the
TEMPLATE (the second column lists the letters for which the modifier is
valid):</p>
</dd>
<dd>
<pre>
    !   sSlLiI     Forces native (short, long, int) sizes instead
                   of fixed (16-/32-bit) sizes.</pre>
</dd>
<dd>
<pre>
        xX         Make x and X act as alignment commands.</pre>
</dd>
<dd>
<pre>
        nNvV       Treat integers as signed instead of unsigned.</pre>
</dd>
<dd>
<pre>
        @.         Specify position as byte offset in the internal
                   representation of the packed string. Efficient but
                   dangerous.</pre>
</dd>
<dd>
<pre>
    &gt;   sSiIlLqQ   Force big-endian byte-order on the type.
        jJfFdDpP   (The &quot;big end&quot; touches the construct.)</pre>
</dd>
<dd>
<pre>
    &lt;   sSiIlLqQ   Force little-endian byte-order on the type.
        jJfFdDpP   (The &quot;little end&quot; touches the construct.)</pre>
</dd>
<dd>
<p>The <code>&gt;</code> and <code>&lt;</code> modifiers can also be used on <code>()</code>-groups,
in which case they force a certain byte-order on all components of
that group, including subgroups.</p>
</dd>
<dd>
<p>The following rules apply:</p>
</dd>
<ul>
<li>
<p>Each letter may optionally be followed by a number giving a repeat
count.  With all types except <a href="../../lib/pods/perlrun.html#a"><code>a</code></a>, <a href="../../lib/pods/perlguts.html#a"><code>A</code></a>, <code>Z</code>, <a href="../../lib/pods/perlguts.html#b"><code>b</code></a>, <code>B</code>, <a href="../../lib/pods/perlrun.html#h"><code>h</code></a>,
<code>H</code>, <code>@</code>, <code>.</code>, <a href="../../lib/pods/perlrun.html#x"><code>x</code></a>, <a href="#x"><code>X</code></a> and <a href="../../lib/pods/perlrun.html#p"><code>P</code></a> the pack function will gobble up
that many values from the LIST.  A <code>*</code> for the repeat count means to
use however many items are left, except for <code>@</code>, <a href="../../lib/pods/perlrun.html#x"><code>x</code></a>, <a href="#x"><code>X</code></a>, where it
is equivalent to <code>0</code>, for &lt;.&gt; where it means relative to string start
and <a href="../../lib/pods/perlrun.html#u"><code>u</code></a>, where it is equivalent to 1 (or 45, which is the same).
A numeric repeat count may optionally be enclosed in brackets, as in
<code>pack 'C[80]', @arr</code>.</p>
<p>One can replace the numeric repeat count by a template enclosed in brackets;
then the packed length of this template in bytes is used as a count.
For example, <code>x[L]</code> skips a long (it skips the number of bytes in a long);
the template <code>$t X[$t] $t</code> unpack()s twice what $t unpacks.
If the template in brackets contains alignment commands (such as <code>x![d]</code>),
its packed length is calculated as if the start of the template has the maximal
possible alignment.</p>
<p>When used with <code>Z</code>, <code>*</code> results in the addition of a trailing null
byte (so the packed result will be one longer than the byte <a href="#length"><code>length</code></a>
of the item).</p>
<p>When used with <code>@</code>, the repeat count represents an offset from the start
of the innermost () group.</p>
<p>When used with <code>.</code>, the repeat count is used to determine the starting
position from where the value offset is calculated. If the repeat count
is 0, it's relative to the current position. If the repeat count is <code>*</code>,
the offset is relative to the start of the packed string. And if its an
integer <a href="../../lib/pods/perlrun.html#n"><code>n</code></a> the offset is relative to the start of the n-th innermost
() group (or the start of the string if <a href="../../lib/pods/perlrun.html#n"><code>n</code></a> is bigger then the group
level).</p>
<p>The repeat count for <a href="../../lib/pods/perlrun.html#u"><code>u</code></a> is interpreted as the maximal number of bytes
to encode per line of output, with 0, 1 and 2 replaced by 45. The repeat 
count should not be more than 65.</p>
</li>
<li>
<p>The <a href="../../lib/pods/perlrun.html#a"><code>a</code></a>, <a href="../../lib/pods/perlguts.html#a"><code>A</code></a>, and <code>Z</code> types gobble just one value, but pack it as a
string of length count, padding with nulls or spaces as necessary.  When
unpacking, <a href="../../lib/pods/perlguts.html#a"><code>A</code></a> strips trailing whitespace and nulls, <code>Z</code> strips everything
after the first null, and <a href="../../lib/pods/perlrun.html#a"><code>a</code></a> returns data verbatim.</p>
<p>If the value-to-pack is too long, it is truncated.  If too long and an
explicit count is provided, <code>Z</code> packs only <code>$count-1</code> bytes, followed
by a null byte.  Thus <code>Z</code> always packs a trailing null (except when the
count is 0).</p>
</li>
<li>
<p>Likewise, the <a href="../../lib/pods/perlguts.html#b"><code>b</code></a> and <code>B</code> fields pack a string that many bits long.
Each character of the input field of <a href="#pack"><code>pack()</code></a> generates 1 bit of the result.
Each result bit is based on the least-significant bit of the corresponding
input character, i.e., on <a href="#ord"><code>ord($char)%2</code></a>.  In particular, characters <code>&quot;0&quot;</code>
and <code>&quot;1&quot;</code> generate bits 0 and 1, as do characters <code>&quot;\0&quot;</code> and <code>&quot;\1&quot;</code>.</p>
<p>Starting from the beginning of the input string of <a href="#pack"><code>pack()</code></a>, each 8-tuple
of characters is converted to 1 character of output.  With format <a href="../../lib/pods/perlguts.html#b"><code>b</code></a>
the first character of the 8-tuple determines the least-significant bit of a
character, and with format <code>B</code> it determines the most-significant bit of
a character.</p>
<p>If the length of the input string is not exactly divisible by 8, the
remainder is packed as if the input string were padded by null characters
at the end.  Similarly, during unpack()ing the &quot;extra&quot; bits are ignored.</p>
<p>If the input string of <a href="#pack"><code>pack()</code></a> is longer than needed, extra characters are 
ignored. A <code>*</code> for the repeat count of <a href="#pack"><code>pack()</code></a> means to use all the 
characters of the input field.  On unpack()ing the bits are converted to a 
string of <code>&quot;0&quot;</code>s and <code>&quot;1&quot;</code>s.</p>
</li>
<li>
<p>The <a href="../../lib/pods/perlrun.html#h"><code>h</code></a> and <code>H</code> fields pack a string that many nybbles (4-bit groups,
representable as hexadecimal digits, 0-9a-f) long.</p>
<p>Each character of the input field of <a href="#pack"><code>pack()</code></a> generates 4 bits of the result.
For non-alphabetical characters the result is based on the 4 least-significant
bits of the input character, i.e., on <a href="#ord"><code>ord($char)%16</code></a>.  In particular,
characters <code>&quot;0&quot;</code> and <code>&quot;1&quot;</code> generate nybbles 0 and 1, as do bytes
<code>&quot;\0&quot;</code> and <code>&quot;\1&quot;</code>.  For characters <code>&quot;a&quot;..&quot;f&quot;</code> and <code>&quot;A&quot;..&quot;F&quot;</code> the result
is compatible with the usual hexadecimal digits, so that <a href="../../lib/pods/perlrun.html#a"><code>&quot;a&quot;</code></a> and
<a href="../../lib/pods/perlguts.html#a"><code>&quot;A&quot;</code></a> both generate the nybble <code>0xa==10</code>.  The result for characters
<code>&quot;g&quot;..&quot;z&quot;</code> and <code>&quot;G&quot;..&quot;Z&quot;</code> is not well-defined.</p>
<p>Starting from the beginning of the input string of <a href="#pack"><code>pack()</code></a>, each pair
of characters is converted to 1 character of output.  With format <a href="../../lib/pods/perlrun.html#h"><code>h</code></a> the
first character of the pair determines the least-significant nybble of the
output character, and with format <code>H</code> it determines the most-significant
nybble.</p>
<p>If the length of the input string is not even, it behaves as if padded
by a null character at the end.  Similarly, during unpack()ing the &quot;extra&quot;
nybbles are ignored.</p>
<p>If the input string of <a href="#pack"><code>pack()</code></a> is longer than needed, extra characters are
ignored.
A <code>*</code> for the repeat count of <a href="#pack"><code>pack()</code></a> means to use all the characters of
the input field.  On unpack()ing the nybbles are converted to a string
of hexadecimal digits.</p>
</li>
<li>
<p>The <a href="../../lib/pods/perlrun.html#p"><code>p</code></a> type packs a pointer to a null-terminated string.  You are
responsible for ensuring the string is not a temporary value (which can
potentially get deallocated before you get around to using the packed result).
The <a href="../../lib/pods/perlrun.html#p"><code>P</code></a> type packs a pointer to a structure of the size indicated by the
length.  A NULL pointer is created if the corresponding value for <a href="../../lib/pods/perlrun.html#p"><code>p</code></a> or
<a href="../../lib/pods/perlrun.html#p"><code>P</code></a> is <a href="#undef"><code>undef</code></a>, similarly for <a href="#unpack"><code>unpack()</code></a>.</p>
<p>If your system has a strange pointer size (i.e. a pointer is neither as
big as an int nor as big as a long), it may not be possible to pack or
unpack pointers in big- or little-endian byte order.  Attempting to do
so will result in a fatal error.</p>
</li>
<li>
<p>The <code>/</code> template character allows packing and unpacking of a sequence of
items where the packed structure contains a packed item count followed by 
the packed items themselves.</p>
<p>For <a href="#pack"><code>pack</code></a> you write <em>length-item</em><code>/</code><em>sequence-item</em> and the
<em>length-item</em> describes how the length value is packed. The ones likely
to be of most use are integer-packing ones like <a href="../../lib/pods/perlrun.html#n"><code>n</code></a> (for Java strings),
<a href="../../lib/pods/perlrun.html#w"><code>w</code></a> (for ASN.1 or SNMP) and <code>N</code> (for Sun XDR).</p>
<p>For <a href="#pack"><code>pack</code></a>, the <em>sequence-item</em> may have a repeat count, in which case
the minimum of that and the number of available items is used as argument
for the <em>length-item</em>. If it has no repeat count or uses a '*', the number
of available items is used.</p>
<p>For <a href="#unpack"><code>unpack</code></a> an internal stack of integer arguments unpacked so far is
used. You write <code>/</code><em>sequence-item</em> and the repeat count is obtained by
popping off the last element from the stack. The <em>sequence-item</em> must not
have a repeat count.</p>
<p>If the <em>sequence-item</em> refers to a string type (<a href="../../lib/pods/perlguts.html#a"><code>&quot;A&quot;</code></a>, <a href="../../lib/pods/perlrun.html#a"><code>&quot;a&quot;</code></a> or <code>&quot;Z&quot;</code>),
the <em>length-item</em> is a string length, not a number of strings. If there is
an explicit repeat count for pack, the packed string will be adjusted to that
given length.</p>
<pre>
    <span class="keyword">unpack</span> <span class="string">'W/a'</span><span class="operator">,</span> <span class="string">"\04Gurusamy"</span><span class="operator">;</span>            <span class="variable">gives</span> <span class="operator">(</span><span class="string">'Guru'</span><span class="operator">)</span>
    <span class="keyword">unpack</span> <span class="string">'a3/A A*'</span><span class="operator">,</span> <span class="string">'007 Bond  J '</span><span class="operator">;</span>       <span class="variable">gives</span> <span class="operator">(</span><span class="string">' Bond'</span><span class="operator">,</span> <span class="string">'J'</span><span class="operator">)</span>
    <span class="keyword">unpack</span> <span class="string">'a3 x2 /A A*'</span><span class="operator">,</span> <span class="string">'007: Bond, J.'</span><span class="operator">;</span>  <span class="variable">gives</span> <span class="operator">(</span><span class="string">'Bond, J'</span><span class="operator">,</span> <span class="string">'.'</span><span class="operator">)</span>
    <span class="keyword">pack</span> <span class="string">'n/a* w/a'</span><span class="operator">,</span><span class="string">'hello,'</span><span class="operator">,</span><span class="string">'world'</span><span class="operator">;</span>       <span class="variable">gives</span> <span class="string">"\000\006hello,\005world"</span>
    <span class="keyword">pack</span> <span class="string">'a/W2'</span><span class="operator">,</span> <span class="keyword">ord</span><span class="operator">(</span><span class="string">'a'</span><span class="operator">)</span> <span class="operator">..</span> <span class="keyword">ord</span><span class="operator">(</span><span class="string">'z'</span><span class="operator">);</span>      <span class="variable">gives</span> <span class="string">'2ab'</span>
</pre>
<p>The <em>length-item</em> is not returned explicitly from <a href="#unpack"><code>unpack</code></a>.</p>
<p>Adding a count to the <em>length-item</em> letter is unlikely to do anything
useful, unless that letter is <a href="../../lib/pods/perlguts.html#a"><code>A</code></a>, <a href="../../lib/pods/perlrun.html#a"><code>a</code></a> or <code>Z</code>.  Packing with a
<em>length-item</em> of <a href="../../lib/pods/perlrun.html#a"><code>a</code></a> or <code>Z</code> may introduce <code>&quot;\000&quot;</code> characters,
which Perl does not regard as legal in numeric strings.</p>
</li>
<li>
<p>The integer types <a href="../../lib/pods/perlrun.html#s"><code>s</code></a>, <a href="../../lib/pods/perlrun.html#s"><code>S</code></a>, <code>l</code>, and <code>L</code> may be
followed by a <code>!</code> modifier to signify native shorts or
longs--as you can see from above for example a bare <code>l</code> does mean
exactly 32 bits, the native <code>long</code> (as seen by the local C compiler)
may be larger.  This is an issue mainly in 64-bit platforms.  You can
see whether using <code>!</code> makes any difference by</p>
<pre>
        <span class="keyword">print</span> <span class="keyword">length</span><span class="operator">(</span><span class="keyword">pack</span><span class="operator">(</span><span class="string">"s"</span><span class="operator">)),</span> <span class="string">" "</span><span class="operator">,</span> <span class="keyword">length</span><span class="operator">(</span><span class="keyword">pack</span><span class="operator">(</span><span class="string">"s!"</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
        <span class="keyword">print</span> <span class="keyword">length</span><span class="operator">(</span><span class="keyword">pack</span><span class="operator">(</span><span class="string">"l"</span><span class="operator">)),</span> <span class="string">" "</span><span class="operator">,</span> <span class="keyword">length</span><span class="operator">(</span><span class="keyword">pack</span><span class="operator">(</span><span class="string">"l!"</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
</pre>
<p><code>i!</code> and <code>I!</code> also work but only because of completeness;
they are identical to <code>i</code> and <code>I</code>.</p>
<p>The actual sizes (in bytes) of native shorts, ints, longs, and long
longs on the platform where Perl was built are also available via
<a href="../../lib/Config.html">the Config manpage</a>:</p>
<pre>
       <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
       <span class="keyword">print</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">shortsize</span><span class="operator">}</span><span class="operator">,</span>    <span class="string">"\n"</span><span class="operator">;</span>
       <span class="keyword">print</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">intsize</span><span class="operator">}</span><span class="operator">,</span>      <span class="string">"\n"</span><span class="operator">;</span>
       <span class="keyword">print</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">longsize</span><span class="operator">}</span><span class="operator">,</span>     <span class="string">"\n"</span><span class="operator">;</span>
       <span class="keyword">print</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">longlongsize</span><span class="operator">}</span><span class="operator">,</span> <span class="string">"\n"</span><span class="operator">;</span>
</pre>
<p>(The <code>$Config{longlongsize}</code> will be undefined if your system does
not support long longs.)</p>
</li>
<li>
<p>The integer formats <a href="../../lib/pods/perlrun.html#s"><code>s</code></a>, <a href="../../lib/pods/perlrun.html#s"><code>S</code></a>, <code>i</code>, <code>I</code>, <code>l</code>, <code>L</code>, <code>j</code>, and <code>J</code>
are inherently non-portable between processors and operating systems
because they obey the native byteorder and endianness.  For example a
4-byte integer 0x12345678 (305419896 decimal) would be ordered natively
(arranged in and handled by the CPU registers) into bytes as</p>
<pre>
        0x12 0x34 0x56 0x78     # big-endian
        0x78 0x56 0x34 0x12     # little-endian</pre>
<p>Basically, the Intel and VAX CPUs are little-endian, while everybody
else, for example Motorola m68k/88k, PPC, Sparc, HP PA, Power, and
Cray are big-endian.  Alpha and MIPS can be either: Digital/Compaq
used/uses them in little-endian mode; SGI/Cray uses them in big-endian
mode.</p>
<p>The names `big-endian' and `little-endian' are comic references to
the classic &quot;Gulliver's Travels&quot; (via the paper &quot;On Holy Wars and a
Plea for Peace&quot; by Danny Cohen, USC/ISI IEN 137, April 1, 1980) and
the egg-eating habits of the Lilliputians.</p>
<p>Some systems may have even weirder byte orders such as</p>
<pre>
        0x56 0x78 0x12 0x34
        0x34 0x12 0x78 0x56</pre>
<p>You can see your system's preference with</p>
<pre>
        <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">" "</span><span class="operator">,</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="keyword">sprintf</span> <span class="string">"%#02x"</span><span class="operator">,</span> <span class="variable">$_</span> <span class="operator">}</span>
                            <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"W*"</span><span class="operator">,</span><span class="keyword">pack</span><span class="operator">(</span><span class="string">"L"</span><span class="operator">,</span><span class="number">0x12345678</span><span class="operator">))),</span> <span class="string">"\n"</span><span class="operator">;</span>
</pre>
<p>The byteorder on the platform where Perl was built is also available
via <a href="../../lib/Config.html">the Config manpage</a>:</p>
<pre>
        <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
        <span class="keyword">print</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">byteorder</span><span class="operator">}</span><span class="operator">,</span> <span class="string">"\n"</span><span class="operator">;</span>
</pre>
<p>Byteorders <code>'1234'</code> and <code>'12345678'</code> are little-endian, <code>'4321'</code>
and <code>'87654321'</code> are big-endian.</p>
<p>If you want portable packed integers you can either use the formats
<a href="../../lib/pods/perlrun.html#n"><code>n</code></a>, <code>N</code>, <a href="../../lib/pods/perlrun.html#v"><code>v</code></a>, and <a href="../../lib/pods/perlrun.html#v"><code>V</code></a>, or you can use the <code>&gt;</code> and <code>&lt;</code>
modifiers.  These modifiers are only available as of perl 5.9.2.
See also <a href="../../lib/pods/perlport.html">the perlport manpage</a>.</p>
</li>
<li>
<p>All integer and floating point formats as well as <a href="../../lib/pods/perlrun.html#p"><code>p</code></a> and <a href="../../lib/pods/perlrun.html#p"><code>P</code></a> and
<code>()</code>-groups may be followed by the <code>&gt;</code> or <code>&lt;</code> modifiers
to force big- or little- endian byte-order, respectively.
This is especially useful, since <a href="../../lib/pods/perlrun.html#n"><code>n</code></a>, <code>N</code>, <a href="../../lib/pods/perlrun.html#v"><code>v</code></a> and <a href="../../lib/pods/perlrun.html#v"><code>V</code></a> don't cover
signed integers, 64-bit integers and floating point values.  However,
there are some things to keep in mind.</p>
<p>Exchanging signed integers between different platforms only works
if all platforms store them in the same format.  Most platforms store
signed integers in two's complement, so usually this is not an issue.</p>
<p>The <code>&gt;</code> or <code>&lt;</code> modifiers can only be used on floating point
formats on big- or little-endian machines.  Otherwise, attempting to
do so will result in a fatal error.</p>
<p>Forcing big- or little-endian byte-order on floating point values for
data exchange can only work if all platforms are using the same
binary representation (e.g. IEEE floating point format).  Even if all
platforms are using IEEE, there may be subtle differences.  Being able
to use <code>&gt;</code> or <code>&lt;</code> on floating point values can be very useful,
but also very dangerous if you don't know exactly what you're doing.
It is definitely not a general way to portably store floating point
values.</p>
<p>When using <code>&gt;</code> or <code>&lt;</code> on an <code>()</code>-group, this will affect
all types inside the group that accept the byte-order modifiers,
including all subgroups.  It will silently be ignored for all other
types.  You are not allowed to override the byte-order within a group
that already has a byte-order modifier suffix.</p>
</li>
<li>
<p>Real numbers (floats and doubles) are in the native machine format only;
due to the multiplicity of floating formats around, and the lack of a
standard &quot;network&quot; representation, no facility for interchange has been
made.  This means that packed floating point data written on one machine
may not be readable on another - even if both use IEEE floating point
arithmetic (as the endian-ness of the memory representation is not part
of the IEEE spec).  See also <a href="../../lib/pods/perlport.html">the perlport manpage</a>.</p>
<p>If you know exactly what you're doing, you can use the <code>&gt;</code> or <code>&lt;</code>
modifiers to force big- or little-endian byte-order on floating point values.</p>
<p>Note that Perl uses doubles (or long doubles, if configured) internally for
all numeric calculation, and converting from double into float and thence back
to double again will lose precision (i.e., <a href="#unpack"><code>unpack(&quot;f&quot;, pack(&quot;f&quot;, $foo)</code></a>)
will not in general equal $foo).</p>
</li>
<li>
<p>Pack and unpack can operate in two modes, character mode (<code>C0</code> mode) where
the packed string is processed per character and UTF-8 mode (<code>U0</code> mode)
where the packed string is processed in its UTF-8-encoded Unicode form on
a byte by byte basis. Character mode is the default unless the format string 
starts with an <a href="../../lib/pods/perlrun.html#u"><code>U</code></a>. You can switch mode at any moment with an explicit 
<code>C0</code> or <code>U0</code> in the format. A mode is in effect until the next mode switch 
or until the end of the ()-group in which it was entered.</p>
</li>
<li>
<p>You must yourself do any alignment or padding by inserting for example
enough <a href="../../lib/pods/perlrun.html#x"><code>'x'</code></a>es while packing.  There is no way to <a href="#pack"><code>pack()</code></a> and <a href="#unpack"><code>unpack()</code></a>
could know where the characters are going to or coming from.  Therefore
<a href="#pack"><code>pack</code></a> (and <a href="#unpack"><code>unpack</code></a>) handle their output and input as flat
sequences of characters.</p>
</li>
<li>
<p>A ()-group is a sub-TEMPLATE enclosed in parentheses.  A group may
take a repeat count, both as postfix, and for <a href="#unpack"><code>unpack()</code></a> also via the <code>/</code>
template character. Within each repetition of a group, positioning with
<code>@</code> starts again at 0. Therefore, the result of</p>
<pre>
    pack( '@1A((@2A)@3A)', 'a', 'b', 'c' )</pre>
<p>is the string &quot;\0a\0\0bc&quot;.</p>
</li>
<li>
<p><a href="../../lib/pods/perlrun.html#x"><code>x</code></a> and <a href="#x"><code>X</code></a> accept <code>!</code> modifier.  In this case they act as
alignment commands: they jump forward/back to the closest position
aligned at a multiple of <code>count</code> characters. For example, to <a href="#pack"><code>pack()</code></a> or
<a href="#unpack"><code>unpack()</code></a> C's <code>struct {char c; double d; char cc[2]}</code> one may need to
use the template <code>W x![d] d W[2]</code>; this assumes that doubles must be
aligned on the double's size.</p>
<p>For alignment commands <code>count</code> of 0 is equivalent to <code>count</code> of 1;
both result in no-ops.</p>
</li>
<li>
<p><a href="../../lib/pods/perlrun.html#n"><code>n</code></a>, <code>N</code>, <a href="../../lib/pods/perlrun.html#v"><code>v</code></a> and <a href="../../lib/pods/perlrun.html#v"><code>V</code></a> accept the <code>!</code> modifier. In this case they
will represent signed 16-/32-bit integers in big-/little-endian order.
This is only portable if all platforms sharing the packed data use the
same binary representation for signed integers (e.g. all platforms are
using two's complement representation).</p>
</li>
<li>
<p>A comment in a TEMPLATE starts with <code>#</code> and goes to the end of line.
White space may be used to separate pack codes from each other, but
modifiers and a repeat count must follow immediately.</p>
</li>
<li>
<p>If TEMPLATE requires more arguments to <a href="#pack"><code>pack()</code></a> than actually given, <a href="#pack"><code>pack()</code></a>
assumes additional <code>&quot;&quot;</code> arguments.  If TEMPLATE requires fewer arguments
to <a href="#pack"><code>pack()</code></a> than actually given, extra arguments are ignored.</p>
</li>
</ul>
<p>Examples:</p>
<pre>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"WWWW"</span><span class="operator">,</span><span class="number">65</span><span class="operator">,</span><span class="number">66</span><span class="operator">,</span><span class="number">67</span><span class="operator">,</span><span class="number">68</span><span class="operator">);</span>
    <span class="comment"># foo eq "ABCD"</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"W4"</span><span class="operator">,</span><span class="number">65</span><span class="operator">,</span><span class="number">66</span><span class="operator">,</span><span class="number">67</span><span class="operator">,</span><span class="number">68</span><span class="operator">);</span>
    <span class="comment"># same thing</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"W4"</span><span class="operator">,</span><span class="number">0x24b6</span><span class="operator">,</span><span class="number">0x24b7</span><span class="operator">,</span><span class="number">0x24b8</span><span class="operator">,</span><span class="number">0x24b9</span><span class="operator">);</span>
    <span class="comment"># same thing with Unicode circled letters.</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"U4"</span><span class="operator">,</span><span class="number">0x24b6</span><span class="operator">,</span><span class="number">0x24b7</span><span class="operator">,</span><span class="number">0x24b8</span><span class="operator">,</span><span class="number">0x24b9</span><span class="operator">);</span>
    <span class="comment"># same thing with Unicode circled letters. You don't get the UTF-8</span>
    <span class="comment"># bytes because the U at the start of the format caused a switch to</span>
    <span class="comment"># U0-mode, so the UTF-8 bytes get joined into characters</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"C0U4"</span><span class="operator">,</span><span class="number">0x24b6</span><span class="operator">,</span><span class="number">0x24b7</span><span class="operator">,</span><span class="number">0x24b8</span><span class="operator">,</span><span class="number">0x24b9</span><span class="operator">);</span>
    <span class="comment"># foo eq "\xe2\x92\xb6\xe2\x92\xb7\xe2\x92\xb8\xe2\x92\xb9"</span>
    <span class="comment"># This is the UTF-8 encoding of the string in the previous example</span>
</pre>
<pre>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"ccxxcc"</span><span class="operator">,</span><span class="number">65</span><span class="operator">,</span><span class="number">66</span><span class="operator">,</span><span class="number">67</span><span class="operator">,</span><span class="number">68</span><span class="operator">);</span>
    <span class="comment"># foo eq "AB\0\0CD"</span>
</pre>
<pre>
    <span class="comment"># note: the above examples featuring "W" and "c" are true</span>
    <span class="comment"># only on ASCII and ASCII-derived systems such as ISO Latin 1</span>
    <span class="comment"># and UTF-8.  In EBCDIC the first example would be</span>
    <span class="comment"># $foo = pack("WWWW",193,194,195,196);</span>
</pre>
<pre>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"s2"</span><span class="operator">,</span><span class="number">1</span><span class="operator">,</span><span class="number">2</span><span class="operator">);</span>
    <span class="comment"># "\1\0\2\0" on little-endian</span>
    <span class="comment"># "\0\1\0\2" on big-endian</span>
</pre>
<pre>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"a4"</span><span class="operator">,</span><span class="string">"abcd"</span><span class="operator">,</span><span class="string">"x"</span><span class="operator">,</span><span class="string">"y"</span><span class="operator">,</span><span class="string">"z"</span><span class="operator">);</span>
    <span class="comment"># "abcd"</span>
</pre>
<pre>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"aaaa"</span><span class="operator">,</span><span class="string">"abcd"</span><span class="operator">,</span><span class="string">"x"</span><span class="operator">,</span><span class="string">"y"</span><span class="operator">,</span><span class="string">"z"</span><span class="operator">);</span>
    <span class="comment"># "axyz"</span>
</pre>
<pre>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"a14"</span><span class="operator">,</span><span class="string">"abcdefg"</span><span class="operator">);</span>
    <span class="comment"># "abcdefg\0\0\0\0\0\0\0"</span>
</pre>
<pre>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"i9pl"</span><span class="operator">,</span> <span class="keyword">gmtime</span><span class="operator">);</span>
    <span class="comment"># a real struct tm (on my system anyway)</span>
</pre>
<pre>
    <span class="variable">$utmp_template</span> <span class="operator">=</span> <span class="string">"Z8 Z8 Z16 L"</span><span class="operator">;</span>
    <span class="variable">$utmp</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="variable">$utmp_template</span><span class="operator">,</span> <span class="variable">@utmp1</span><span class="operator">);</span>
    <span class="comment"># a struct utmp (BSDish)</span>
</pre>
<pre>
    <span class="variable">@utmp2</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="variable">$utmp_template</span><span class="operator">,</span> <span class="variable">$utmp</span><span class="operator">);</span>
    <span class="comment"># "@utmp1" eq "@utmp2"</span>
</pre>
<pre>
    <span class="keyword">sub</span><span class="variable"> bintodec </span><span class="operator">{</span>
        <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"N"</span><span class="operator">,</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"B32"</span><span class="operator">,</span> <span class="keyword">substr</span><span class="operator">(</span><span class="string">"0"</span> <span class="operator">x</span> <span class="number">32</span> <span class="operator">.</span> <span class="keyword">shift</span><span class="operator">,</span> <span class="operator">-</span><span class="number">32</span><span class="operator">)));</span>
    <span class="operator">}</span>
</pre>
<pre>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'sx2l'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">);</span>
    <span class="comment"># short 12, two zero bytes padding, long 34</span>
    <span class="variable">$bar</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'s@4l'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">);</span>
    <span class="comment"># short 12, zero fill to position 4, long 34</span>
    <span class="comment"># $foo eq $bar</span>
    <span class="variable">$baz</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'s.l'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">34</span><span class="operator">);</span>
    <span class="comment"># short 12, zero fill to position 4, long 34</span>
</pre>
<pre>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'nN'</span><span class="operator">,</span> <span class="number">42</span><span class="operator">,</span> <span class="number">4711</span><span class="operator">);</span>
    <span class="comment"># pack big-endian 16- and 32-bit unsigned integers</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'S&gt;L&gt;'</span><span class="operator">,</span> <span class="number">42</span><span class="operator">,</span> <span class="number">4711</span><span class="operator">);</span>
    <span class="comment"># exactly the same</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'s&lt;l&lt;'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">42</span><span class="operator">,</span> <span class="number">4711</span><span class="operator">);</span>
    <span class="comment"># pack little-endian 16- and 32-bit signed integers</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'(sl)&lt;'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">42</span><span class="operator">,</span> <span class="number">4711</span><span class="operator">);</span>
    <span class="comment"># exactly the same</span>
</pre>
<p>The same template may generally also be used in <a href="#unpack"><code>unpack()</code></a>.</p>
<dt><strong><a name="package" class="item">package NAMESPACE</a></strong>

<dt><strong>package</strong>

<dd>
<p>Declares the compilation unit as being in the given namespace.  The scope
of the package declaration is from the declaration itself through the end
of the enclosing block, file, or eval (the same as the <a href="#my"><code>my</code></a> operator).
All further unqualified dynamic identifiers will be in this namespace.
A package statement affects only dynamic variables--including those
you've used <a href="#local"><code>local</code></a> on--but <em>not</em> lexical variables, which are created
with <a href="#my"><code>my</code></a>.  Typically it would be the first declaration in a file to
be included by the <a href="#require"><code>require</code></a> or <a href="#use"><code>use</code></a> operator.  You can switch into a
package in more than one place; it merely influences which symbol table
is used by the compiler for the rest of that block.  You can refer to
variables and filehandles in other packages by prefixing the identifier
with the package name and a double colon:  <code>$Package::Variable</code>.
If the package name is null, the <code>main</code> package as assumed.  That is,
<code>$::sail</code> is equivalent to <code>$main::sail</code> (as well as to <code>$main'sail</code>,
still seen in older code).</p>
</dd>
<dd>
<p>If NAMESPACE is omitted, then there is no current package, and all
identifiers must be fully qualified or lexicals.  However, you are
strongly advised not to make use of this feature. Its use can cause
unexpected behaviour, even crashing some versions of Perl. It is
deprecated, and will be removed from a future release.</p>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlmod.html#packages">Packages in the perlmod manpage</a> for more information about packages, modules,
and classes.  See <a href="../../lib/pods/perlsub.html">the perlsub manpage</a> for other scoping issues.</p>
</dd>
</li>
<dt><strong><a name="pipe" class="item">pipe READHANDLE,WRITEHANDLE</a></strong>

<dd>
<p>Opens a pair of connected pipes like the corresponding system call.
Note that if you set up a loop of piped processes, deadlock can occur
unless you are very careful.  In addition, note that Perl's pipes use
IO buffering, so you may need to set <a href="../../lib/pods/perlvar.html#__"><code>$|</code></a> to flush your WRITEHANDLE
after each command, depending on the application.</p>
</dd>
<dd>
<p>See <a href="../../lib/IPC/Open2.html">the IPC::Open2 manpage</a>, <a href="../../lib/IPC/Open3.html">the IPC::Open3 manpage</a>, and <a href="../../lib/pods/perlipc.html#bidirectional_communication">Bidirectional Communication in the perlipc manpage</a>
for examples of such things.</p>
</dd>
<dd>
<p>On systems that support a close-on-exec flag on files, the flag will be set
for the newly opened file descriptors as determined by the value of $^F.
See <a href="../../lib/pods/perlvar.html#__f">$^F in the perlvar manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="pop" class="item">pop ARRAY</a></strong>

<dt><strong>pop</strong>

<dd>
<p>Pops and returns the last value of the array, shortening the array by
one element.</p>
</dd>
<dd>
<p>If there are no elements in the array, returns the undefined value
(although this may happen at other times as well).  If ARRAY is
omitted, pops the <a href="../../lib/pods/perlvar.html#_argv"><code>@ARGV</code></a> array in the main program, and the <a href="../../lib/pods/perlvar.html#__"><code>@_</code></a>
array in subroutines, just like <a href="#shift"><code>shift</code></a>.</p>
</dd>
</li>
<dt><strong><a name="pos" class="item">pos SCALAR</a></strong>

<dt><strong>pos</strong>

<dd>
<p>Returns the offset of where the last <a href="#m_"><code>m//g</code></a> search left off for the variable
in question (<a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> is used when the variable is not specified).  Note that
0 is a valid match offset.  <a href="#undef"><code>undef</code></a> indicates that the search position
is reset (usually due to match failure, but can also be because no match has
yet been performed on the scalar). <a href="#pos"><code>pos</code></a> directly accesses the location used
by the regexp engine to store the offset, so assigning to <a href="#pos"><code>pos</code></a> will change
that offset, and so will also influence the <code>\G</code> zero-width assertion in
regular expressions. Because a failed <a href="#m_"><code>m//gc</code></a> match doesn't reset the offset,
the return from <a href="#pos"><code>pos</code></a> won't change either in this case.  See <a href="../../lib/pods/perlre.html">the perlre manpage</a> and
<a href="../../lib/pods/perlop.html">the perlop manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="print" class="item">print FILEHANDLE LIST</a></strong>

<dt><strong>print LIST</strong>

<dt><strong>print</strong>

<dd>
<p>Prints a string or a list of strings.  Returns true if successful.
FILEHANDLE may be a scalar variable name, in which case the variable
contains the name of or a reference to the filehandle, thus introducing
one level of indirection.  (NOTE: If FILEHANDLE is a variable and
the next token is a term, it may be misinterpreted as an operator
unless you interpose a <code>+</code> or put parentheses around the arguments.)
If FILEHANDLE is omitted, prints by default to standard output (or
to the last selected output channel--see <a href="#select">select</a>).  If LIST is
also omitted, prints <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> to the currently selected output channel.
To set the default output channel to something other than STDOUT
use the select operation.  The current value of <a href="../../lib/pods/perlvar.html#__"><code>$,</code></a> (if any) is
printed between each LIST item.  The current value of <a href="../../lib/pods/perlvar.html#__"><code>$\</code></a> (if
any) is printed after the entire LIST has been printed.  Because
print takes a LIST, anything in the LIST is evaluated in list
context, and any subroutine that you call will have one or more of
its expressions evaluated in list context.  Also be careful not to
follow the print keyword with a left parenthesis unless you want
the corresponding right parenthesis to terminate the arguments to
the print--interpose a <code>+</code> or put parentheses around all the
arguments.</p>
</dd>
<dd>
<p>Note that if you're storing FILEHANDLEs in an array, or if you're using
any other expression more complex than a scalar variable to retrieve it,
you will have to use a block returning the filehandle value instead:</p>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="operator">{</span> <span class="variable">$files</span><span class="operator">[</span><span class="variable">$i</span><span class="operator">]</span> <span class="operator">}</span> <span class="string">"stuff\n"</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="operator">{</span> <span class="variable">$OK</span> <span class="operator">?</span> <span class="variable">STDOUT</span> <span class="operator">:</span> <span class="variable">STDERR</span> <span class="operator">}</span> <span class="string">"stuff\n"</span><span class="operator">;</span>
</pre>
</dd>
</li>
<dt><strong><a name="printf" class="item">printf FILEHANDLE FORMAT, LIST</a></strong>

<dt><strong>printf FORMAT, LIST</strong>

<dd>
<p>Equivalent to <a href="#sprintf"><code>print FILEHANDLE sprintf(FORMAT, LIST)</code></a>, except that <a href="../../lib/pods/perlvar.html#__"><code>$\</code></a>
(the output record separator) is not appended.  The first argument
of the list will be interpreted as the <a href="#printf"><code>printf</code></a> format. See <a href="#sprintf"><code>sprintf</code></a>
for an explanation of the format argument.  If <code>use locale</code> is in effect,
and POSIX::setlocale() has been called, the character used for the decimal
separator in formatted floating point numbers is affected by the LC_NUMERIC
locale.  See <a href="../../lib/pods/perllocale.html">the perllocale manpage</a> and <a href="../../lib/POSIX.html">the POSIX manpage</a>.</p>
</dd>
<dd>
<p>Don't fall into the trap of using a <a href="#printf"><code>printf</code></a> when a simple
<a href="#print"><code>print</code></a> would do.  The <a href="#print"><code>print</code></a> is more efficient and less
error prone.</p>
</dd>
</li>
<dt><strong><a name="prototype" class="item">prototype FUNCTION</a></strong>

<dd>
<p>Returns the prototype of a function as a string (or <a href="#undef"><code>undef</code></a> if the
function has no prototype).  FUNCTION is a reference to, or the name of,
the function whose prototype you want to retrieve.</p>
</dd>
<dd>
<p>If FUNCTION is a string starting with <code>CORE::</code>, the rest is taken as a
name for Perl builtin.  If the builtin is not <em>overridable</em> (such as
<a href="#qw_"><code>qw//</code></a>) or if its arguments cannot be adequately expressed by a prototype
(such as <a href="#system"><code>system</code></a>), <a href="#prototype"><code>prototype()</code></a> returns <a href="#undef"><code>undef</code></a>, because the builtin
does not really behave like a Perl function.  Otherwise, the string
describing the equivalent prototype is returned.</p>
</dd>
</li>
<dt><strong><a name="push" class="item">push ARRAY,LIST</a></strong>

<dd>
<p>Treats ARRAY as a stack, and pushes the values of LIST
onto the end of ARRAY.  The length of ARRAY increases by the length of
LIST.  Has the same effect as</p>
</dd>
<dd>
<pre>
    <span class="keyword">for</span> <span class="variable">$value</span> <span class="operator">(</span><span class="variable">LIST</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">$ARRAY</span><span class="operator">[</span><span class="operator">++</span><span class="variable">$#ARRAY</span><span class="operator">]</span> <span class="operator">=</span> <span class="variable">$value</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>but is more efficient.  Returns the number of elements in the array following
the completed <a href="#push"><code>push</code></a>.</p>
</dd>
</li>
<dt><strong><a name="q_" class="item">q/STRING/</a></strong>

<dt><strong><a name="qq_" class="item">qq/STRING/</a></strong>

<dt><strong><a name="qr_" class="item">qr/STRING/</a></strong>

<dt><strong><a name="qx_" class="item">qx/STRING/</a></strong>

<dt><strong><a name="qw_" class="item">qw/STRING/</a></strong>

<dd>
<p>Generalized quotes.  See <a href="../../lib/pods/perlop.html#regexp_quote_like_operators">Regexp Quote-Like Operators in the perlop manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="quotemeta" class="item">quotemeta EXPR</a></strong>

<dt><strong>quotemeta</strong>

<dd>
<p>Returns the value of EXPR with all non-&quot;word&quot;
characters backslashed.  (That is, all characters not matching
<code>/[A-Za-z_0-9]/</code> will be preceded by a backslash in the
returned string, regardless of any locale settings.)
This is the internal function implementing
the <code>\Q</code> escape in double-quoted strings.</p>
</dd>
<dd>
<p>If EXPR is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
</li>
<dt><strong><a name="rand" class="item">rand EXPR</a></strong>

<dt><strong>rand</strong>

<dd>
<p>Returns a random fractional number greater than or equal to <code>0</code> and less
than the value of EXPR.  (EXPR should be positive.)  If EXPR is
omitted, the value <code>1</code> is used.  Currently EXPR with the value <code>0</code> is
also special-cased as <code>1</code> - this has not been documented before perl 5.8.0
and is subject to change in future versions of perl.  Automatically calls
<a href="#srand"><code>srand</code></a> unless <a href="#srand"><code>srand</code></a> has already been called.  See also <a href="#srand"><code>srand</code></a>.</p>
</dd>
<dd>
<p>Apply <a href="#int"><code>int()</code></a> to the value returned by <a href="#rand"><code>rand()</code></a> if you want random
integers instead of random fractional numbers.  For example,</p>
</dd>
<dd>
<pre>
    int(rand(10))</pre>
</dd>
<dd>
<p>returns a random integer between <code>0</code> and <code>9</code>, inclusive.</p>
</dd>
<dd>
<p>(Note: If your rand function consistently returns numbers that are too
large or too small, then your version of Perl was probably compiled
with the wrong number of RANDBITS.)</p>
</dd>
</li>
<dt><strong><a name="read" class="item">read FILEHANDLE,SCALAR,LENGTH,OFFSET</a></strong>

<dt><strong>read FILEHANDLE,SCALAR,LENGTH</strong>

<dd>
<p>Attempts to read LENGTH <em>characters</em> of data into variable SCALAR
from the specified FILEHANDLE.  Returns the number of characters
actually read, <code>0</code> at end of file, or undef if there was an error (in
the latter case <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> is also set).  SCALAR will be grown or shrunk 
so that the last character actually read is the last character of the
scalar after the read.</p>
</dd>
<dd>
<p>An OFFSET may be specified to place the read data at some place in the
string other than the beginning.  A negative OFFSET specifies
placement at that many characters counting backwards from the end of
the string.  A positive OFFSET greater than the length of SCALAR
results in the string being padded to the required size with <code>&quot;\0&quot;</code>
bytes before the result of the read is appended.</p>
</dd>
<dd>
<p>The call is actually implemented in terms of either Perl's or system's
<code>fread()</code> call.  To get a true <a href="#read"><code>read(2)</code></a> system call, see <a href="#sysread"><code>sysread</code></a>.</p>
</dd>
<dd>
<p>Note the <em>characters</em>: depending on the status of the filehandle,
either (8-bit) bytes or characters are read.  By default all
filehandles operate on bytes, but for example if the filehandle has
been opened with the <a href="../../lib/pods/perlrun.html#utf8"><code>:utf8</code></a> I/O layer (see <a href="#open">open</a>, and the <a href="#open"><code>open</code></a>
pragma, <a href="../../lib/open.html">the open manpage</a>), the I/O will operate on UTF-8 encoded Unicode
characters, not bytes.  Similarly for the <code>:encoding</code> pragma:
in that case pretty much any characters can be read.</p>
</dd>
</li>
<dt><strong><a name="readdir" class="item">readdir DIRHANDLE</a></strong>

<dd>
<p>Returns the next directory entry for a directory opened by <a href="#opendir"><code>opendir</code></a>.
If used in list context, returns all the rest of the entries in the
directory.  If there are no more entries, returns an undefined value in
scalar context or a null list in list context.</p>
</dd>
<dd>
<p>If you're planning to filetest the return values out of a <a href="#readdir"><code>readdir</code></a>, you'd
better prepend the directory in question.  Otherwise, because we didn't
<a href="#chdir"><code>chdir</code></a> there, it would have been testing the wrong file.</p>
</dd>
<dd>
<pre>
    <span class="keyword">opendir</span><span class="operator">(</span><span class="variable">DIR</span><span class="operator">,</span> <span class="variable">$some_dir</span><span class="operator">)</span> <span class="operator">||</span> <span class="keyword">die</span> <span class="string">"can't opendir </span><span class="variable">$some_dir</span><span class="string">: $!"</span><span class="operator">;</span>
    <span class="variable">@dots</span> <span class="operator">=</span> <span class="keyword">grep</span> <span class="operator">{</span> <span class="regex">/^\./</span> <span class="operator">&amp;&amp;</span> <span class="keyword">-f</span> <span class="string">"</span><span class="variable">$some_dir</span><span class="string">/</span><span class="variable">$_</span><span class="string">"</span> <span class="operator">}</span> <span class="keyword">readdir</span><span class="operator">(</span><span class="variable">DIR</span><span class="operator">);</span>
    <span class="keyword">closedir</span> <span class="variable">DIR</span><span class="operator">;</span>
</pre>
</dd>
</li>
<dt><strong><a name="readline" class="item">readline EXPR</a></strong>

<dt><strong>readline</strong>

<dd>
<p>Reads from the filehandle whose typeglob is contained in EXPR (or from
*ARGV if EXPR is not provided).  In scalar context, each call reads and
returns the next line, until end-of-file is reached, whereupon the
subsequent call returns undef.  In list context, reads until end-of-file
is reached and returns a list of lines.  Note that the notion of &quot;line&quot;
used here is however you may have defined it with <a href="../../lib/pods/perlvar.html#__"><code>$/</code></a> or
<a href="../../lib/pods/perlvar.html#_input_record_separator"><code>$INPUT_RECORD_SEPARATOR</code></a>).  See <a href="../../lib/pods/perlvar.html#__">$/ in the perlvar manpage</a>.</p>
</dd>
<dd>
<p>When <a href="../../lib/pods/perlvar.html#__"><code>$/</code></a> is set to <a href="#undef"><code>undef</code></a>, when <a href="#readline"><code>readline()</code></a> is in scalar
context (i.e. file slurp mode), and when an empty file is read, it
returns <code>''</code> the first time, followed by <a href="#undef"><code>undef</code></a> subsequently.</p>
</dd>
<dd>
<p>This is the internal function implementing the <code>&lt;EXPR&gt;</code>
operator, but you can use it directly.  The <code>&lt;EXPR&gt;</code>
operator is discussed in more detail in <a href="../../lib/pods/perlop.html#i_o_operators">I/O Operators in the perlop manpage</a>.</p>
</dd>
<dd>
<pre>
    <span class="variable">$line</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;;</span>
    <span class="variable">$line</span> <span class="operator">=</span> <span class="keyword">readline</span><span class="operator">(</span><span class="variable">*STDIN</span><span class="operator">);</span>           <span class="comment"># same thing</span>
</pre>
</dd>
<dd>
<p>If readline encounters an operating system error, <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> will be set with the
corresponding error message.  It can be helpful to check <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> when you are
reading from filehandles you don't trust, such as a tty or a socket.  The
following example uses the operator form of <a href="#readline"><code>readline</code></a>, and takes the necessary
steps to ensure that <a href="#readline"><code>readline</code></a> was successful.</p>
</dd>
<dd>
<pre>
    <span class="keyword">for</span> <span class="operator">(;;)</span> <span class="operator">{</span>
        <span class="keyword">undef</span> <span class="variable">$!</span><span class="operator">;</span>
        <span class="keyword">unless</span> <span class="operator">(</span><span class="keyword">defined</span><span class="operator">(</span> <span class="variable">$line</span> <span class="operator">=</span> <span class="operator">&lt;&gt;</span> <span class="operator">))</span> <span class="operator">{</span>
            <span class="keyword">die</span> <span class="variable">$!</span> <span class="keyword">if</span> <span class="variable">$!</span><span class="operator">;</span>
            <span class="keyword">last</span><span class="operator">;</span> <span class="comment"># reached EOF</span>
        <span class="operator">}</span>
        <span class="comment"># ...</span>
    <span class="operator">}</span>
</pre>
</dd>
</li>
<dt><strong><a name="readlink" class="item">readlink EXPR</a></strong>

<dt><strong>readlink</strong>

<dd>
<p>Returns the value of a symbolic link, if symbolic links are
implemented.  If not, gives a fatal error.  If there is some system
error, returns the undefined value and sets <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> (errno).  If EXPR is
omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
</li>
<dt><strong><a name="readpipe" class="item">readpipe EXPR</a></strong>

<dt><strong>readpipe</strong>

<dd>
<p>EXPR is executed as a system command.
The collected standard output of the command is returned.
In scalar context, it comes back as a single (potentially
multi-line) string.  In list context, returns a list of lines
(however you've defined lines with <a href="../../lib/pods/perlvar.html#__"><code>$/</code></a> or <a href="../../lib/pods/perlvar.html#_input_record_separator"><code>$INPUT_RECORD_SEPARATOR</code></a>).
This is the internal function implementing the <a href="#qx_"><code>qx/EXPR/</code></a>
operator, but you can use it directly.  The <a href="#qx_"><code>qx/EXPR/</code></a>
operator is discussed in more detail in <a href="../../lib/pods/perlop.html#i_o_operators">I/O Operators in the perlop manpage</a>.
If EXPR is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
</li>
<dt><strong><a name="recv" class="item">recv SOCKET,SCALAR,LENGTH,FLAGS</a></strong>

<dd>
<p>Receives a message on a socket.  Attempts to receive LENGTH characters
of data into variable SCALAR from the specified SOCKET filehandle.
SCALAR will be grown or shrunk to the length actually read.  Takes the
same flags as the system call of the same name.  Returns the address
of the sender if SOCKET's protocol supports this; returns an empty
string otherwise.  If there's an error, returns the undefined value.
This call is actually implemented in terms of <code>recvfrom(2)</code> system call.
See <a href="../../lib/pods/perlipc.html#udp__message_passing">UDP: Message Passing in the perlipc manpage</a> for examples.</p>
</dd>
<dd>
<p>Note the <em>characters</em>: depending on the status of the socket, either
(8-bit) bytes or characters are received.  By default all sockets
operate on bytes, but for example if the socket has been changed using
<a href="#binmode"><code>binmode()</code></a> to operate with the <code>:encoding(utf8)</code> I/O layer (see the
<a href="#open"><code>open</code></a> pragma, <a href="../../lib/open.html">the open manpage</a>), the I/O will operate on UTF-8 encoded Unicode
characters, not bytes.  Similarly for the <code>:encoding</code> pragma: in that
case pretty much any characters can be read.</p>
</dd>
</li>
<dt><strong><a name="redo" class="item">redo LABEL</a></strong>

<dt><strong>redo</strong>

<dd>
<p>The <a href="#redo"><code>redo</code></a> command restarts the loop block without evaluating the
conditional again.  The <a href="#continue"><code>continue</code></a> block, if any, is not executed.  If
the LABEL is omitted, the command refers to the innermost enclosing
loop.  Programs that want to lie to themselves about what was just input 
normally use this command:</p>
</dd>
<dd>
<pre>
    <span class="comment"># a simpleminded Pascal comment stripper</span>
    <span class="comment"># (warning: assumes no { or } in strings)</span>
    <span class="variable">LINE</span><span class="operator">:</span> <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;)</span> <span class="operator">{</span>
        <span class="keyword">while</span> <span class="operator">(</span><span class="regex">s|({.*}.*){.*}|$1 |</span><span class="operator">)</span> <span class="operator">{}</span>
        <span class="regex">s|{.*}| |</span><span class="operator">;</span>
        <span class="keyword">if</span> <span class="operator">(</span><span class="regex">s|{.*| |</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="variable">$front</span> <span class="operator">=</span> <span class="variable">$_</span><span class="operator">;</span>
            <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;)</span> <span class="operator">{</span>
                <span class="keyword">if</span> <span class="operator">(</span><span class="regex">/}/</span><span class="operator">)</span> <span class="operator">{</span>      <span class="comment"># end of comment?</span>
                    <span class="regex">s|^|$front\{|</span><span class="operator">;</span>
                    <span class="keyword">redo</span> <span class="variable">LINE</span><span class="operator">;</span>
                <span class="operator">}</span>
            <span class="operator">}</span>
        <span class="operator">}</span>
        <span class="keyword">print</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p><a href="#redo"><code>redo</code></a> cannot be used to retry a block which returns a value such as
<a href="#eval"><code>eval {}</code></a>, <a href="#sub"><code>sub {}</code></a> or <a href="#do"><code>do {}</code></a>, and should not be used to exit
a <a href="#grep"><code>grep()</code></a> or <a href="#map"><code>map()</code></a> operation.</p>
</dd>
<dd>
<p>Note that a block by itself is semantically identical to a loop
that executes once.  Thus <a href="#redo"><code>redo</code></a> inside such a block will effectively
turn it into a looping construct.</p>
</dd>
<dd>
<p>See also <a href="#continue">continue</a> for an illustration of how <a href="#last"><code>last</code></a>, <a href="#next"><code>next</code></a>, and
<a href="#redo"><code>redo</code></a> work.</p>
</dd>
</li>
<dt><strong><a name="ref" class="item">ref EXPR</a></strong>

<dt><strong>ref</strong>

<dd>
<p>Returns a non-empty string if EXPR is a reference, the empty
string otherwise. If EXPR
is not specified, <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> will be used.  The value returned depends on the
type of thing the reference is a reference to.
Builtin types include:</p>
</dd>
<dd>
<pre>
    SCALAR
    ARRAY
    HASH
    CODE
    REF
    GLOB
    LVALUE
    FORMAT
    IO
    VSTRING
    Regexp</pre>
</dd>
<dd>
<p>If the referenced object has been blessed into a package, then that package
name is returned instead.  You can think of <a href="#ref"><code>ref</code></a> as a <code>typeof</code> operator.</p>
</dd>
<dd>
<pre>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">ref</span><span class="operator">(</span><span class="variable">$r</span><span class="operator">)</span> <span class="keyword">eq</span> <span class="string">"HASH"</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"r is a reference to a hash.\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">unless</span> <span class="operator">(</span><span class="keyword">ref</span><span class="operator">(</span><span class="variable">$r</span><span class="operator">))</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"r is not a reference at all.\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>The return value <code>LVALUE</code> indicates a reference to an lvalue that is not
a variable. You get this from taking the reference of function calls like
<a href="#pos"><code>pos()</code></a> or <a href="#substr"><code>substr()</code></a>. <code>VSTRING</code> is returned if the reference points
to a <a href="../../lib/pods/perldata.html#version_strings">version string</a>.</p>
</dd>
<dd>
<p>The result <code>Regexp</code> indicates that the argument is a regular expression
resulting from <a href="#qr_"><code>qr//</code></a>.</p>
</dd>
<dd>
<p>See also <a href="../../lib/pods/perlref.html">the perlref manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="rename" class="item">rename OLDNAME,NEWNAME</a></strong>

<dd>
<p>Changes the name of a file; an existing file NEWNAME will be
clobbered.  Returns true for success, false otherwise.</p>
</dd>
<dd>
<p>Behavior of this function varies wildly depending on your system
implementation.  For example, it will usually not work across file system
boundaries, even though the system <em>mv</em> command sometimes compensates
for this.  Other restrictions include whether it works on directories,
open files, or pre-existing files.  Check <a href="../../lib/pods/perlport.html">the perlport manpage</a> and either the
<a href="#rename"><code>rename(2)</code></a> manpage or equivalent system documentation for details.</p>
</dd>
<dd>
<p>For a platform independent <code>move</code> function look at the <a href="../../lib/File/Copy.html">the File::Copy manpage</a>
module.</p>
</dd>
</li>
<dt><strong><a name="require" class="item">require VERSION</a></strong>

<dt><strong>require EXPR</strong>

<dt><strong>require</strong>

<dd>
<p>Demands a version of Perl specified by VERSION, or demands some semantics
specified by EXPR or by <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> if EXPR is not supplied.</p>
</dd>
<dd>
<p>VERSION may be either a numeric argument such as 5.006, which will be
compared to <a href="../../lib/pods/perlvar.html#__"><code>$]</code></a>, or a literal of the form v5.6.1, which will be compared
to <a href="../../lib/pods/perlvar.html#__v"><code>$^V</code></a> (aka $PERL_VERSION).  A fatal error is produced at run time if
VERSION is greater than the version of the current Perl interpreter.
Compare with <a href="#use">use</a>, which can do a similar check at compile time.</p>
</dd>
<dd>
<p>Specifying VERSION as a literal of the form v5.6.1 should generally be
avoided, because it leads to misleading error messages under earlier
versions of Perl that do not support this syntax.  The equivalent numeric
version should be used instead.</p>
</dd>
<dd>
<pre>
    <span class="keyword">require</span> <span class="variable">v5</span><span class="number">.6</span><span class="operator">.</span><span class="number">1</span><span class="operator">;</span>     <span class="comment"># run time version check</span>
    <span class="keyword">require</span> <span class="number">5.6</span><span class="operator">.</span><span class="number">1</span><span class="operator">;</span>      <span class="comment"># ditto</span>
    <span class="keyword">require</span> <span class="number">5.006_001</span><span class="operator">;</span>  <span class="comment"># ditto; preferred for backwards compatibility</span>
</pre>
</dd>
<dd>
<p>Otherwise, <a href="#require"><code>require</code></a> demands that a library file be included if it
hasn't already been included.  The file is included via the do-FILE
mechanism, which is essentially just a variety of <a href="#eval"><code>eval</code></a> with the
caveat that lexical variables in the invoking script will be invisible
to the included code.  Has semantics similar to the following subroutine:</p>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> require </span><span class="operator">{</span>
       <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$filename</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
       <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$INC</span><span class="operator">{</span><span class="variable">$filename</span><span class="operator">}</span><span class="operator">)</span> <span class="operator">{</span>
           <span class="keyword">return</span> <span class="number">1</span> <span class="keyword">if</span> <span class="variable">$INC</span><span class="operator">{</span><span class="variable">$filename</span><span class="operator">}</span><span class="operator">;</span>
           <span class="keyword">die</span> <span class="string">"Compilation failed in require"</span><span class="operator">;</span>
       <span class="operator">}</span>
       <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$realfilename</span><span class="operator">,</span><span class="variable">$result</span><span class="operator">);</span>
       <span class="variable">ITER</span><span class="operator">:</span> <span class="operator">{</span>
           <span class="keyword">foreach</span> <span class="variable">$prefix</span> <span class="operator">(</span><span class="variable">@INC</span><span class="operator">)</span> <span class="operator">{</span>
               <span class="variable">$realfilename</span> <span class="operator">=</span> <span class="string">"</span><span class="variable">$prefix</span><span class="string">/</span><span class="variable">$filename</span><span class="string">"</span><span class="operator">;</span>
               <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">-f</span> <span class="variable">$realfilename</span><span class="operator">)</span> <span class="operator">{</span>
                   <span class="variable">$INC</span><span class="operator">{</span><span class="variable">$filename</span><span class="operator">}</span> <span class="operator">=</span> <span class="variable">$realfilename</span><span class="operator">;</span>
                   <span class="variable">$result</span> <span class="operator">=</span> <span class="keyword">do</span> <span class="variable">$realfilename</span><span class="operator">;</span>
                   <span class="keyword">last</span> <span class="variable">ITER</span><span class="operator">;</span>
               <span class="operator">}</span>
           <span class="operator">}</span>
           <span class="keyword">die</span> <span class="string">"Can't find </span><span class="variable">$filename</span><span class="string"> in \@INC"</span><span class="operator">;</span>
       <span class="operator">}</span>
       <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$@</span><span class="operator">)</span> <span class="operator">{</span>
           <span class="variable">$INC</span><span class="operator">{</span><span class="variable">$filename</span><span class="operator">}</span> <span class="operator">=</span> <span class="keyword">undef</span><span class="operator">;</span>
           <span class="keyword">die</span> <span class="variable">$@</span><span class="operator">;</span>
       <span class="operator">}</span> <span class="keyword">elsif</span> <span class="operator">(!</span><span class="variable">$result</span><span class="operator">)</span> <span class="operator">{</span>
           <span class="keyword">delete</span> <span class="variable">$INC</span><span class="operator">{</span><span class="variable">$filename</span><span class="operator">}</span><span class="operator">;</span>
           <span class="keyword">die</span> <span class="string">"</span><span class="variable">$filename</span><span class="string"> did not return true value"</span><span class="operator">;</span>
       <span class="operator">}</span> <span class="keyword">else</span> <span class="operator">{</span>
           <span class="keyword">return</span> <span class="variable">$result</span><span class="operator">;</span>
       <span class="operator">}</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Note that the file will not be included twice under the same specified
name.</p>
</dd>
<dd>
<p>The file must return true as the last statement to indicate
successful execution of any initialization code, so it's customary to
end such a file with <code>1;</code> unless you're sure it'll return true
otherwise.  But it's better just to put the <code>1;</code>, in case you add more
statements.</p>
</dd>
<dd>
<p>If EXPR is a bareword, the require assumes a &quot;<em class="file">.pm</em>&quot; extension and
replaces &quot;<em class="file">::</em>&quot; with &quot;<em class="file">/</em>&quot; in the filename for you,
to make it easy to load standard modules.  This form of loading of
modules does not risk altering your namespace.</p>
</dd>
<dd>
<p>In other words, if you try this:</p>
</dd>
<dd>
<pre>
        <span class="keyword">require</span> <span class="variable">Foo::Bar</span><span class="operator">;</span>    <span class="comment"># a splendid bareword</span>
</pre>
</dd>
<dd>
<p>The require function will actually look for the &quot;<em class="file">Foo/Bar.pm</em>&quot; file in the
directories specified in the <a href="../../lib/pods/perlvar.html#_inc"><code>@INC</code></a> array.</p>
</dd>
<dd>
<p>But if you try this:</p>
</dd>
<dd>
<pre>
        <span class="variable">$class</span> <span class="operator">=</span> <span class="string">'Foo::Bar'</span><span class="operator">;</span>
        <span class="keyword">require</span> <span class="variable">$class</span><span class="operator">;</span>      <span class="comment"># $class is not a bareword</span>
            <span class="comment">#or</span>
        <span class="keyword">require</span> <span class="string">"Foo::Bar"</span><span class="operator">;</span>  <span class="comment"># not a bareword because of the ""</span>
</pre>
</dd>
<dd>
<p>The require function will look for the &quot;<em class="file">Foo::Bar</em>&quot; file in the @INC array and
will complain about not finding &quot;<em class="file">Foo::Bar</em>&quot; there.  In this case you can do:</p>
</dd>
<dd>
<pre>
        <span class="keyword">eval</span> <span class="string">"require </span><span class="variable">$class</span><span class="string">"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Now that you understand how <a href="#require"><code>require</code></a> looks for files in the case of a
bareword argument, there is a little extra functionality going on behind
the scenes.  Before <a href="#require"><code>require</code></a> looks for a &quot;<em class="file">.pm</em>&quot; extension, it will
first look for a similar filename with a &quot;<em class="file">.pmc</em>&quot; extension. If this file
is found, it will be loaded in place of any file ending in a &quot;<em class="file">.pm</em>&quot;
extension.</p>
</dd>
<dd>
<p>You can also insert hooks into the import facility, by putting directly
Perl code into the @INC array.  There are three forms of hooks: subroutine
references, array references and blessed objects.</p>
</dd>
<dd>
<p>Subroutine references are the simplest case.  When the inclusion system
walks through @INC and encounters a subroutine, this subroutine gets
called with two parameters, the first being a reference to itself, and the
second the name of the file to be included (e.g. &quot;<em class="file">Foo/Bar.pm</em>&quot;).  The
subroutine should return nothing, or a list of up to three values in the
following order:</p>
</dd>
<ol>
<li>
<p>A filehandle, from which the file will be read.</p>
</li>
<li>
<p>A reference to a subroutine. If there is no filehandle (previous item),
then this subroutine is expected to generate one line of source code per
call, writing the line into <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> and returning 1, then returning 0 at
&quot;end of file&quot;. If there is a filehandle, then the subroutine will be
called to act a simple source filter, with the line as read in <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.
Again, return 1 for each valid line, and 0 after all lines have been
returned.</p>
</li>
<li>
<p>Optional state for the subroutine. The state is passed in as <code>$_[1]</code>. A
reference to the subroutine itself is passed in as <code>$_[0]</code>.</p>
</li>
</ol>
<p>If an empty list, <a href="#undef"><code>undef</code></a>, or nothing that matches the first 3 values above
is returned then <a href="#require"><code>require</code></a> will look at the remaining elements of @INC.
Note that this file handle must be a real file handle (strictly a typeglob,
or reference to a typeglob, blessed or unblessed) - tied file handles will be
ignored and return value processing will stop there.</p>
<p>If the hook is an array reference, its first element must be a subroutine
reference.  This subroutine is called as above, but the first parameter is
the array reference.  This enables to pass indirectly some arguments to
the subroutine.</p>
<p>In other words, you can write:</p>
<pre>
    <span class="keyword">push</span> <span class="variable">@INC</span><span class="operator">,</span> <span class="operator">\&amp;</span><span class="variable">my_sub</span><span class="operator">;</span>
    <span class="keyword">sub</span><span class="variable"> my_sub </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$coderef</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>  <span class="comment"># $coderef is \&amp;my_sub</span>
        <span class="operator">...</span>
    <span class="operator">}</span>
</pre>
<p>or:</p>
<pre>
    <span class="keyword">push</span> <span class="variable">@INC</span><span class="operator">,</span> <span class="operator">[</span> <span class="operator">\&amp;</span><span class="variable">my_sub</span><span class="operator">,</span> <span class="variable">$x</span><span class="operator">,</span> <span class="variable">$y</span><span class="operator">,</span> <span class="operator">...</span> <span class="operator">]</span><span class="operator">;</span>
    <span class="keyword">sub</span><span class="variable"> my_sub </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$arrayref</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="comment"># Retrieve $x, $y, ...</span>
        <span class="keyword">my</span> <span class="variable">@parameters</span> <span class="operator">=</span> <span class="variable">@$arrayref</span><span class="operator">[</span><span class="number">1</span><span class="operator">..</span><span class="variable">$#$arrayref</span><span class="operator">]</span><span class="operator">;</span>
        <span class="operator">...</span>
    <span class="operator">}</span>
</pre>
<p>If the hook is an object, it must provide an INC method that will be
called as above, the first parameter being the object itself.  (Note that
you must fully qualify the sub's name, as unqualified <code>INC</code> is always forced
into package <code>main</code>.)  Here is a typical code layout:</p>
<pre>
    <span class="comment"># In Foo.pm</span>
    <span class="keyword">package</span> <span class="variable">Foo</span><span class="operator">;</span>
    <span class="keyword">sub</span><span class="variable"> new </span><span class="operator">{</span> <span class="operator">...</span> <span class="operator">}</span>
    <span class="keyword">sub</span><span class="variable"> Foo::INC </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$self</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="operator">...</span>
    <span class="operator">}</span>
</pre>
<pre>
    <span class="comment"># In the main program</span>
    <span class="keyword">push</span> <span class="variable">@INC</span><span class="operator">,</span> <span class="variable">new</span> <span class="variable">Foo</span><span class="operator">(...);</span>
</pre>
<p>Note that these hooks are also permitted to set the %INC entry
corresponding to the files they have loaded. See <a href="../../lib/pods/perlvar.html#_inc">%INC in the perlvar manpage</a>.</p>
<p>For a yet-more-powerful import facility, see <a href="#use">use</a> and <a href="../../lib/pods/perlmod.html">the perlmod manpage</a>.</p>
<dt><strong><a name="reset" class="item">reset EXPR</a></strong>

<dt><strong>reset</strong>

<dd>
<p>Generally used in a <a href="#continue"><code>continue</code></a> block at the end of a loop to clear
variables and reset <code>??</code> searches so that they work again.  The
expression is interpreted as a list of single characters (hyphens
allowed for ranges).  All variables and arrays beginning with one of
those letters are reset to their pristine state.  If the expression is
omitted, one-match searches (<code>?pattern?</code>) are reset to match again.  Resets
only variables or searches in the current package.  Always returns
1.  Examples:</p>
</dd>
<dd>
<pre>
    <span class="keyword">reset</span> <span class="string">'X'</span><span class="operator">;</span>          <span class="comment"># reset all X variables</span>
    <span class="keyword">reset</span> <span class="string">'a-z'</span><span class="operator">;</span>        <span class="comment"># reset lower case variables</span>
    <span class="keyword">reset</span><span class="operator">;</span>              <span class="comment"># just reset ?one-time? searches</span>
</pre>
</dd>
<dd>
<p>Resetting <code>&quot;A-Z&quot;</code> is not recommended because you'll wipe out your
<a href="../../lib/pods/perlvar.html#_argv"><code>@ARGV</code></a> and <a href="../../lib/pods/perlvar.html#_inc"><code>@INC</code></a> arrays and your <a href="../../lib/pods/perlvar.html#_env"><code>%ENV</code></a> hash.  Resets only package
variables--lexical variables are unaffected, but they clean themselves
up on scope exit anyway, so you'll probably want to use them instead.
See <a href="#my">my</a>.</p>
</dd>
</li>
<dt><strong><a name="return" class="item">return EXPR</a></strong>

<dt><strong>return</strong>

<dd>
<p>Returns from a subroutine, <a href="#eval"><code>eval</code></a>, or <a href="#do"><code>do FILE</code></a> with the value
given in EXPR.  Evaluation of EXPR may be in list, scalar, or void
context, depending on how the return value will be used, and the context
may vary from one execution to the next (see <a href="#wantarray"><code>wantarray</code></a>).  If no EXPR
is given, returns an empty list in list context, the undefined value in
scalar context, and (of course) nothing at all in a void context.</p>
</dd>
<dd>
<p>(Note that in the absence of an explicit <a href="#return"><code>return</code></a>, a subroutine, eval,
or do FILE will automatically return the value of the last expression
evaluated.)</p>
</dd>
</li>
<dt><strong><a name="reverse" class="item">reverse LIST</a></strong>

<dd>
<p>In list context, returns a list value consisting of the elements
of LIST in the opposite order.  In scalar context, concatenates the
elements of LIST and returns a string value with all characters
in the opposite order.</p>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="keyword">reverse</span> <span class="operator">&lt;&gt;;</span>           <span class="comment"># line tac, last line first</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">undef</span> <span class="variable">$/</span><span class="operator">;</span>                   <span class="comment"># for efficiency of &lt;&gt;</span>
    <span class="keyword">print</span> <span class="keyword">scalar</span> <span class="keyword">reverse</span> <span class="operator">&lt;&gt;;</span>    <span class="comment"># character tac, last line tsrif</span>
</pre>
</dd>
<dd>
<p>Used without arguments in scalar context, <a href="#reverse"><code>reverse()</code></a> reverses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
<dd>
<p>This operator is also handy for inverting a hash, although there are some
caveats.  If a value is duplicated in the original hash, only one of those
can be represented as a key in the inverted hash.  Also, this has to
unwind one hash and build a whole new one, which may take some time
on a large hash, such as from a DBM file.</p>
</dd>
<dd>
<pre>
    <span class="variable">%by_name</span> <span class="operator">=</span> <span class="keyword">reverse</span> <span class="variable">%by_address</span><span class="operator">;</span>     <span class="comment"># Invert the hash</span>
</pre>
</dd>
</li>
<dt><strong><a name="rewinddir" class="item">rewinddir DIRHANDLE</a></strong>

<dd>
<p>Sets the current position to the beginning of the directory for the
<a href="#readdir"><code>readdir</code></a> routine on DIRHANDLE.</p>
</dd>
</li>
<dt><strong><a name="rindex" class="item">rindex STR,SUBSTR,POSITION</a></strong>

<dt><strong>rindex STR,SUBSTR</strong>

<dd>
<p>Works just like <a href="#index"><code>index()</code></a> except that it returns the position of the <em>last</em>
occurrence of SUBSTR in STR.  If POSITION is specified, returns the
last occurrence beginning at or before that position.</p>
</dd>
</li>
<dt><strong><a name="rmdir" class="item">rmdir FILENAME</a></strong>

<dt><strong>rmdir</strong>

<dd>
<p>Deletes the directory specified by FILENAME if that directory is
empty.  If it succeeds it returns true, otherwise it returns false and
sets <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> (errno).  If FILENAME is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
<dd>
<p>To remove a directory tree recursively (<code>rm -rf</code> on unix) look at
the <code>rmtree</code> function of the <a href="../../lib/File/Path.html">the File::Path manpage</a> module.</p>
</dd>
</li>
<dt><strong><a name="s_" class="item">s///</a></strong>

<dd>
<p>The substitution operator.  See <a href="../../lib/pods/perlop.html">the perlop manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="say" class="item">say FILEHANDLE LIST</a></strong>

<dt><strong>say LIST</strong>

<dt><strong>say</strong>

<dd>
<p>Just like <a href="#print"><code>print</code></a>, but implicitly appends a newline.
<a href="#say"><code>say LIST</code></a> is simply an abbreviation for <code>{ local $\ = &quot;\n&quot;; print
LIST }</code>.</p>
</dd>
<dd>
<p>This keyword is only available when the &quot;say&quot; feature is
enabled: see <a href="../../lib/feature.html">the feature manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="scalar" class="item">scalar EXPR</a></strong>

<dd>
<p>Forces EXPR to be interpreted in scalar context and returns the value
of EXPR.</p>
</dd>
<dd>
<pre>
    <span class="variable">@counts</span> <span class="operator">=</span> <span class="operator">(</span> <span class="keyword">scalar</span> <span class="variable">@a</span><span class="operator">,</span> <span class="keyword">scalar</span> <span class="variable">@b</span><span class="operator">,</span> <span class="keyword">scalar</span> <span class="variable">@c</span> <span class="operator">);</span>
</pre>
</dd>
<dd>
<p>There is no equivalent operator to force an expression to
be interpolated in list context because in practice, this is never
needed.  If you really wanted to do so, however, you could use
the construction <code>@{[ (some expression) ]}</code>, but usually a simple
<code>(some expression)</code> suffices.</p>
</dd>
<dd>
<p>Because <a href="#scalar"><code>scalar</code></a> is unary operator, if you accidentally use for EXPR a
parenthesized list, this behaves as a scalar comma expression, evaluating
all but the last element in void context and returning the final element
evaluated in scalar context.  This is seldom what you want.</p>
</dd>
<dd>
<p>The following single statement:</p>
</dd>
<dd>
<pre>
        <span class="keyword">print</span> <span class="keyword">uc</span><span class="operator">(</span><span class="keyword">scalar</span><span class="operator">(&amp;</span><span class="variable">foo</span><span class="operator">,</span><span class="variable">$bar</span><span class="operator">)),</span><span class="variable">$baz</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>is the moral equivalent of these two:</p>
</dd>
<dd>
<pre>
        <span class="operator">&amp;</span><span class="variable">foo</span><span class="operator">;</span>
        <span class="keyword">print</span><span class="operator">(</span><span class="keyword">uc</span><span class="operator">(</span><span class="variable">$bar</span><span class="operator">),</span><span class="variable">$baz</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlop.html">the perlop manpage</a> for more details on unary operators and the comma operator.</p>
</dd>
</li>
<dt><strong><a name="seek" class="item">seek FILEHANDLE,POSITION,WHENCE</a></strong>

<dd>
<p>Sets FILEHANDLE's position, just like the <code>fseek</code> call of <a href="../../lib/pods/perlrun.html#stdio"><code>stdio</code></a>.
FILEHANDLE may be an expression whose value gives the name of the
filehandle.  The values for WHENCE are <code>0</code> to set the new position
<em>in bytes</em> to POSITION, <code>1</code> to set it to the current position plus
POSITION, and <code>2</code> to set it to EOF plus POSITION (typically
negative).  For WHENCE you may use the constants <code>SEEK_SET</code>,
<code>SEEK_CUR</code>, and <code>SEEK_END</code> (start of the file, current position, end
of the file) from the Fcntl module.  Returns <code>1</code> upon success, <code>0</code>
otherwise.</p>
</dd>
<dd>
<p>Note the <em>in bytes</em>: even if the filehandle has been set to
operate on characters (for example by using the <code>:encoding(utf8)</code> open
layer), <a href="#tell"><code>tell()</code></a> will return byte offsets, not character offsets
(because implementing that would render <a href="#seek"><code>seek()</code></a> and <a href="#tell"><code>tell()</code></a> rather slow).</p>
</dd>
<dd>
<p>If you want to position file for <a href="#sysread"><code>sysread</code></a> or <a href="#syswrite"><code>syswrite</code></a>, don't use
<a href="#seek"><code>seek</code></a>--buffering makes its effect on the file's system position
unpredictable and non-portable.  Use <a href="#sysseek"><code>sysseek</code></a> instead.</p>
</dd>
<dd>
<p>Due to the rules and rigors of ANSI C, on some systems you have to do a
seek whenever you switch between reading and writing.  Amongst other
things, this may have the effect of calling stdio's <code>clearerr(3)</code>.
A WHENCE of <code>1</code> (<code>SEEK_CUR</code>) is useful for not moving the file position:</p>
</dd>
<dd>
<pre>
    <span class="keyword">seek</span><span class="operator">(</span><span class="variable">TEST</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">1</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>This is also useful for applications emulating <code>tail -f</code>.  Once you hit
EOF on your read, and then sleep for a while, you might have to stick in a
<a href="#seek"><code>seek()</code></a> to reset things.  The <a href="#seek"><code>seek</code></a> doesn't change the current position,
but it <em>does</em> clear the end-of-file condition on the handle, so that the
next <code>&lt;FILE&gt;</code> makes Perl try again to read something.  We hope.</p>
</dd>
<dd>
<p>If that doesn't work (some IO implementations are particularly
cantankerous), then you may need something more like this:</p>
</dd>
<dd>
<pre>
    <span class="keyword">for</span> <span class="operator">(;;)</span> <span class="operator">{</span>
        <span class="keyword">for</span> <span class="operator">(</span><span class="variable">$curpos</span> <span class="operator">=</span> <span class="keyword">tell</span><span class="operator">(</span><span class="variable">FILE</span><span class="operator">);</span> <span class="variable">$_</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">FILE</span><span class="operator">&gt;;</span>
             <span class="variable">$curpos</span> <span class="operator">=</span> <span class="keyword">tell</span><span class="operator">(</span><span class="variable">FILE</span><span class="operator">))</span> <span class="operator">{</span>
            <span class="comment"># search for some stuff and put it into files</span>
        <span class="operator">}</span>
        <span class="keyword">sleep</span><span class="operator">(</span><span class="variable">$for_a_while</span><span class="operator">);</span>
        <span class="keyword">seek</span><span class="operator">(</span><span class="variable">FILE</span><span class="operator">,</span> <span class="variable">$curpos</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>
    <span class="operator">}</span>
</pre>
</dd>
</li>
<dt><strong><a name="seekdir" class="item">seekdir DIRHANDLE,POS</a></strong>

<dd>
<p>Sets the current position for the <a href="#readdir"><code>readdir</code></a> routine on DIRHANDLE.  POS
must be a value returned by <a href="#telldir"><code>telldir</code></a>.  <a href="#seekdir"><code>seekdir</code></a> also has the same caveats
about possible directory compaction as the corresponding system library
routine.</p>
</dd>
</li>
<dt><strong><a name="select" class="item">select FILEHANDLE</a></strong>

<dt><strong>select</strong>

<dd>
<p>Returns the currently selected filehandle.  If FILEHANDLE is supplied,
sets the new current default filehandle for output.  This has two
effects: first, a <a href="#write"><code>write</code></a> or a <a href="#print"><code>print</code></a> without a filehandle will
default to this FILEHANDLE.  Second, references to variables related to
output will refer to this output channel.  For example, if you have to
set the top of form format for more than one output channel, you might
do the following:</p>
</dd>
<dd>
<pre>
    <span class="keyword">select</span><span class="operator">(</span><span class="variable">REPORT1</span><span class="operator">);</span>
    <span class="variable">$^</span> <span class="operator">=</span> <span class="string">'report1_top'</span><span class="operator">;</span>
    <span class="keyword">select</span><span class="operator">(</span><span class="variable">REPORT2</span><span class="operator">);</span>
    <span class="variable">$^</span> <span class="operator">=</span> <span class="string">'report2_top'</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>FILEHANDLE may be an expression whose value gives the name of the
actual filehandle.  Thus:</p>
</dd>
<dd>
<pre>
    <span class="variable">$oldfh</span> <span class="operator">=</span> <span class="keyword">select</span><span class="operator">(</span><span class="variable">STDERR</span><span class="operator">);</span> <span class="variable">$|</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span> <span class="keyword">select</span><span class="operator">(</span><span class="variable">$oldfh</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>Some programmers may prefer to think of filehandles as objects with
methods, preferring to write the last example as:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">IO::Handle</span><span class="operator">;</span>
    <span class="variable">STDERR</span><span class="operator">-&gt;</span><span class="variable">autoflush</span><span class="operator">(</span><span class="number">1</span><span class="operator">);</span>
</pre>
</dd>
</li>
<dt><strong>select RBITS,WBITS,EBITS,TIMEOUT</strong>

<dd>
<p>This calls the <a href="#select"><code>select(2)</code></a> system call with the bit masks specified, which
can be constructed using <a href="#fileno"><code>fileno</code></a> and <a href="#vec"><code>vec</code></a>, along these lines:</p>
</dd>
<dd>
<pre>
    <span class="variable">$rin</span> <span class="operator">=</span> <span class="variable">$win</span> <span class="operator">=</span> <span class="variable">$ein</span> <span class="operator">=</span> <span class="string">''</span><span class="operator">;</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$rin</span><span class="operator">,</span><span class="keyword">fileno</span><span class="operator">(</span><span class="variable">STDIN</span><span class="operator">),</span><span class="number">1</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$win</span><span class="operator">,</span><span class="keyword">fileno</span><span class="operator">(</span><span class="variable">STDOUT</span><span class="operator">),</span><span class="number">1</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
    <span class="variable">$ein</span> <span class="operator">=</span> <span class="variable">$rin</span> <span class="operator">|</span> <span class="variable">$win</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>If you want to select on many filehandles you might wish to write a
subroutine:</p>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> fhbits </span><span class="operator">{</span>
        <span class="keyword">my</span><span class="operator">(</span><span class="variable">@fhlist</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">split</span><span class="operator">(</span><span class="string">' '</span><span class="operator">,</span><span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">);</span>
        <span class="keyword">my</span><span class="operator">(</span><span class="variable">$bits</span><span class="operator">);</span>
        <span class="keyword">for</span> <span class="operator">(</span><span class="variable">@fhlist</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$bits</span><span class="operator">,</span><span class="keyword">fileno</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">),</span><span class="number">1</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
        <span class="operator">}</span>
        <span class="variable">$bits</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="variable">$rin</span> <span class="operator">=</span> <span class="variable">fhbits</span><span class="operator">(</span><span class="string">'STDIN TTY SOCK'</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>The usual idiom is:</p>
</dd>
<dd>
<pre>
    <span class="operator">(</span><span class="variable">$nfound</span><span class="operator">,</span><span class="variable">$timeleft</span><span class="operator">)</span> <span class="operator">=</span>
      <span class="keyword">select</span><span class="operator">(</span><span class="variable">$rout</span><span class="operator">=</span><span class="variable">$rin</span><span class="operator">,</span> <span class="variable">$wout</span><span class="operator">=</span><span class="variable">$win</span><span class="operator">,</span> <span class="variable">$eout</span><span class="operator">=</span><span class="variable">$ein</span><span class="operator">,</span> <span class="variable">$timeout</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>or to block until something becomes ready just do this</p>
</dd>
<dd>
<pre>
    <span class="variable">$nfound</span> <span class="operator">=</span> <span class="keyword">select</span><span class="operator">(</span><span class="variable">$rout</span><span class="operator">=</span><span class="variable">$rin</span><span class="operator">,</span> <span class="variable">$wout</span><span class="operator">=</span><span class="variable">$win</span><span class="operator">,</span> <span class="variable">$eout</span><span class="operator">=</span><span class="variable">$ein</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>Most systems do not bother to return anything useful in $timeleft, so
calling <a href="#select"><code>select()</code></a> in scalar context just returns $nfound.</p>
</dd>
<dd>
<p>Any of the bit masks can also be undef.  The timeout, if specified, is
in seconds, which may be fractional.  Note: not all implementations are
capable of returning the $timeleft.  If not, they always return
$timeleft equal to the supplied $timeout.</p>
</dd>
<dd>
<p>You can effect a sleep of 250 milliseconds this way:</p>
</dd>
<dd>
<pre>
    <span class="keyword">select</span><span class="operator">(</span><span class="keyword">undef</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="number">0</span><span class="operator">.</span><span class="number">25</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>Note that whether <a href="#select"><code>select</code></a> gets restarted after signals (say, SIGALRM)
is implementation-dependent.  See also <a href="../../lib/pods/perlport.html">the perlport manpage</a> for notes on the
portability of <a href="#select"><code>select</code></a>.</p>
</dd>
<dd>
<p>On error, <a href="#select"><code>select</code></a> behaves like the <a href="#select"><code>select(2)</code></a> system call : it returns
-1 and sets <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a>.</p>
</dd>
<dd>
<p>Note: on some Unixes, the <a href="#select"><code>select(2)</code></a> system call may report a socket file
descriptor as &quot;ready for reading&quot;, when actually no data is available,
thus a subsequent read blocks. It can be avoided using always the
O_NONBLOCK flag on the socket. See <a href="#select"><code>select(2)</code></a> and <a href="#fcntl"><code>fcntl(2)</code></a> for further
details.</p>
</dd>
<dd>
<p><strong>WARNING</strong>: One should not attempt to mix buffered I/O (like <a href="#read"><code>read</code></a>
or &lt;FH&gt;) with <a href="#select"><code>select</code></a>, except as permitted by POSIX, and even
then only on POSIX systems.  You have to use <a href="#sysread"><code>sysread</code></a> instead.</p>
</dd>
</li>
<dt><strong><a name="semctl" class="item">semctl ID,SEMNUM,CMD,ARG</a></strong>

<dd>
<p>Calls the System V IPC function <a href="#semctl"><code>semctl</code></a>.  You'll probably have to say</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">IPC::SysV</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>first to get the correct constant definitions.  If CMD is IPC_STAT or
GETALL, then ARG must be a variable that will hold the returned
semid_ds structure or semaphore value array.  Returns like <a href="#ioctl"><code>ioctl</code></a>:
the undefined value for error, &quot;<code>0 but true</code>&quot; for zero, or the actual
return value otherwise.  The ARG must consist of a vector of native
short integers, which may be created with <a href="#pack"><code>pack(&quot;s!&quot;,(0)x$nsem)</code></a>.
See also <a href="../../lib/pods/perlipc.html#sysv_ipc">SysV IPC in the perlipc manpage</a>, <code>IPC::SysV</code>, <code>IPC::Semaphore</code>
documentation.</p>
</dd>
</li>
<dt><strong><a name="semget" class="item">semget KEY,NSEMS,FLAGS</a></strong>

<dd>
<p>Calls the System V IPC function semget.  Returns the semaphore id, or
the undefined value if there is an error.  See also
<a href="../../lib/pods/perlipc.html#sysv_ipc">SysV IPC in the perlipc manpage</a>, <code>IPC::SysV</code>, <code>IPC::SysV::Semaphore</code>
documentation.</p>
</dd>
</li>
<dt><strong><a name="semop" class="item">semop KEY,OPSTRING</a></strong>

<dd>
<p>Calls the System V IPC function semop to perform semaphore operations
such as signalling and waiting.  OPSTRING must be a packed array of
semop structures.  Each semop structure can be generated with
<a href="#pack"><code>pack(&quot;s!3&quot;, $semnum, $semop, $semflag)</code></a>.  The length of OPSTRING 
implies the number of semaphore operations.  Returns true if
successful, or false if there is an error.  As an example, the
following code waits on semaphore $semnum of semaphore id $semid:</p>
</dd>
<dd>
<pre>
    <span class="variable">$semop</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"s!3"</span><span class="operator">,</span> <span class="variable">$semnum</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>
    <span class="keyword">die</span> <span class="string">"Semaphore trouble: $!\n"</span> <span class="keyword">unless</span> <span class="keyword">semop</span><span class="operator">(</span><span class="variable">$semid</span><span class="operator">,</span> <span class="variable">$semop</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>To signal the semaphore, replace <code>-1</code> with <code>1</code>.  See also
<a href="../../lib/pods/perlipc.html#sysv_ipc">SysV IPC in the perlipc manpage</a>, <code>IPC::SysV</code>, and <code>IPC::SysV::Semaphore</code>
documentation.</p>
</dd>
</li>
<dt><strong><a name="send" class="item">send SOCKET,MSG,FLAGS,TO</a></strong>

<dt><strong>send SOCKET,MSG,FLAGS</strong>

<dd>
<p>Sends a message on a socket.  Attempts to send the scalar MSG to the
SOCKET filehandle.  Takes the same flags as the system call of the
same name.  On unconnected sockets you must specify a destination to
send TO, in which case it does a C <code>sendto</code>.  Returns the number of
characters sent, or the undefined value if there is an error.  The C
system call <code>sendmsg(2)</code> is currently unimplemented.  See
<a href="../../lib/pods/perlipc.html#udp__message_passing">UDP: Message Passing in the perlipc manpage</a> for examples.</p>
</dd>
<dd>
<p>Note the <em>characters</em>: depending on the status of the socket, either
(8-bit) bytes or characters are sent.  By default all sockets operate
on bytes, but for example if the socket has been changed using
<a href="#binmode"><code>binmode()</code></a> to operate with the <code>:encoding(utf8)</code> I/O layer (see
<a href="#open">open</a>, or the <a href="#open"><code>open</code></a> pragma, <a href="../../lib/open.html">the open manpage</a>), the I/O will operate on UTF-8
encoded Unicode characters, not bytes.  Similarly for the <code>:encoding</code>
pragma: in that case pretty much any characters can be sent.</p>
</dd>
</li>
<dt><strong><a name="setpgrp" class="item">setpgrp PID,PGRP</a></strong>

<dd>
<p>Sets the current process group for the specified PID, <code>0</code> for the current
process.  Will produce a fatal error if used on a machine that doesn't
implement POSIX <code>setpgid(2)</code> or BSD <a href="#setpgrp"><code>setpgrp(2)</code></a>.  If the arguments are omitted,
it defaults to <code>0,0</code>.  Note that the BSD 4.2 version of <a href="#setpgrp"><code>setpgrp</code></a> does not
accept any arguments, so only <a href="#setpgrp"><code>setpgrp(0,0)</code></a> is portable.  See also
<code>POSIX::setsid()</code>.</p>
</dd>
</li>
<dt><strong><a name="setpriority" class="item">setpriority WHICH,WHO,PRIORITY</a></strong>

<dd>
<p>Sets the current priority for a process, a process group, or a user.
(See setpriority(2).)  Will produce a fatal error if used on a machine
that doesn't implement <a href="#setpriority"><code>setpriority(2)</code></a>.</p>
</dd>
</li>
<dt><strong><a name="setsockopt" class="item">setsockopt SOCKET,LEVEL,OPTNAME,OPTVAL</a></strong>

<dd>
<p>Sets the socket option requested.  Returns undefined if there is an
error.  Use integer constants provided by the <code>Socket</code> module for
LEVEL and OPNAME.  Values for LEVEL can also be obtained from
getprotobyname.  OPTVAL might either be a packed string or an integer.
An integer OPTVAL is shorthand for pack(&quot;i&quot;, OPTVAL).</p>
</dd>
<dd>
<p>An example disabling the Nagle's algorithm for a socket:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Socket</span> <span class="string">qw(IPPROTO_TCP TCP_NODELAY)</span><span class="operator">;</span>
    <span class="keyword">setsockopt</span><span class="operator">(</span><span class="variable">$socket</span><span class="operator">,</span> <span class="variable">IPPROTO_TCP</span><span class="operator">,</span> <span class="variable">TCP_NODELAY</span><span class="operator">,</span> <span class="number">1</span><span class="operator">);</span>
</pre>
</dd>
</li>
<dt><strong><a name="shift" class="item">shift ARRAY</a></strong>

<dt><strong>shift</strong>

<dd>
<p>Shifts the first value of the array off and returns it, shortening the
array by 1 and moving everything down.  If there are no elements in the
array, returns the undefined value.  If ARRAY is omitted, shifts the
<a href="../../lib/pods/perlvar.html#__"><code>@_</code></a> array within the lexical scope of subroutines and formats, and the
<a href="../../lib/pods/perlvar.html#_argv"><code>@ARGV</code></a> array outside of a subroutine and also within the lexical scopes
established by the <a href="#eval"><code>eval STRING</code></a>, <code>BEGIN {}</code>, <code>INIT {}</code>, <code>CHECK {}</code>,
<code>UNITCHECK {}</code> and <code>END {}</code> constructs.</p>
</dd>
<dd>
<p>See also <a href="#unshift"><code>unshift</code></a>, <a href="#push"><code>push</code></a>, and <a href="#pop"><code>pop</code></a>.  <a href="#shift"><code>shift</code></a> and <a href="#unshift"><code>unshift</code></a> do the
same thing to the left end of an array that <a href="#pop"><code>pop</code></a> and <a href="#push"><code>push</code></a> do to the
right end.</p>
</dd>
</li>
<dt><strong><a name="shmctl" class="item">shmctl ID,CMD,ARG</a></strong>

<dd>
<p>Calls the System V IPC function shmctl.  You'll probably have to say</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">IPC::SysV</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>first to get the correct constant definitions.  If CMD is <code>IPC_STAT</code>,
then ARG must be a variable that will hold the returned <code>shmid_ds</code>
structure.  Returns like ioctl: the undefined value for error, &quot;<code>0</code> but
true&quot; for zero, or the actual return value otherwise.
See also <a href="../../lib/pods/perlipc.html#sysv_ipc">SysV IPC in the perlipc manpage</a> and <code>IPC::SysV</code> documentation.</p>
</dd>
</li>
<dt><strong><a name="shmget" class="item">shmget KEY,SIZE,FLAGS</a></strong>

<dd>
<p>Calls the System V IPC function shmget.  Returns the shared memory
segment id, or the undefined value if there is an error.
See also <a href="../../lib/pods/perlipc.html#sysv_ipc">SysV IPC in the perlipc manpage</a> and <code>IPC::SysV</code> documentation.</p>
</dd>
</li>
<dt><strong><a name="shmread" class="item">shmread ID,VAR,POS,SIZE</a></strong>

<dt><strong><a name="shmwrite" class="item">shmwrite ID,STRING,POS,SIZE</a></strong>

<dd>
<p>Reads or writes the System V shared memory segment ID starting at
position POS for size SIZE by attaching to it, copying in/out, and
detaching from it.  When reading, VAR must be a variable that will
hold the data read.  When writing, if STRING is too long, only SIZE
bytes are used; if STRING is too short, nulls are written to fill out
SIZE bytes.  Return true if successful, or false if there is an error.
<a href="#shmread"><code>shmread()</code></a> taints the variable. See also <a href="../../lib/pods/perlipc.html#sysv_ipc">SysV IPC in the perlipc manpage</a>,
<code>IPC::SysV</code> documentation, and the <code>IPC::Shareable</code> module from CPAN.</p>
</dd>
</li>
<dt><strong><a name="shutdown" class="item">shutdown SOCKET,HOW</a></strong>

<dd>
<p>Shuts down a socket connection in the manner indicated by HOW, which
has the same interpretation as in the system call of the same name.</p>
</dd>
<dd>
<pre>
    <span class="keyword">shutdown</span><span class="operator">(</span><span class="variable">SOCKET</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>    <span class="comment"># I/we have stopped reading data</span>
    <span class="keyword">shutdown</span><span class="operator">(</span><span class="variable">SOCKET</span><span class="operator">,</span> <span class="number">1</span><span class="operator">);</span>    <span class="comment"># I/we have stopped writing data</span>
    <span class="keyword">shutdown</span><span class="operator">(</span><span class="variable">SOCKET</span><span class="operator">,</span> <span class="number">2</span><span class="operator">);</span>    <span class="comment"># I/we have stopped using this socket</span>
</pre>
</dd>
<dd>
<p>This is useful with sockets when you want to tell the other
side you're done writing but not done reading, or vice versa.
It's also a more insistent form of close because it also
disables the file descriptor in any forked copies in other
processes.</p>
</dd>
</li>
<dt><strong><a name="sin" class="item">sin EXPR</a></strong>

<dt><strong>sin</strong>

<dd>
<p>Returns the sine of EXPR (expressed in radians).  If EXPR is omitted,
returns sine of <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
<dd>
<p>For the inverse sine operation, you may use the <code>Math::Trig::asin</code>
function, or use this relation:</p>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> asin </span><span class="operator">{</span> <span class="keyword">atan2</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">,</span> <span class="keyword">sqrt</span><span class="operator">(</span><span class="number">1</span> <span class="operator">-</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">*</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">))</span> <span class="operator">}</span>
</pre>
</dd>
</li>
<dt><strong><a name="sleep" class="item">sleep EXPR</a></strong>

<dt><strong>sleep</strong>

<dd>
<p>Causes the script to sleep for EXPR seconds, or forever if no EXPR.
May be interrupted if the process receives a signal such as <code>SIGALRM</code>.
Returns the number of seconds actually slept.  You probably cannot
mix <a href="#alarm"><code>alarm</code></a> and <a href="#sleep"><code>sleep</code></a> calls, because <a href="#sleep"><code>sleep</code></a> is often implemented
using <a href="#alarm"><code>alarm</code></a>.</p>
</dd>
<dd>
<p>On some older systems, it may sleep up to a full second less than what
you requested, depending on how it counts seconds.  Most modern systems
always sleep the full amount.  They may appear to sleep longer than that,
however, because your process might not be scheduled right away in a
busy multitasking system.</p>
</dd>
<dd>
<p>For delays of finer granularity than one second, the Time::HiRes module
(from CPAN, and starting from Perl 5.8 part of the standard
distribution) provides <code>usleep()</code>.  You may also use Perl's four-argument
version of <a href="#select"><code>select()</code></a> leaving the first three arguments undefined, or you
might be able to use the <a href="#syscall"><code>syscall</code></a> interface to access <code>setitimer(2)</code> if
your system supports it. See <a href="../../lib/pods/perlfaq8.html">the perlfaq8 manpage</a> for details.</p>
</dd>
<dd>
<p>See also the POSIX module's <code>pause</code> function.</p>
</dd>
</li>
<dt><strong><a name="socket" class="item">socket SOCKET,DOMAIN,TYPE,PROTOCOL</a></strong>

<dd>
<p>Opens a socket of the specified kind and attaches it to filehandle
SOCKET.  DOMAIN, TYPE, and PROTOCOL are specified the same as for
the system call of the same name.  You should <code>use Socket</code> first
to get the proper definitions imported.  See the examples in
<a href="../../lib/pods/perlipc.html#sockets__client_server_communication">Sockets: Client/Server Communication in the perlipc manpage</a>.</p>
</dd>
<dd>
<p>On systems that support a close-on-exec flag on files, the flag will
be set for the newly opened file descriptor, as determined by the
value of $^F.  See <a href="../../lib/pods/perlvar.html#__f">$^F in the perlvar manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="socketpair" class="item">socketpair SOCKET1,SOCKET2,DOMAIN,TYPE,PROTOCOL</a></strong>

<dd>
<p>Creates an unnamed pair of sockets in the specified domain, of the
specified type.  DOMAIN, TYPE, and PROTOCOL are specified the same as
for the system call of the same name.  If unimplemented, yields a fatal
error.  Returns true if successful.</p>
</dd>
<dd>
<p>On systems that support a close-on-exec flag on files, the flag will
be set for the newly opened file descriptors, as determined by the value
of $^F.  See <a href="../../lib/pods/perlvar.html#__f">$^F in the perlvar manpage</a>.</p>
</dd>
<dd>
<p>Some systems defined <a href="#pipe"><code>pipe</code></a> in terms of <a href="#socketpair"><code>socketpair</code></a>, in which a call
to <a href="#pipe"><code>pipe(Rdr, Wtr)</code></a> is essentially:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Socket</span><span class="operator">;</span>
    <span class="keyword">socketpair</span><span class="operator">(</span><span class="variable">Rdr</span><span class="operator">,</span> <span class="variable">Wtr</span><span class="operator">,</span> <span class="variable">AF_UNIX</span><span class="operator">,</span> <span class="variable">SOCK_STREAM</span><span class="operator">,</span> <span class="variable">PF_UNSPEC</span><span class="operator">);</span>
    <span class="keyword">shutdown</span><span class="operator">(</span><span class="variable">Rdr</span><span class="operator">,</span> <span class="number">1</span><span class="operator">);</span>        <span class="comment"># no more writing for reader</span>
    <span class="keyword">shutdown</span><span class="operator">(</span><span class="variable">Wtr</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>        <span class="comment"># no more reading for writer</span>
</pre>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlipc.html">the perlipc manpage</a> for an example of socketpair use.  Perl 5.8 and later will
emulate socketpair using IP sockets to localhost if your system implements
sockets but not socketpair.</p>
</dd>
</li>
<dt><strong><a name="sort" class="item">sort SUBNAME LIST</a></strong>

<dt><strong>sort BLOCK LIST</strong>

<dt><strong>sort LIST</strong>

<dd>
<p>In list context, this sorts the LIST and returns the sorted list value.
In scalar context, the behaviour of <a href="#sort"><code>sort()</code></a> is undefined.</p>
</dd>
<dd>
<p>If SUBNAME or BLOCK is omitted, <a href="#sort"><code>sort</code></a>s in standard string comparison
order.  If SUBNAME is specified, it gives the name of a subroutine
that returns an integer less than, equal to, or greater than <code>0</code>,
depending on how the elements of the list are to be ordered.  (The <code>&lt;
&lt;=</code> &gt;&gt; and <code>cmp</code> operators are extremely useful in such routines.)
SUBNAME may be a scalar variable name (unsubscripted), in which case
the value provides the name of (or a reference to) the actual
subroutine to use.  In place of a SUBNAME, you can provide a BLOCK as
an anonymous, in-line sort subroutine.</p>
</dd>
<dd>
<p>If the subroutine's prototype is <code>($$)</code>, the elements to be compared
are passed by reference in <a href="../../lib/pods/perlvar.html#__"><code>@_</code></a>, as for a normal subroutine.  This is
slower than unprototyped subroutines, where the elements to be
compared are passed into the subroutine
as the package global variables $a and $b (see example below).  Note that
in the latter case, it is usually counter-productive to declare $a and
$b as lexicals.</p>
</dd>
<dd>
<p>The values to be compared are always passed by reference and should not
be modified.</p>
</dd>
<dd>
<p>You also cannot exit out of the sort block or subroutine using any of the
loop control operators described in <a href="../../lib/pods/perlsyn.html">the perlsyn manpage</a> or with <a href="#goto"><code>goto</code></a>.</p>
</dd>
<dd>
<p>When <code>use locale</code> is in effect, <a href="#sort"><code>sort LIST</code></a> sorts LIST according to the
current collation locale.  See <a href="../../lib/pods/perllocale.html">the perllocale manpage</a>.</p>
</dd>
<dd>
<p><a href="#sort"><code>sort()</code></a> returns aliases into the original list, much as a for loop's index
variable aliases the list elements.  That is, modifying an element of a
list returned by <a href="#sort"><code>sort()</code></a> (for example, in a <code>foreach</code>, <a href="#map"><code>map</code></a> or <a href="#grep"><code>grep</code></a>)
actually modifies the element in the original list.  This is usually
something to be avoided when writing clear code.</p>
</dd>
<dd>
<p>Perl 5.6 and earlier used a quicksort algorithm to implement sort.
That algorithm was not stable, and <em>could</em> go quadratic.  (A <em>stable</em> sort
preserves the input order of elements that compare equal.  Although
quicksort's run time is O(NlogN) when averaged over all arrays of
length N, the time can be O(N**2), <em>quadratic</em> behavior, for some
inputs.)  In 5.7, the quicksort implementation was replaced with
a stable mergesort algorithm whose worst-case behavior is O(NlogN).
But benchmarks indicated that for some inputs, on some platforms,
the original quicksort was faster.  5.8 has a sort pragma for
limited control of the sort.  Its rather blunt control of the
underlying algorithm may not persist into future Perls, but the
ability to characterize the input or output in implementation
independent ways quite probably will.  See <a href="../../lib/sort.html">the sort manpage</a>.</p>
</dd>
<dd>
<p>Examples:</p>
</dd>
<dd>
<pre>
    <span class="comment"># sort lexically</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="variable">@files</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># same thing, but with explicit sort routine</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$a</span> <span class="keyword">cmp</span> <span class="variable">$b</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># now case-insensitively</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="keyword">uc</span><span class="operator">(</span><span class="variable">$a</span><span class="operator">)</span> <span class="keyword">cmp</span> <span class="keyword">uc</span><span class="operator">(</span><span class="variable">$b</span><span class="operator">)}</span> <span class="variable">@files</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># same thing in reversed order</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$b</span> <span class="keyword">cmp</span> <span class="variable">$a</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># sort numerically ascending</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$a</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$b</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># sort numerically descending</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$b</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$a</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># this sorts the %age hash by value instead of key</span>
    <span class="comment"># using an in-line function</span>
    <span class="variable">@eldest</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span> <span class="variable">$age</span><span class="operator">{</span><span class="variable">$b</span><span class="operator">}</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$age</span><span class="operator">{</span><span class="variable">$a</span><span class="operator">}</span> <span class="operator">}</span> <span class="keyword">keys</span> <span class="variable">%age</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># sort using explicit subroutine name</span>
    <span class="keyword">sub</span><span class="variable"> byage </span><span class="operator">{</span>
        <span class="variable">$age</span><span class="operator">{</span><span class="variable">$a</span><span class="operator">}</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$age</span><span class="operator">{</span><span class="variable">$b</span><span class="operator">}</span><span class="operator">;</span>  <span class="comment"># presuming numeric</span>
    <span class="operator">}</span>
    <span class="variable">@sortedclass</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="variable">byage</span> <span class="variable">@class</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> backwards </span><span class="operator">{</span> <span class="variable">$b</span> <span class="keyword">cmp</span> <span class="variable">$a</span> <span class="operator">}</span>
    <span class="variable">@harry</span>  <span class="operator">=</span> <span class="string">qw(dog cat x Cain Abel)</span><span class="operator">;</span>
    <span class="variable">@george</span> <span class="operator">=</span> <span class="string">qw(gone chased yz Punished Axed)</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="keyword">sort</span> <span class="variable">@harry</span><span class="operator">;</span>
            <span class="comment"># prints AbelCaincatdogx</span>
    <span class="keyword">print</span> <span class="keyword">sort</span> <span class="variable">backwards</span> <span class="variable">@harry</span><span class="operator">;</span>
            <span class="comment"># prints xdogcatCainAbel</span>
    <span class="keyword">print</span> <span class="keyword">sort</span> <span class="variable">@george</span><span class="operator">,</span> <span class="string">'to'</span><span class="operator">,</span> <span class="variable">@harry</span><span class="operator">;</span>
            <span class="comment"># prints AbelAxedCainPunishedcatchaseddoggonetoxyz</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># inefficiently sort by descending numeric compare using</span>
    <span class="comment"># the first integer after the first = sign, or the</span>
    <span class="comment"># whole record case-insensitively otherwise</span>
</pre>
</dd>
<dd>
<pre>
    <span class="variable">@new</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span>
        <span class="operator">(</span><span class="variable">$b</span> <span class="operator">=~</span> <span class="regex">/=(\d+)/</span><span class="operator">)</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">&lt;=&gt;</span> <span class="operator">(</span><span class="variable">$a</span> <span class="operator">=~</span> <span class="regex">/=(\d+)/</span><span class="operator">)</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span>
                            <span class="operator">||</span>
                    <span class="keyword">uc</span><span class="operator">(</span><span class="variable">$a</span><span class="operator">)</span>  <span class="keyword">cmp</span>  <span class="keyword">uc</span><span class="operator">(</span><span class="variable">$b</span><span class="operator">)</span>
    <span class="operator">}</span> <span class="variable">@old</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># same thing, but much more efficiently;</span>
    <span class="comment"># we'll build auxiliary indices instead</span>
    <span class="comment"># for speed</span>
    <span class="variable">@nums</span> <span class="operator">=</span> <span class="variable">@caps</span> <span class="operator">=</span> <span class="operator">();</span>
    <span class="keyword">for</span> <span class="operator">(</span><span class="variable">@old</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">push</span> <span class="variable">@nums</span><span class="operator">,</span> <span class="regex">/=(\d+)/</span><span class="operator">;</span>
        <span class="keyword">push</span> <span class="variable">@caps</span><span class="operator">,</span> <span class="keyword">uc</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">);</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<pre>
    <span class="variable">@new</span> <span class="operator">=</span> <span class="variable">@old</span><span class="operator">[</span> <span class="keyword">sort</span> <span class="operator">{</span>
                        <span class="variable">$nums</span><span class="operator">[</span><span class="variable">$b</span><span class="operator">]</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$nums</span><span class="operator">[</span><span class="variable">$a</span><span class="operator">]</span>
                                 <span class="operator">||</span>
                        <span class="variable">$caps</span><span class="operator">[</span><span class="variable">$a</span><span class="operator">]</span> <span class="keyword">cmp</span> <span class="variable">$caps</span><span class="operator">[</span><span class="variable">$b</span><span class="operator">]</span>
                       <span class="operator">}</span> <span class="number">0</span><span class="operator">..</span><span class="variable">$#old</span>
               <span class="operator">]</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># same thing, but without any temps</span>
    <span class="variable">@new</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="variable">$_</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">}</span>
           <span class="keyword">sort</span> <span class="operator">{</span> <span class="variable">$b</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$a</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span>
                           <span class="operator">||</span>
                  <span class="variable">$a</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span> <span class="keyword">cmp</span> <span class="variable">$b</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span>
           <span class="operator">}</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="operator">[</span><span class="variable">$_</span><span class="operator">,</span> <span class="regex">/=(\d+)/</span><span class="operator">,</span> <span class="keyword">uc</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">)</span><span class="operator">]</span> <span class="operator">}</span> <span class="variable">@old</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># using a prototype allows you to use any comparison subroutine</span>
    <span class="comment"># as a sort subroutine (including other package's subroutines)</span>
    <span class="keyword">package</span> <span class="variable">other</span><span class="operator">;</span>
    <span class="keyword">sub</span><span class="variable"> backwards </span><span class="operator">(</span>$$<span class="operator">)</span> <span class="operator">{</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span> <span class="keyword">cmp</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">;</span> <span class="operator">}</span>     <span class="comment"># $a and $b are not set here</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">package</span> <span class="variable">main</span><span class="operator">;</span>
    <span class="variable">@new</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="variable">other::backwards</span> <span class="variable">@old</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># guarantee stability, regardless of algorithm</span>
    <span class="keyword">use</span> <span class="keyword">sort</span> <span class="string">'stable'</span><span class="operator">;</span>
    <span class="variable">@new</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span> <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$a</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">)</span> <span class="keyword">cmp</span> <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$b</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">)</span> <span class="operator">}</span> <span class="variable">@old</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># force use of mergesort (not portable outside Perl 5.8)</span>
    <span class="keyword">use</span> <span class="keyword">sort</span> <span class="string">'_mergesort'</span><span class="operator">;</span>  <span class="comment"># note discouraging _</span>
    <span class="variable">@new</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span> <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$a</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">)</span> <span class="keyword">cmp</span> <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$b</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">)</span> <span class="operator">}</span> <span class="variable">@old</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>If you're using strict, you <em>must not</em> declare $a
and $b as lexicals.  They are package globals.  That means
if you're in the <code>main</code> package and type</p>
</dd>
<dd>
<pre>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$b</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$a</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>then <a href="../../lib/pods/perlvar.html#_a"><code>$a</code></a> and <a href="../../lib/pods/perlvar.html#_b"><code>$b</code></a> are <code>$main::a</code> and <code>$main::b</code> (or <code>$::a</code> and <code>$::b</code>),
but if you're in the <code>FooPack</code> package, it's the same as typing</p>
</dd>
<dd>
<pre>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$FooPack::b</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$FooPack::a</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>The comparison function is required to behave.  If it returns
inconsistent results (sometimes saying <code>$x[1]</code> is less than <code>$x[2]</code> and
sometimes saying the opposite, for example) the results are not
well-defined.</p>
</dd>
<dd>
<p>Because <code>&lt;=&gt;</code> returns <a href="#undef"><code>undef</code></a> when either operand is <code>NaN</code>
(not-a-number), and because <a href="#sort"><code>sort</code></a> will trigger a fatal error unless the
result of a comparison is defined, when sorting with a comparison function
like <a href="../../lib/pods/perlvar.html#_a"><code>$a &lt;=&gt; $b</code></a>, be careful about lists that might contain a <code>NaN</code>.
The following example takes advantage of the fact that <code>NaN != NaN</code> to
eliminate any <code>NaN</code>s from the input.</p>
</dd>
<dd>
<pre>
    <span class="variable">@result</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span> <span class="variable">$a</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$b</span> <span class="operator">}</span> <span class="keyword">grep</span> <span class="operator">{</span> <span class="variable">$_</span> <span class="operator">==</span> <span class="variable">$_</span> <span class="operator">}</span> <span class="variable">@input</span><span class="operator">;</span>
</pre>
</dd>
</li>
<dt><strong><a name="splice" class="item">splice ARRAY,OFFSET,LENGTH,LIST</a></strong>

<dt><strong>splice ARRAY,OFFSET,LENGTH</strong>

<dt><strong>splice ARRAY,OFFSET</strong>

<dt><strong>splice ARRAY</strong>

<dd>
<p>Removes the elements designated by OFFSET and LENGTH from an array, and
replaces them with the elements of LIST, if any.  In list context,
returns the elements removed from the array.  In scalar context,
returns the last element removed, or <a href="#undef"><code>undef</code></a> if no elements are
removed.  The array grows or shrinks as necessary.
If OFFSET is negative then it starts that far from the end of the array.
If LENGTH is omitted, removes everything from OFFSET onward.
If LENGTH is negative, removes the elements from OFFSET onward
except for -LENGTH elements at the end of the array.
If both OFFSET and LENGTH are omitted, removes everything. If OFFSET is
past the end of the array, perl issues a warning, and splices at the
end of the array.</p>
</dd>
<dd>
<p>The following equivalences hold (assuming <a href="../../lib/pods/perlvar.html#__"><code>$[ == 0 and $#a &gt;= $i</code></a> )</p>
</dd>
<dd>
<pre>
    push(@a,$x,$y)      splice(@a,@a,0,$x,$y)
    pop(@a)             splice(@a,-1)
    shift(@a)           splice(@a,0,1)
    unshift(@a,$x,$y)   splice(@a,0,0,$x,$y)
    $a[$i] = $y         splice(@a,$i,1,$y)</pre>
</dd>
<dd>
<p>Example, assuming array lengths are passed before arrays:</p>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> aeq </span><span class="operator">{</span>   <span class="comment"># compare two list values</span>
        <span class="keyword">my</span><span class="operator">(</span><span class="variable">@a</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">splice</span><span class="operator">(</span><span class="variable">@_</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="keyword">shift</span><span class="operator">);</span>
        <span class="keyword">my</span><span class="operator">(</span><span class="variable">@b</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">splice</span><span class="operator">(</span><span class="variable">@_</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="keyword">shift</span><span class="operator">);</span>
        <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">unless</span> <span class="variable">@a</span> <span class="operator">==</span> <span class="variable">@b</span><span class="operator">;</span>       <span class="comment"># same len?</span>
        <span class="keyword">while</span> <span class="operator">(</span><span class="variable">@a</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">if</span> <span class="keyword">pop</span><span class="operator">(</span><span class="variable">@a</span><span class="operator">)</span> <span class="keyword">ne</span> <span class="keyword">pop</span><span class="operator">(</span><span class="variable">@b</span><span class="operator">);</span>
        <span class="operator">}</span>
        <span class="keyword">return</span> <span class="number">1</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">if</span> <span class="operator">(&amp;</span><span class="variable">aeq</span><span class="operator">(</span><span class="variable">$len</span><span class="operator">,</span><span class="variable">@foo</span><span class="operator">[</span><span class="number">1</span><span class="operator">..</span><span class="variable">$len</span><span class="operator">]</span><span class="operator">,</span><span class="number">0</span><span class="operator">+</span><span class="variable">@bar</span><span class="operator">,</span><span class="variable">@bar</span><span class="operator">))</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">}</span>
</pre>
</dd>
</li>
<dt><strong><a name="split" class="item">split /PATTERN/,EXPR,LIMIT</a></strong>

<dt><strong>split /PATTERN/,EXPR</strong>

<dt><strong>split /PATTERN/</strong>

<dt><strong>split</strong>

<dd>
<p>Splits the string EXPR into a list of strings and returns that list.  By
default, empty leading fields are preserved, and empty trailing ones are
deleted.  (If all fields are empty, they are considered to be trailing.)</p>
</dd>
<dd>
<p>In scalar context, returns the number of fields found and splits into
the <a href="../../lib/pods/perlvar.html#__"><code>@_</code></a> array.  Use of split in scalar context is deprecated, however,
because it clobbers your subroutine arguments.</p>
</dd>
<dd>
<p>If EXPR is omitted, splits the <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> string.  If PATTERN is also omitted,
splits on whitespace (after skipping any leading whitespace).  Anything
matching PATTERN is taken to be a delimiter separating the fields.  (Note
that the delimiter may be longer than one character.)</p>
</dd>
<dd>
<p>If LIMIT is specified and positive, it represents the maximum number
of fields the EXPR will be split into, though the actual number of
fields returned depends on the number of times PATTERN matches within
EXPR.  If LIMIT is unspecified or zero, trailing null fields are
stripped (which potential users of <a href="#pop"><code>pop</code></a> would do well to remember).
If LIMIT is negative, it is treated as if an arbitrarily large LIMIT
had been specified.  Note that splitting an EXPR that evaluates to the
empty string always returns the empty list, regardless of the LIMIT
specified.</p>
</dd>
<dd>
<p>A pattern matching the null string (not to be confused with
a null pattern <code>//</code>, which is just one member of the set of patterns
matching a null string) will split the value of EXPR into separate
characters at each point it matches that way.  For example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">/ */</span><span class="operator">,</span> <span class="string">'hi there'</span><span class="operator">));</span>
</pre>
</dd>
<dd>
<p>produces the output 'h:i:t:h:e:r:e'.</p>
</dd>
<dd>
<p>As a special case for <a href="#split"><code>split</code></a>, using the empty pattern <code>//</code> specifically
matches only the null string, and is not be confused with the regular use
of <code>//</code> to mean &quot;the last successful pattern match&quot;.  So, for <a href="#split"><code>split</code></a>,
the following:</p>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">//</span><span class="operator">,</span> <span class="string">'hi there'</span><span class="operator">));</span>
</pre>
</dd>
<dd>
<p>produces the output 'h:i: :t:h:e:r:e'.</p>
</dd>
<dd>
<p>Empty leading fields are produced when there are positive-width matches at
the beginning of the string; a zero-width match at the beginning of
the string does not produce an empty field. For example:</p>
</dd>
<dd>
<pre>
   <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">/(?=\w)/</span><span class="operator">,</span> <span class="string">'hi there!'</span><span class="operator">));</span>
</pre>
</dd>
<dd>
<p>produces the output 'h:i :t:h:e:r:e!'. Empty trailing fields, on the other
hand, are produced when there is a match at the end of the string (and
when LIMIT is given and is not 0), regardless of the length of the match.
For example:</p>
</dd>
<dd>
<pre>
   <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">//</span><span class="operator">,</span>   <span class="string">'hi there!'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="operator">));</span>
   <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">/\W/</span><span class="operator">,</span> <span class="string">'hi there!'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="operator">));</span>
</pre>
</dd>
<dd>
<p>produce the output 'h:i: :t:h:e:r:e:!:' and 'hi:there:', respectively,
both with an empty trailing field.</p>
</dd>
<dd>
<p>The LIMIT parameter can be used to split a line partially</p>
</dd>
<dd>
<pre>
    <span class="operator">(</span><span class="variable">$login</span><span class="operator">,</span> <span class="variable">$passwd</span><span class="operator">,</span> <span class="variable">$remainder</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">/:/</span><span class="operator">,</span> <span class="variable">$_</span><span class="operator">,</span> <span class="number">3</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>When assigning to a list, if LIMIT is omitted, or zero, Perl supplies
a LIMIT one larger than the number of variables in the list, to avoid
unnecessary work.  For the list above LIMIT would have been 4 by
default.  In time critical applications it behooves you not to split
into more fields than you really need.</p>
</dd>
<dd>
<p>If the PATTERN contains parentheses, additional list elements are
created from each matching substring in the delimiter.</p>
</dd>
<dd>
<pre>
    <span class="keyword">split</span><span class="operator">(</span><span class="regex">/([,-])/</span><span class="operator">,</span> <span class="string">"1-10,20"</span><span class="operator">,</span> <span class="number">3</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>produces the list value</p>
</dd>
<dd>
<pre>
    (1, '-', 10, ',', 20)</pre>
</dd>
<dd>
<p>If you had the entire header of a normal Unix email message in $header,
you could split it up into fields and their values this way:</p>
</dd>
<dd>
<pre>
    <span class="variable">$header</span> <span class="operator">=~</span> <span class="regex">s/\n\s+/ /g</span><span class="operator">;</span>  <span class="comment"># fix continuation lines</span>
    <span class="variable">%hdrs</span>   <span class="operator">=</span>  <span class="operator">(</span><span class="string">UNIX_FROM</span> <span class="operator">=&gt;</span> <span class="keyword">split</span> <span class="regex">/^(\S*?):\s*/m</span><span class="operator">,</span> <span class="variable">$header</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>The pattern <code>/PATTERN/</code> may be replaced with an expression to specify
patterns that vary at runtime.  (To do runtime compilation only once,
use <code>/$variable/o</code>.)</p>
</dd>
<dd>
<p>As a special case, specifying a PATTERN of space (<code>'&nbsp;'</code>) will split on
white space just as <a href="#split"><code>split</code></a> with no arguments does.  Thus, <a&nbsp;href="#split"><code>split('&nbsp;')</code></a> can
be used to emulate <strong>awk</strong>'s default behavior, whereas <a&nbsp;href="#split"><code>split(/&nbsp;/)</code></a>
will give you as many null initial fields as there are leading spaces.
A <a href="#split"><code>split</code></a> on <a href="../../lib/pods/perlrun.html#s"><code>/\s+/</code></a> is like a <a&nbsp;href="#split"><code>split('&nbsp;')</code></a> except that any leading
whitespace produces a null first field.  A <a href="#split"><code>split</code></a> with no arguments
really does a <a&nbsp;href="#split"><code>split('&nbsp;',&nbsp;$_)</code></a> internally.</p>
</dd>
<dd>
<p>A PATTERN of <code>/^/</code> is treated as if it were <a href="../../lib/pods/perlguts.html#m"><code>/^/m</code></a>, since it isn't
much use otherwise.</p>
</dd>
<dd>
<p>Example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">PASSWD</span><span class="operator">,</span> <span class="string">'/etc/passwd'</span><span class="operator">);</span>
    <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">PASSWD</span><span class="operator">&gt;)</span> <span class="operator">{</span>
        <span class="keyword">chomp</span><span class="operator">;</span>
        <span class="operator">(</span><span class="variable">$login</span><span class="operator">,</span> <span class="variable">$passwd</span><span class="operator">,</span> <span class="variable">$uid</span><span class="operator">,</span> <span class="variable">$gid</span><span class="operator">,</span>
         <span class="variable">$gcos</span><span class="operator">,</span> <span class="variable">$home</span><span class="operator">,</span> <span class="variable">$shell</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">/:/</span><span class="operator">);</span>
        <span class="comment">#...</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>As with regular pattern matching, any capturing parentheses that are not
matched in a <a href="#split"><code>split()</code></a> will be set to <a href="#undef"><code>undef</code></a> when returned:</p>
</dd>
<dd>
<pre>
    <span class="variable">@fields</span> <span class="operator">=</span> <span class="keyword">split</span> <span class="regex">/(A)|B/</span><span class="operator">,</span> <span class="string">"1A2B3"</span><span class="operator">;</span>
    <span class="comment"># @fields is (1, 'A', 2, undef, 3)</span>
</pre>
</dd>
</li>
<dt><strong><a name="sprintf" class="item">sprintf FORMAT, LIST</a></strong>

<dd>
<p>Returns a string formatted by the usual <a href="#printf"><code>printf</code></a> conventions of the C
library function <a href="#sprintf"><code>sprintf</code></a>.  See below for more details
and see <a href="#sprintf">sprintf(3)</a> or <a href="#printf">printf(3)</a> on your system for an explanation of
the general principles.</p>
</dd>
<dd>
<p>For example:</p>
</dd>
<dd>
<pre>
        <span class="comment"># Format number with up to 8 leading zeroes</span>
        <span class="variable">$result</span> <span class="operator">=</span> <span class="keyword">sprintf</span><span class="operator">(</span><span class="string">"%08d"</span><span class="operator">,</span> <span class="variable">$number</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<pre>
        <span class="comment"># Round number to 3 digits after decimal point</span>
        <span class="variable">$rounded</span> <span class="operator">=</span> <span class="keyword">sprintf</span><span class="operator">(</span><span class="string">"%.3f"</span><span class="operator">,</span> <span class="variable">$number</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>Perl does its own <a href="#sprintf"><code>sprintf</code></a> formatting--it emulates the C
function <a href="#sprintf"><code>sprintf</code></a>, but it doesn't use it (except for floating-point
numbers, and even then only the standard modifiers are allowed).  As a
result, any non-standard extensions in your local <a href="#sprintf"><code>sprintf</code></a> are not
available from Perl.</p>
</dd>
<dd>
<p>Unlike <a href="#printf"><code>printf</code></a>, <a href="#sprintf"><code>sprintf</code></a> does not do what you probably mean when you
pass it an array as your first argument. The array is given scalar context,
and instead of using the 0th element of the array as the format, Perl will
use the count of elements in the array as the format, which is almost never
useful.</p>
</dd>
<dd>
<p>Perl's <a href="#sprintf"><code>sprintf</code></a> permits the following universally-known conversions:</p>
</dd>
<dd>
<pre>
   %%   a percent sign
   %c   a character with the given number
   %s   a string
   %d   a signed integer, in decimal
   %u   an unsigned integer, in decimal
   %o   an unsigned integer, in octal
   %x   an unsigned integer, in hexadecimal
   %e   a floating-point number, in scientific notation
   %f   a floating-point number, in fixed decimal notation
   %g   a floating-point number, in %e or %f notation</pre>
</dd>
<dd>
<p>In addition, Perl permits the following widely-supported conversions:</p>
</dd>
<dd>
<pre>
   %X   like %x, but using upper-case letters
   %E   like %e, but using an upper-case &quot;E&quot;
   %G   like %g, but with an upper-case &quot;E&quot; (if applicable)
   %b   an unsigned integer, in binary
   %B   like %b, but using an upper-case &quot;B&quot; with the # flag
   %p   a pointer (outputs the Perl value's address in hexadecimal)
   %n   special: *stores* the number of characters output so far
        into the next variable in the parameter list</pre>
</dd>
<dd>
<p>Finally, for backward (and we do mean &quot;backward&quot;) compatibility, Perl
permits these unnecessary but widely-supported conversions:</p>
</dd>
<dd>
<pre>
   %i   a synonym for %d
   %D   a synonym for %ld
   %U   a synonym for %lu
   %O   a synonym for %lo
   %F   a synonym for %f</pre>
</dd>
<dd>
<p>Note that the number of exponent digits in the scientific notation produced
by <code>%e</code>, <code>%E</code>, <code>%g</code> and <code>%G</code> for numbers with the modulus of the
exponent less than 100 is system-dependent: it may be three or less
(zero-padded as necessary).  In other words, 1.23 times ten to the
99th may be either &quot;1.23e99&quot; or &quot;1.23e099&quot;.</p>
</dd>
<dd>
<p>Between the <code>%</code> and the format letter, you may specify a number of
additional attributes controlling the interpretation of the format.
In order, these are:</p>
</dd>
<dl>
<dt><strong><a name="format_parameter_index" class="item">format parameter index</a></strong>

<dd>
<p>An explicit format parameter index, such as <code>2$</code>. By default sprintf
will format the next unused argument in the list, but this allows you
to take the arguments out of order, e.g.:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'%2$d %1$d'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">;</span>      <span class="comment"># prints "34 12"</span>
  <span class="keyword">printf</span> <span class="string">'%3$d %d %1$d'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">;</span>  <span class="comment"># prints "3 1 1"</span>
</pre>
</dd>
</li>
<dt><strong><a name="flags" class="item">flags</a></strong>

<dd>
<p>one or more of:</p>
</dd>
<dd>
<pre>
   space   prefix positive number with a space
   +       prefix positive number with a plus sign
   -       left-justify within the field
   0       use zeros, not spaces, to right-justify
   #       ensure the leading &quot;0&quot; for any octal,
           prefix non-zero hexadecimal with &quot;0x&quot; or &quot;0X&quot;,
           prefix non-zero binary with &quot;0b&quot; or &quot;0B&quot;</pre>
</dd>
<dd>
<p>For example:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;% d&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt; 12&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%+d&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;+12&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%6s&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;    12&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%-6s&gt;'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;12    &gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%06s&gt;'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;000012&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#o&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;014&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#x&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0xc&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#X&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0XC&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#b&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0b1100&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#B&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0B1100&gt;"</span>
</pre>
</dd>
<dd>
<p>When a space and a plus sign are given as the flags at once,
a plus sign is used to prefix a positive number.</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%+ d&gt;'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;+12&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;% +d&gt;'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;+12&gt;"</span>
</pre>
</dd>
<dd>
<p>When the # flag and a precision are given in the %o conversion,
the precision is incremented if it's necessary for the leading &quot;0&quot;.</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%#.5o&gt;'</span><span class="operator">,</span> <span class="number">012</span><span class="operator">;</span>      <span class="comment"># prints "&lt;00012&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#.5o&gt;'</span><span class="operator">,</span> <span class="number">012345</span><span class="operator">;</span>   <span class="comment"># prints "&lt;012345&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#.0o&gt;'</span><span class="operator">,</span> <span class="number">0</span><span class="operator">;</span>        <span class="comment"># prints "&lt;0&gt;"</span>
</pre>
</dd>
</li>
<dt><strong><a name="vector_flag" class="item">vector flag</a></strong>

<dd>
<p>This flag tells perl to interpret the supplied string as a vector of
integers, one for each character in the string. Perl applies the format to
each integer in turn, then joins the resulting strings with a separator (a
dot <code>.</code> by default). This can be useful for displaying ordinal values of
characters in arbitrary strings:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">"%vd"</span><span class="operator">,</span> <span class="string">"AB\x{100}"</span><span class="operator">;</span>           <span class="comment"># prints "65.66.256"</span>
  <span class="keyword">printf</span> <span class="string">"version is v%vd\n"</span><span class="operator">,</span> <span class="variable">$^V</span><span class="operator">;</span>     <span class="comment"># Perl's version</span>
</pre>
</dd>
<dd>
<p>Put an asterisk <code>*</code> before the <a href="../../lib/pods/perlrun.html#v"><code>v</code></a> to override the string to
use to separate the numbers:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">"address is %*vX\n"</span><span class="operator">,</span> <span class="string">":"</span><span class="operator">,</span> <span class="variable">$addr</span><span class="operator">;</span>   <span class="comment"># IPv6 address</span>
  <span class="keyword">printf</span> <span class="string">"bits are %0*v8b\n"</span><span class="operator">,</span> <span class="string">" "</span><span class="operator">,</span> <span class="variable">$bits</span><span class="operator">;</span>   <span class="comment"># random bitstring</span>
</pre>
</dd>
<dd>
<p>You can also explicitly specify the argument number to use for
the join string using e.g. <code>*2$v</code>:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'%*4$vX %*4$vX %*4$vX'</span><span class="operator">,</span> <span class="variable">@addr</span><span class="operator">[</span><span class="number">1</span><span class="operator">..</span><span class="number">3</span><span class="operator">]</span><span class="operator">,</span> <span class="string">":"</span><span class="operator">;</span>   <span class="comment"># 3 IPv6 addresses</span>
</pre>
</dd>
</li>
<dt><strong><a name="minimum_width" class="item">(minimum) width</a></strong>

<dd>
<p>Arguments are usually formatted to be only as wide as required to
display the given value. You can override the width by putting
a number here, or get the width from the next argument (with <code>*</code>)
or from a specified argument (with e.g. <code>*2$</code>):</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%s&gt;'</span><span class="operator">,</span> <span class="string">"a"</span><span class="operator">;</span>       <span class="comment"># prints "&lt;a&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%6s&gt;'</span><span class="operator">,</span> <span class="string">"a"</span><span class="operator">;</span>      <span class="comment"># prints "&lt;     a&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%*s&gt;'</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="string">"a"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;     a&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%*2$s&gt;'</span><span class="operator">,</span> <span class="string">"a"</span><span class="operator">,</span> <span class="number">6</span><span class="operator">;</span> <span class="comment"># prints "&lt;     a&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%2s&gt;'</span><span class="operator">,</span> <span class="string">"long"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;long&gt;" (does not truncate)</span>
</pre>
</dd>
<dd>
<p>If a field width obtained through <code>*</code> is negative, it has the same
effect as the <code>-</code> flag: left-justification.</p>
</dd>
</li>
<dt><strong><a name="precision_or_maximum_width" class="item">precision, or maximum width</a></strong>

<dd>
<p>You can specify a precision (for numeric conversions) or a maximum
width (for string conversions) by specifying a <code>.</code> followed by a number.
For floating point formats, with the exception of 'g' and 'G', this specifies
the number of decimal places to show (the default being 6), e.g.:</p>
</dd>
<dd>
<pre>
  <span class="comment"># these examples are subject to system-specific variation</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%f&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>    <span class="comment"># prints "&lt;1.000000&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.1f&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>  <span class="comment"># prints "&lt;1.0&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.0f&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>  <span class="comment"># prints "&lt;1&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%e&gt;'</span><span class="operator">,</span> <span class="number">10</span><span class="operator">;</span>   <span class="comment"># prints "&lt;1.000000e+01&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.1e&gt;'</span><span class="operator">,</span> <span class="number">10</span><span class="operator">;</span> <span class="comment"># prints "&lt;1.0e+01&gt;"</span>
</pre>
</dd>
<dd>
<p>For 'g' and 'G', this specifies the maximum number of digits to show,
including prior to the decimal point as well as after it, e.g.:</p>
</dd>
<dd>
<pre>
  <span class="comment"># these examples are subject to system-specific variation</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%g&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>        <span class="comment"># prints "&lt;1&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.10g&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>     <span class="comment"># prints "&lt;1&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%g&gt;'</span><span class="operator">,</span> <span class="number">100</span><span class="operator">;</span>      <span class="comment"># prints "&lt;100&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.1g&gt;'</span><span class="operator">,</span> <span class="number">100</span><span class="operator">;</span>    <span class="comment"># prints "&lt;1e+02&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.2g&gt;'</span><span class="operator">,</span> <span class="number">100.01</span><span class="operator">;</span> <span class="comment"># prints "&lt;1e+02&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.5g&gt;'</span><span class="operator">,</span> <span class="number">100.01</span><span class="operator">;</span> <span class="comment"># prints "&lt;100.01&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.4g&gt;'</span><span class="operator">,</span> <span class="number">100.01</span><span class="operator">;</span> <span class="comment"># prints "&lt;100&gt;"</span>
</pre>
</dd>
<dd>
<p>For integer conversions, specifying a precision implies that the
output of the number itself should be zero-padded to this width,
where the 0 flag is ignored:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>      <span class="comment"># prints "&lt;000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%+.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>     <span class="comment"># prints "&lt;+000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%-10.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;000001    &gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%10.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>    <span class="comment"># prints "&lt;    000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%010.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;    000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%+10.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;   +000001&gt;"</span>
</pre>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>      <span class="comment"># prints "&lt;000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>     <span class="comment"># prints "&lt;0x000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%-10.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;000001    &gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%10.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>    <span class="comment"># prints "&lt;    000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%010.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;    000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#10.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;  0x000001&gt;"</span>
</pre>
</dd>
<dd>
<p>For string conversions, specifying a precision truncates the string
to fit in the specified width:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%.5s&gt;'</span><span class="operator">,</span> <span class="string">"truncated"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;trunc&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%10.5s&gt;'</span><span class="operator">,</span> <span class="string">"truncated"</span><span class="operator">;</span> <span class="comment"># prints "&lt;     trunc&gt;"</span>
</pre>
</dd>
<dd>
<p>You can also get the precision from the next argument using <code>.*</code>:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>       <span class="comment"># prints "&lt;000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*x&gt;'</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>    <span class="comment"># prints "&lt;000001&gt;"</span>
</pre>
</dd>
<dd>
<p>If a precision obtained through <code>*</code> is negative, it has the same
effect as no precision.</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*s&gt;'</span><span class="operator">,</span>  <span class="number">7</span><span class="operator">,</span> <span class="string">"string"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;string&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*s&gt;'</span><span class="operator">,</span>  <span class="number">3</span><span class="operator">,</span> <span class="string">"string"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;str&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*s&gt;'</span><span class="operator">,</span>  <span class="number">0</span><span class="operator">,</span> <span class="string">"string"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*s&gt;'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="operator">,</span> <span class="string">"string"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;string&gt;"</span>
</pre>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*d&gt;'</span><span class="operator">,</span>  <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*d&gt;'</span><span class="operator">,</span>  <span class="number">0</span><span class="operator">,</span> <span class="number">0</span><span class="operator">;</span>   <span class="comment"># prints "&lt;&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*d&gt;'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0&gt;"</span>
</pre>
</dd>
<dd>
<p>You cannot currently get the precision from a specified number,
but it is intended that this will be possible in the future using
e.g. <code>.*2$</code>:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*2$x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">6</span><span class="operator">;</span>   <span class="comment"># INVALID, but in future will print "&lt;000001&gt;"</span>
</pre>
</dd>
</li>
<dt><strong><a name="size" class="item">size</a></strong>

<dd>
<p>For numeric conversions, you can specify the size to interpret the
number as using <code>l</code>, <a href="../../lib/pods/perlrun.html#h"><code>h</code></a>, <a href="../../lib/pods/perlrun.html#v"><code>V</code></a>, <code>q</code>, <code>L</code>, or <code>ll</code>. For integer
conversions (<code>d u o x X b i D U O</code>), numbers are usually assumed to be
whatever the default integer size is on your platform (usually 32 or 64
bits), but you can override this to use instead one of the standard C types,
as supported by the compiler used to build Perl:</p>
</dd>
<dd>
<pre>
   l           interpret integer as C type &quot;long&quot; or &quot;unsigned long&quot;
   h           interpret integer as C type &quot;short&quot; or &quot;unsigned short&quot;
   q, L or ll  interpret integer as C type &quot;long long&quot;, &quot;unsigned long long&quot;.
               or &quot;quads&quot; (typically 64-bit integers)</pre>
</dd>
<dd>
<p>The last will produce errors if Perl does not understand &quot;quads&quot; in your
installation. (This requires that either the platform natively supports quads
or Perl was specifically compiled to support quads.) You can find out
whether your Perl supports quads via <a href="../../lib/Config.html">the Config manpage</a>:</p>
</dd>
<dd>
<pre>
        <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
        <span class="operator">(</span><span class="variable">$Config</span><span class="operator">{</span><span class="string">use64bitint</span><span class="operator">}</span> <span class="keyword">eq</span> <span class="string">'define'</span> <span class="operator">||</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">longsize</span><span class="operator">}</span> <span class="operator">&gt;=</span> <span class="number">8</span><span class="operator">)</span> <span class="operator">&amp;&amp;</span>
                <span class="keyword">print</span> <span class="string">"quads\n"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>For floating point conversions (<code>e f g E F G</code>), numbers are usually assumed
to be the default floating point size on your platform (double or long double),
but you can force 'long double' with <code>q</code>, <code>L</code>, or <code>ll</code> if your
platform supports them. You can find out whether your Perl supports long
doubles via <a href="../../lib/Config.html">the Config manpage</a>:</p>
</dd>
<dd>
<pre>
        <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
        <span class="variable">$Config</span><span class="operator">{</span><span class="string">d_longdbl</span><span class="operator">}</span> <span class="keyword">eq</span> <span class="string">'define'</span> <span class="operator">&amp;&amp;</span> <span class="keyword">print</span> <span class="string">"long doubles\n"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>You can find out whether Perl considers 'long double' to be the default
floating point size to use on your platform via <a href="../../lib/Config.html">the Config manpage</a>:</p>
</dd>
<dd>
<pre>
        <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
        <span class="operator">(</span><span class="variable">$Config</span><span class="operator">{</span><span class="string">uselongdouble</span><span class="operator">}</span> <span class="keyword">eq</span> <span class="string">'define'</span><span class="operator">)</span> <span class="operator">&amp;&amp;</span>
                <span class="keyword">print</span> <span class="string">"long doubles by default\n"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>It can also be the case that long doubles and doubles are the same thing:</p>
</dd>
<dd>
<pre>
        <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
        <span class="operator">(</span><span class="variable">$Config</span><span class="operator">{</span><span class="string">doublesize</span><span class="operator">}</span> <span class="operator">==</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">longdblsize</span><span class="operator">}</span><span class="operator">)</span> <span class="operator">&amp;&amp;</span>
                <span class="keyword">print</span> <span class="string">"doubles are long doubles\n"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>The size specifier <a href="../../lib/pods/perlrun.html#v"><code>V</code></a> has no effect for Perl code, but it is supported
for compatibility with XS code; it means 'use the standard size for
a Perl integer (or floating-point number)', which is already the
default for Perl code.</p>
</dd>
</li>
<dt><strong><a name="order_of_arguments" class="item">order of arguments</a></strong>

<dd>
<p>Normally, sprintf takes the next unused argument as the value to
format for each format specification. If the format specification
uses <code>*</code> to require additional arguments, these are consumed from
the argument list in the order in which they appear in the format
specification <em>before</em> the value to format. Where an argument is
specified using an explicit index, this does not affect the normal
order for the arguments (even when the explicitly specified index
would have been the next argument in any case).</p>
</dd>
<dd>
<p>So:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%*.*s&gt;'</span><span class="operator">,</span> <span class="variable">$a</span><span class="operator">,</span> <span class="variable">$b</span><span class="operator">,</span> <span class="variable">$c</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>would use <a href="../../lib/pods/perlvar.html#_a"><code>$a</code></a> for the width, <a href="../../lib/pods/perlvar.html#_b"><code>$b</code></a> for the precision and <code>$c</code>
as the value to format, while:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">'&lt;%*1$.*s&gt;'</span><span class="operator">,</span> <span class="variable">$a</span><span class="operator">,</span> <span class="variable">$b</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>would use <a href="../../lib/pods/perlvar.html#_a"><code>$a</code></a> for the width and the precision, and <a href="../../lib/pods/perlvar.html#_b"><code>$b</code></a> as the
value to format.</p>
</dd>
<dd>
<p>Here are some more examples - beware that when using an explicit
index, the <code>$</code> may need to be escaped:</p>
</dd>
<dd>
<pre>
  <span class="keyword">printf</span> <span class="string">"%2\$d %d\n"</span><span class="operator">,</span>    <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">;</span>               <span class="comment"># will print "34 12\n"</span>
  <span class="keyword">printf</span> <span class="string">"%2\$d %d %d\n"</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">;</span>               <span class="comment"># will print "34 12 34\n"</span>
  <span class="keyword">printf</span> <span class="string">"%3\$d %d %d\n"</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">,</span> <span class="number">56</span><span class="operator">;</span>           <span class="comment"># will print "56 12 34\n"</span>
  <span class="keyword">printf</span> <span class="string">"%2\$*3\$d %d\n"</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">,</span> <span class="number">3</span><span class="operator">;</span>           <span class="comment"># will print " 34 12\n"</span>
</pre>
</dd>
</li>
</dl>
<p>If <code>use locale</code> is in effect, and POSIX::setlocale() has been called,
the character used for the decimal separator in formatted floating
point numbers is affected by the LC_NUMERIC locale.  See <a href="../../lib/pods/perllocale.html">the perllocale manpage</a>
and <a href="../../lib/POSIX.html">the POSIX manpage</a>.</p>
<dt><strong><a name="sqrt" class="item">sqrt EXPR</a></strong>

<dt><strong>sqrt</strong>

<dd>
<p>Return the square root of EXPR.  If EXPR is omitted, returns square
root of <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.  Only works on non-negative operands, unless you've
loaded the standard Math::Complex module.</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Math::Complex</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="keyword">sqrt</span><span class="operator">(-</span><span class="number">2</span><span class="operator">);</span>    <span class="comment"># prints 1.4142135623731i</span>
</pre>
</dd>
</li>
<dt><strong><a name="srand" class="item">srand EXPR</a></strong>

<dt><strong>srand</strong>

<dd>
<p>Sets the random number seed for the <a href="#rand"><code>rand</code></a> operator.</p>
</dd>
<dd>
<p>The point of the function is to &quot;seed&quot; the <a href="#rand"><code>rand</code></a> function so that
<a href="#rand"><code>rand</code></a> can produce a different sequence each time you run your
program.</p>
</dd>
<dd>
<p>If <a href="#srand"><code>srand()</code></a> is not called explicitly, it is called implicitly at the
first use of the <a href="#rand"><code>rand</code></a> operator.  However, this was not the case in
versions of Perl before 5.004, so if your script will run under older
Perl versions, it should call <a href="#srand"><code>srand</code></a>.</p>
</dd>
<dd>
<p>Most programs won't even call <a href="#srand"><code>srand()</code></a> at all, except those that
need a cryptographically-strong starting point rather than the
generally acceptable default, which is based on time of day,
process ID, and memory allocation, or the <em class="file">/dev/urandom</em> device,
if available.</p>
</dd>
<dd>
<p>You can call <a href="#srand"><code>srand($seed)</code></a> with the same $seed to reproduce the
<em>same</em> sequence from <a href="#rand"><code>rand()</code></a>, but this is usually reserved for
generating predictable results for testing or debugging.
Otherwise, don't call <a href="#srand"><code>srand()</code></a> more than once in your program.</p>
</dd>
<dd>
<p>Do <strong>not</strong> call <a href="#srand"><code>srand()</code></a> (i.e. without an argument) more than once in
a script.  The internal state of the random number generator should
contain more entropy than can be provided by any seed, so calling
<a href="#srand"><code>srand()</code></a> again actually <em>loses</em> randomness.</p>
</dd>
<dd>
<p>Most implementations of <a href="#srand"><code>srand</code></a> take an integer and will silently
truncate decimal numbers.  This means <a href="#srand"><code>srand(42)</code></a> will usually
produce the same results as <a href="#srand"><code>srand(42.1)</code></a>.  To be safe, always pass
<a href="#srand"><code>srand</code></a> an integer.</p>
</dd>
<dd>
<p>In versions of Perl prior to 5.004 the default seed was just the
current <a href="#time"><code>time</code></a>.  This isn't a particularly good seed, so many old
programs supply their own seed value (often <a href="#time"><code>time ^ $$</code></a> or <code>time ^
($$ + ($$ &lt;&lt; 15))</code>), but that isn't necessary any more.</p>
</dd>
<dd>
<p>For cryptographic purposes, however, you need something much more random 
than the default seed.  Checksumming the compressed output of one or more
rapidly changing operating system status programs is the usual method.  For
example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">srand</span> <span class="operator">(</span><span class="keyword">time</span> <span class="operator">^</span> <span class="variable">$$</span> <span class="operator">^</span> <span class="keyword">unpack</span> <span class="string">"%L*"</span><span class="operator">,</span> <span class="string">`ps axww | gzip -f`</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>If you're particularly concerned with this, see the <code>Math::TrulyRandom</code>
module in CPAN.</p>
</dd>
<dd>
<p>Frequently called programs (like CGI scripts) that simply use</p>
</dd>
<dd>
<pre>
    time ^ $$</pre>
</dd>
<dd>
<p>for a seed can fall prey to the mathematical property that</p>
</dd>
<dd>
<pre>
    a^b == (a+1)^(b+1)</pre>
</dd>
<dd>
<p>one-third of the time.  So don't do that.</p>
</dd>
</li>
<dt><strong><a name="stat" class="item">stat FILEHANDLE</a></strong>

<dt><strong>stat EXPR</strong>

<dt><strong>stat DIRHANDLE</strong>

<dt><strong>stat</strong>

<dd>
<p>Returns a 13-element list giving the status info for a file, either
the file opened via FILEHANDLE or DIRHANDLE, or named by EXPR.  If EXPR is 
omitted, it stats <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.  Returns a null list if the stat fails.  Typically
used as follows:</p>
</dd>
<dd>
<pre>
    <span class="operator">(</span><span class="variable">$dev</span><span class="operator">,</span><span class="variable">$ino</span><span class="operator">,</span><span class="variable">$mode</span><span class="operator">,</span><span class="variable">$nlink</span><span class="operator">,</span><span class="variable">$uid</span><span class="operator">,</span><span class="variable">$gid</span><span class="operator">,</span><span class="variable">$rdev</span><span class="operator">,</span><span class="variable">$size</span><span class="operator">,</span>
       <span class="variable">$atime</span><span class="operator">,</span><span class="variable">$mtime</span><span class="operator">,</span><span class="variable">$ctime</span><span class="operator">,</span><span class="variable">$blksize</span><span class="operator">,</span><span class="variable">$blocks</span><span class="operator">)</span>
           <span class="operator">=</span> <span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>Not all fields are supported on all filesystem types.  Here are the
meanings of the fields:</p>
</dd>
<dd>
<pre>
  0 dev      device number of filesystem
  1 ino      inode number
  2 mode     file mode  (type and permissions)
  3 nlink    number of (hard) links to the file
  4 uid      numeric user ID of file's owner
  5 gid      numeric group ID of file's owner
  6 rdev     the device identifier (special files only)
  7 size     total size of file, in bytes
  8 atime    last access time in seconds since the epoch
  9 mtime    last modify time in seconds since the epoch
 10 ctime    inode change time in seconds since the epoch (*)
 11 blksize  preferred block size for file system I/O
 12 blocks   actual number of blocks allocated</pre>
</dd>
<dd>
<p>(The epoch was at 00:00 January 1, 1970 GMT.)</p>
</dd>
<dd>
<p>(*) Not all fields are supported on all filesystem types. Notably, the
ctime field is non-portable.  In particular, you cannot expect it to be a
&quot;creation time&quot;, see <a href="../../lib/pods/perlport.html#files_and_filesystems">Files and Filesystems in the perlport manpage</a> for details.</p>
</dd>
<dd>
<p>If <a href="#stat"><code>stat</code></a> is passed the special filehandle consisting of an underline, no
stat is done, but the current contents of the stat structure from the
last <a href="#stat"><code>stat</code></a>, <a href="#lstat"><code>lstat</code></a>, or filetest are returned.  Example:</p>
</dd>
<dd>
<pre>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">-x</span> <span class="variable">$file</span> <span class="operator">&amp;&amp;</span> <span class="operator">((</span><span class="variable">$d</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">stat</span><span class="operator">(</span><span class="variable">_</span><span class="operator">))</span> <span class="operator">&amp;&amp;</span> <span class="variable">$d</span> <span class="operator">&lt;</span> <span class="number">0</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"</span><span class="variable">$file</span><span class="string"> is executable NFS file\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>(This works on machines only for which the device number is negative
under NFS.)</p>
</dd>
<dd>
<p>Because the mode contains both the file type and its permissions, you
should mask off the file type portion and (s)printf using a <a href="../../lib/pods/perlguts.html#o"><code>&quot;%o&quot;</code></a>
if you want to see the real permissions.</p>
</dd>
<dd>
<pre>
    <span class="variable">$mode</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">))</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span><span class="operator">;</span>
    <span class="keyword">printf</span> <span class="string">"Permissions are %04o\n"</span><span class="operator">,</span> <span class="variable">$mode</span> <span class="operator">&amp;</span> <span class="number">07777</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>In scalar context, <a href="#stat"><code>stat</code></a> returns a boolean value indicating success
or failure, and, if successful, sets the information associated with
the special filehandle <code>_</code>.</p>
</dd>
<dd>
<p>The <a href="../../lib/File/stat.html">the File::stat manpage</a> module provides a convenient, by-name access mechanism:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">File::stat</span><span class="operator">;</span>
    <span class="variable">$sb</span> <span class="operator">=</span> <span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">);</span>
    <span class="keyword">printf</span> <span class="string">"File is %s, size is %s, perm %04o, mtime %s\n"</span><span class="operator">,</span>
        <span class="variable">$filename</span><span class="operator">,</span> <span class="variable">$sb</span><span class="operator">-&gt;</span><span class="variable">size</span><span class="operator">,</span> <span class="variable">$sb</span><span class="operator">-&gt;</span><span class="variable">mode</span> <span class="operator">&amp;</span> <span class="number">07777</span><span class="operator">,</span>
        <span class="keyword">scalar</span> <span class="keyword">localtime</span> <span class="variable">$sb</span><span class="operator">-&gt;</span><span class="variable">mtime</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>You can import symbolic mode constants (<code>S_IF*</code>) and functions
(<code>S_IS*</code>) from the Fcntl module:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Fcntl</span> <span class="string">':mode'</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="variable">$mode</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">))</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="variable">$user_rwx</span>      <span class="operator">=</span> <span class="operator">(</span><span class="variable">$mode</span> <span class="operator">&amp;</span> <span class="variable">S_IRWXU</span><span class="operator">)</span> <span class="operator">&gt;&gt;</span> <span class="number">6</span><span class="operator">;</span>
    <span class="variable">$group_read</span>    <span class="operator">=</span> <span class="operator">(</span><span class="variable">$mode</span> <span class="operator">&amp;</span> <span class="variable">S_IRGRP</span><span class="operator">)</span> <span class="operator">&gt;&gt;</span> <span class="number">3</span><span class="operator">;</span>
    <span class="variable">$other_execute</span> <span class="operator">=</span>  <span class="variable">$mode</span> <span class="operator">&amp;</span> <span class="variable">S_IXOTH</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">printf</span> <span class="string">"Permissions are %04o\n"</span><span class="operator">,</span> <span class="variable">S_IMODE</span><span class="operator">(</span><span class="variable">$mode</span><span class="operator">),</span> <span class="string">"\n"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="variable">$is_setuid</span>     <span class="operator">=</span>  <span class="variable">$mode</span> <span class="operator">&amp;</span> <span class="variable">S_ISUID</span><span class="operator">;</span>
    <span class="variable">$is_directory</span>  <span class="operator">=</span>  <span class="variable">S_ISDIR</span><span class="operator">(</span><span class="variable">$mode</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>You could write the last two using the <a href="../../lib/pods/perlrun.html#u"><code>-u</code></a> and <a href="../../lib/pods/perlrun.html#d"><code>-d</code></a> operators.
The commonly available <code>S_IF*</code> constants are</p>
</dd>
<dd>
<pre>
    <span class="comment"># Permissions: read, write, execute, for user, group, others.</span>
</pre>
</dd>
<dd>
<pre>
    S_IRWXU S_IRUSR S_IWUSR S_IXUSR
    S_IRWXG S_IRGRP S_IWGRP S_IXGRP
    S_IRWXO S_IROTH S_IWOTH S_IXOTH</pre>
</dd>
<dd>
<pre>
    <span class="comment"># Setuid/Setgid/Stickiness/SaveText.</span>
    <span class="comment"># Note that the exact meaning of these is system dependent.</span>
</pre>
</dd>
<dd>
<pre>
    S_ISUID S_ISGID S_ISVTX S_ISTXT</pre>
</dd>
<dd>
<pre>
    <span class="comment"># File types.  Not necessarily all are available on your system.</span>
</pre>
</dd>
<dd>
<pre>
    S_IFREG S_IFDIR S_IFLNK S_IFBLK S_IFCHR S_IFIFO S_IFSOCK S_IFWHT S_ENFMT</pre>
</dd>
<dd>
<pre>
    <span class="comment"># The following are compatibility aliases for S_IRUSR, S_IWUSR, S_IXUSR.</span>
</pre>
</dd>
<dd>
<pre>
    S_IREAD S_IWRITE S_IEXEC</pre>
</dd>
<dd>
<p>and the <code>S_IF*</code> functions are</p>
</dd>
<dd>
<pre>
    S_IMODE($mode)      the part of $mode containing the permission bits
                        and the setuid/setgid/sticky bits</pre>
</dd>
<dd>
<pre>
    S_IFMT($mode)       the part of $mode containing the file type
                        which can be bit-anded with e.g. S_IFREG
                        or with the following functions</pre>
</dd>
<dd>
<pre>
    <span class="comment"># The operators -f, -d, -l, -b, -c, -p, and -S.</span>
</pre>
</dd>
<dd>
<pre>
    S_ISREG($mode) S_ISDIR($mode) S_ISLNK($mode)
    S_ISBLK($mode) S_ISCHR($mode) S_ISFIFO($mode) S_ISSOCK($mode)</pre>
</dd>
<dd>
<pre>
    <span class="comment"># No direct -X operator counterpart, but for the first one</span>
    <span class="comment"># the -g operator is often equivalent.  The ENFMT stands for</span>
    <span class="comment"># record flocking enforcement, a platform-dependent feature.</span>
</pre>
</dd>
<dd>
<pre>
    S_ISENFMT($mode) S_ISWHT($mode)</pre>
</dd>
<dd>
<p>See your native <a href="#chmod"><code>chmod(2)</code></a> and <a href="#stat"><code>stat(2)</code></a> documentation for more details
about the <a href="../../lib/pods/perlrun.html#s"><code>S_*</code></a> constants.  To get status info for a symbolic link
instead of the target file behind the link, use the <a href="#lstat"><code>lstat</code></a> function.</p>
</dd>
</li>
<dt><strong><a name="state" class="item">state EXPR</a></strong>

<dt><strong>state TYPE EXPR</strong>

<dt><strong><a name="state_expr_attrs" class="item">state EXPR : ATTRS</a></strong>

<dt><strong><a name="state_type_expr_attrs" class="item">state TYPE EXPR : ATTRS</a></strong>

<dd>
<p><a href="#state"><code>state</code></a> declares a lexically scoped variable, just like <a href="#my"><code>my</code></a> does.
However, those variables will never be reinitialized, contrary to
lexical variables that are reinitialized each time their enclosing block
is entered.</p>
</dd>
<dd>
<p><a href="#state"><code>state</code></a> variables are only enabled when the <code>feature 'state'</code> pragma is
in effect.  See <a href="../../lib/feature.html">the feature manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="study" class="item">study SCALAR</a></strong>

<dt><strong>study</strong>

<dd>
<p>Takes extra time to study SCALAR (<a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> if unspecified) in anticipation of
doing many pattern matches on the string before it is next modified.
This may or may not save time, depending on the nature and number of
patterns you are searching on, and on the distribution of character
frequencies in the string to be searched--you probably want to compare
run times with and without it to see which runs faster.  Those loops
that scan for many short constant strings (including the constant
parts of more complex patterns) will benefit most.  You may have only
one <a href="#study"><code>study</code></a> active at a time--if you study a different scalar the first
is &quot;unstudied&quot;.  (The way <a href="#study"><code>study</code></a> works is this: a linked list of every
character in the string to be searched is made, so we know, for
example, where all the <code>'k'</code> characters are.  From each search string,
the rarest character is selected, based on some static frequency tables
constructed from some C programs and English text.  Only those places
that contain this &quot;rarest&quot; character are examined.)</p>
</dd>
<dd>
<p>For example, here is a loop that inserts index producing entries
before any line containing a certain pattern:</p>
</dd>
<dd>
<pre>
    <span class="keyword">while</span> <span class="operator">(&lt;&gt;)</span> <span class="operator">{</span>
        <span class="keyword">study</span><span class="operator">;</span>
        <span class="keyword">print</span> <span class="string">".IX foo\n"</span>       <span class="keyword">if</span> <span class="regex">/\bfoo\b/</span><span class="operator">;</span>
        <span class="keyword">print</span> <span class="string">".IX bar\n"</span>       <span class="keyword">if</span> <span class="regex">/\bbar\b/</span><span class="operator">;</span>
        <span class="keyword">print</span> <span class="string">".IX blurfl\n"</span>    <span class="keyword">if</span> <span class="regex">/\bblurfl\b/</span><span class="operator">;</span>
        <span class="comment"># ...</span>
        <span class="keyword">print</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>In searching for <code>/\bfoo\b/</code>, only those locations in <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> that contain <a href="../../lib/pods/perlrun.html#f"><code>f</code></a>
will be looked at, because <a href="../../lib/pods/perlrun.html#f"><code>f</code></a> is rarer than <a href="../../lib/pods/perlguts.html#o"><code>o</code></a>.  In general, this is
a big win except in pathological cases.  The only question is whether
it saves you more time than it took to build the linked list in the
first place.</p>
</dd>
<dd>
<p>Note that if you have to look for strings that you don't know till
runtime, you can build an entire loop as a string and <a href="#eval"><code>eval</code></a> that to
avoid recompiling all your patterns all the time.  Together with
undefining <a href="../../lib/pods/perlvar.html#__"><code>$/</code></a> to input entire files as one record, this can be very
fast, often faster than specialized programs like <code>fgrep(1)</code>.  The following
scans a list of files (<code>@files</code>) for a list of words (<code>@words</code>), and prints
out the names of those files that contain a match:</p>
</dd>
<dd>
<pre>
    <span class="variable">$search</span> <span class="operator">=</span> <span class="string">'while (&lt;&gt;) { study;'</span><span class="operator">;</span>
    <span class="keyword">foreach</span> <span class="variable">$word</span> <span class="operator">(</span><span class="variable">@words</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">$search</span> <span class="operator">.=</span> <span class="string">"++\$seen{\$ARGV} if /\\b</span><span class="variable">$word</span><span class="string">\\b/;\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="variable">$search</span> <span class="operator">.=</span> <span class="string">"}"</span><span class="operator">;</span>
    <span class="variable">@ARGV</span> <span class="operator">=</span> <span class="variable">@files</span><span class="operator">;</span>
    <span class="keyword">undef</span> <span class="variable">$/</span><span class="operator">;</span>
    <span class="keyword">eval</span> <span class="variable">$search</span><span class="operator">;</span>               <span class="comment"># this screams</span>
    <span class="variable">$/</span> <span class="operator">=</span> <span class="string">"\n"</span><span class="operator">;</span>          <span class="comment"># put back to normal input delimiter</span>
    <span class="keyword">foreach</span> <span class="variable">$file</span> <span class="operator">(</span><span class="keyword">sort</span> <span class="keyword">keys</span><span class="operator">(</span><span class="variable">%seen</span><span class="operator">))</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="variable">$file</span><span class="operator">,</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
</li>
<dt><strong><a name="sub" class="item">sub NAME BLOCK</a></strong>

<dt><strong><a name="name" class="item">sub NAME (PROTO) BLOCK</a></strong>

<dt><strong><a name="sub_name_attrs_block" class="item">sub NAME : ATTRS BLOCK</a></strong>

<dt><strong>sub NAME (PROTO) : ATTRS BLOCK</strong>

<dd>
<p>This is subroutine definition, not a real function <em>per se</em>.
Without a BLOCK it's just a forward declaration.  Without a NAME,
it's an anonymous function declaration, and does actually return
a value: the CODE ref of the closure you just created.</p>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlsub.html">the perlsub manpage</a> and <a href="../../lib/pods/perlref.html">the perlref manpage</a> for details about subroutines and
references, and <a href="../../lib/attributes.html">the attributes manpage</a> and <a href="../../lib/Attribute/Handlers.html">the Attribute::Handlers manpage</a> for more
information about attributes.</p>
</dd>
</li>
<dt><strong><a name="substr" class="item">substr EXPR,OFFSET,LENGTH,REPLACEMENT</a></strong>

<dt><strong>substr EXPR,OFFSET,LENGTH</strong>

<dt><strong>substr EXPR,OFFSET</strong>

<dd>
<p>Extracts a substring out of EXPR and returns it.  First character is at
offset <code>0</code>, or whatever you've set <a href="../../lib/pods/perlvar.html#__"><code>$[</code></a> to (but don't do that).
If OFFSET is negative (or more precisely, less than <a href="../../lib/pods/perlvar.html#__"><code>$[</code></a>), starts
that far from the end of the string.  If LENGTH is omitted, returns
everything to the end of the string.  If LENGTH is negative, leaves that
many characters off the end of the string.</p>
</dd>
<dd>
<pre>
    <span class="keyword">my</span> <span class="variable">$s</span> <span class="operator">=</span> <span class="string">"The black cat climbed the green tree"</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$color</span>  <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="operator">;</span>       <span class="comment"># black</span>
    <span class="keyword">my</span> <span class="variable">$middle</span> <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="operator">-</span><span class="number">11</span><span class="operator">;</span>     <span class="comment"># black cat climbed the</span>
    <span class="keyword">my</span> <span class="variable">$end</span>    <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="number">14</span><span class="operator">;</span>         <span class="comment"># climbed the green tree</span>
    <span class="keyword">my</span> <span class="variable">$tail</span>   <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="operator">-</span><span class="number">4</span><span class="operator">;</span>         <span class="comment"># tree</span>
    <span class="keyword">my</span> <span class="variable">$z</span>      <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="operator">-</span><span class="number">4</span><span class="operator">,</span> <span class="number">2</span><span class="operator">;</span>      <span class="comment"># tr</span>
</pre>
</dd>
<dd>
<p>You can use the <a href="#substr"><code>substr()</code></a> function as an lvalue, in which case EXPR
must itself be an lvalue.  If you assign something shorter than LENGTH,
the string will shrink, and if you assign something longer than LENGTH,
the string will grow to accommodate it.  To keep the string the same
length you may need to pad or chop your value using <a href="#sprintf"><code>sprintf</code></a>.</p>
</dd>
<dd>
<p>If OFFSET and LENGTH specify a substring that is partly outside the
string, only the part within the string is returned.  If the substring
is beyond either end of the string, <a href="#substr"><code>substr()</code></a> returns the undefined
value and produces a warning.  When used as an lvalue, specifying a
substring that is entirely outside the string is a fatal error.
Here's an example showing the behavior for boundary cases:</p>
</dd>
<dd>
<pre>
    <span class="keyword">my</span> <span class="variable">$name</span> <span class="operator">=</span> <span class="string">'fred'</span><span class="operator">;</span>
    <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$name</span><span class="operator">,</span> <span class="number">4</span><span class="operator">)</span> <span class="operator">=</span> <span class="string">'dy'</span><span class="operator">;</span>            <span class="comment"># $name is now 'freddy'</span>
    <span class="keyword">my</span> <span class="variable">$null</span> <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$name</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="number">2</span><span class="operator">;</span>      <span class="comment"># returns '' (no warning)</span>
    <span class="keyword">my</span> <span class="variable">$oops</span> <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$name</span><span class="operator">,</span> <span class="number">7</span><span class="operator">;</span>         <span class="comment"># returns undef, with warning</span>
    <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$name</span><span class="operator">,</span> <span class="number">7</span><span class="operator">)</span> <span class="operator">=</span> <span class="string">'gap'</span><span class="operator">;</span>           <span class="comment"># fatal error</span>
</pre>
</dd>
<dd>
<p>An alternative to using <a href="#substr"><code>substr()</code></a> as an lvalue is to specify the
replacement string as the 4th argument.  This allows you to replace
parts of the EXPR and return what was there before in one operation,
just as you can with <a href="#splice"><code>splice()</code></a>.</p>
</dd>
<dd>
<pre>
    <span class="keyword">my</span> <span class="variable">$s</span> <span class="operator">=</span> <span class="string">"The black cat climbed the green tree"</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$z</span> <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="number">14</span><span class="operator">,</span> <span class="number">7</span><span class="operator">,</span> <span class="string">"jumped from"</span><span class="operator">;</span>    <span class="comment"># climbed</span>
    <span class="comment"># $s is now "The black cat jumped from the green tree"</span>
</pre>
</dd>
<dd>
<p>Note that the lvalue returned by the 3-arg version of <a href="#substr"><code>substr()</code></a> acts as
a 'magic bullet'; each time it is assigned to, it remembers which part
of the original string is being modified; for example:</p>
</dd>
<dd>
<pre>
    <span class="variable">$x</span> <span class="operator">=</span> <span class="string">'1234'</span><span class="operator">;</span>
    <span class="keyword">for</span> <span class="operator">(</span><span class="keyword">substr</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="number">1</span><span class="operator">,</span><span class="number">2</span><span class="operator">))</span> <span class="operator">{</span>
        <span class="variable">$_</span> <span class="operator">=</span> <span class="string">'a'</span><span class="operator">;</span>   <span class="keyword">print</span> <span class="variable">$x</span><span class="operator">,</span><span class="string">"\n"</span><span class="operator">;</span>      <span class="comment"># prints 1a4</span>
        <span class="variable">$_</span> <span class="operator">=</span> <span class="string">'xyz'</span><span class="operator">;</span> <span class="keyword">print</span> <span class="variable">$x</span><span class="operator">,</span><span class="string">"\n"</span><span class="operator">;</span>      <span class="comment"># prints 1xyz4</span>
        <span class="variable">$x</span> <span class="operator">=</span> <span class="string">'56789'</span><span class="operator">;</span>
        <span class="variable">$_</span> <span class="operator">=</span> <span class="string">'pq'</span><span class="operator">;</span>  <span class="keyword">print</span> <span class="variable">$x</span><span class="operator">,</span><span class="string">"\n"</span><span class="operator">;</span>      <span class="comment"># prints 5pq9</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Prior to Perl version 5.9.1, the result of using an lvalue multiple times was
unspecified.</p>
</dd>
</li>
<dt><strong><a name="symlink" class="item">symlink OLDFILE,NEWFILE</a></strong>

<dd>
<p>Creates a new filename symbolically linked to the old filename.
Returns <code>1</code> for success, <code>0</code> otherwise.  On systems that don't support
symbolic links, produces a fatal error at run time.  To check for that,
use eval:</p>
</dd>
<dd>
<pre>
    <span class="variable">$symlink_exists</span> <span class="operator">=</span> <span class="keyword">eval</span> <span class="operator">{</span> <span class="keyword">symlink</span><span class="operator">(</span><span class="string">""</span><span class="operator">,</span><span class="string">""</span><span class="operator">);</span> <span class="number">1</span> <span class="operator">};</span>
</pre>
</dd>
</li>
<dt><strong><a name="syscall" class="item">syscall NUMBER, LIST</a></strong>

<dd>
<p>Calls the system call specified as the first element of the list,
passing the remaining elements as arguments to the system call.  If
unimplemented, produces a fatal error.  The arguments are interpreted
as follows: if a given argument is numeric, the argument is passed as
an int.  If not, the pointer to the string value is passed.  You are
responsible to make sure a string is pre-extended long enough to
receive any result that might be written into a string.  You can't use a
string literal (or other read-only string) as an argument to <a href="#syscall"><code>syscall</code></a>
because Perl has to assume that any string pointer might be written
through.  If your
integer arguments are not literals and have never been interpreted in a
numeric context, you may need to add <code>0</code> to them to force them to look
like numbers.  This emulates the <a href="#syswrite"><code>syswrite</code></a> function (or vice versa):</p>
</dd>
<dd>
<pre>
    <span class="keyword">require</span> <span class="string">'syscall.ph'</span><span class="operator">;</span>               <span class="comment"># may need to run h2ph</span>
    <span class="variable">$s</span> <span class="operator">=</span> <span class="string">"hi there\n"</span><span class="operator">;</span>
    <span class="keyword">syscall</span><span class="operator">(&amp;</span><span class="variable">SYS_write</span><span class="operator">,</span> <span class="keyword">fileno</span><span class="operator">(</span><span class="variable">STDOUT</span><span class="operator">),</span> <span class="variable">$s</span><span class="operator">,</span> <span class="keyword">length</span> <span class="variable">$s</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>Note that Perl supports passing of up to only 14 arguments to your system call,
which in practice should usually suffice.</p>
</dd>
<dd>
<p>Syscall returns whatever value returned by the system call it calls.
If the system call fails, <a href="#syscall"><code>syscall</code></a> returns <code>-1</code> and sets <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> (errno).
Note that some system calls can legitimately return <code>-1</code>.  The proper
way to handle such calls is to assign <code>$!=0;</code> before the call and
check the value of <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> if syscall returns <code>-1</code>.</p>
</dd>
<dd>
<p>There's a problem with <a href="#syscall"><code>syscall(&amp;SYS_pipe)</code></a>: it returns the file
number of the read end of the pipe it creates.  There is no way
to retrieve the file number of the other end.  You can avoid this
problem by using <a href="#pipe"><code>pipe</code></a> instead.</p>
</dd>
</li>
<dt><strong><a name="sysopen" class="item">sysopen FILEHANDLE,FILENAME,MODE</a></strong>

<dt><strong>sysopen FILEHANDLE,FILENAME,MODE,PERMS</strong>

<dd>
<p>Opens the file whose filename is given by FILENAME, and associates it
with FILEHANDLE.  If FILEHANDLE is an expression, its value is used as
the name of the real filehandle wanted.  This function calls the
underlying operating system's <a href="#open"><code>open</code></a> function with the parameters
FILENAME, MODE, PERMS.</p>
</dd>
<dd>
<p>The possible values and flag bits of the MODE parameter are
system-dependent; they are available via the standard module <code>Fcntl</code>.
See the documentation of your operating system's <a href="#open"><code>open</code></a> to see which
values and flag bits are available.  You may combine several flags
using the <code>|</code>-operator.</p>
</dd>
<dd>
<p>Some of the most common values are <code>O_RDONLY</code> for opening the file in
read-only mode, <code>O_WRONLY</code> for opening the file in write-only mode,
and <code>O_RDWR</code> for opening the file in read-write mode.</p>
</dd>
<dd>
<p>For historical reasons, some values work on almost every system
supported by perl: zero means read-only, one means write-only, and two
means read/write.  We know that these values do <em>not</em> work under
OS/390 &amp; VM/ESA Unix and on the Macintosh; you probably don't want to
use them in new code.</p>
</dd>
<dd>
<p>If the file named by FILENAME does not exist and the <a href="#open"><code>open</code></a> call creates
it (typically because MODE includes the <code>O_CREAT</code> flag), then the value of
PERMS specifies the permissions of the newly created file.  If you omit
the PERMS argument to <a href="#sysopen"><code>sysopen</code></a>, Perl uses the octal value <code>0666</code>.
These permission values need to be in octal, and are modified by your
process's current <a href="#umask"><code>umask</code></a>.</p>
</dd>
<dd>
<p>In many systems the <code>O_EXCL</code> flag is available for opening files in
exclusive mode.  This is <strong>not</strong> locking: exclusiveness means here that
if the file already exists, <a href="#sysopen"><code>sysopen()</code></a> fails.  <code>O_EXCL</code> may not work
on network filesystems, and has no effect unless the <code>O_CREAT</code> flag
is set as well.  Setting <code>O_CREAT|O_EXCL</code> prevents the file from
being opened if it is a symbolic link.  It does not protect against
symbolic links in the file's path.</p>
</dd>
<dd>
<p>Sometimes you may want to truncate an already-existing file.  This
can be done using the <code>O_TRUNC</code> flag.  The behavior of
<code>O_TRUNC</code> with <code>O_RDONLY</code> is undefined.</p>
</dd>
<dd>
<p>You should seldom if ever use <code>0644</code> as argument to <a href="#sysopen"><code>sysopen</code></a>, because
that takes away the user's option to have a more permissive umask.
Better to omit it.  See the <code>perlfunc(1)</code> entry on <a href="#umask"><code>umask</code></a> for more
on this.</p>
</dd>
<dd>
<p>Note that <a href="#sysopen"><code>sysopen</code></a> depends on the <code>fdopen()</code> C library function.
On many UNIX systems, <code>fdopen()</code> is known to fail when file descriptors
exceed a certain value, typically 255. If you need more file
descriptors than that, consider rebuilding Perl to use the <code>sfio</code>
library, or perhaps using the POSIX::open() function.</p>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlopentut.html">the perlopentut manpage</a> for a kinder, gentler explanation of opening files.</p>
</dd>
</li>
<dt><strong><a name="sysread" class="item">sysread FILEHANDLE,SCALAR,LENGTH,OFFSET</a></strong>

<dt><strong>sysread FILEHANDLE,SCALAR,LENGTH</strong>

<dd>
<p>Attempts to read LENGTH bytes of data into variable SCALAR from the
specified FILEHANDLE, using the system call <a href="#read"><code>read(2)</code></a>.  It bypasses
buffered IO, so mixing this with other kinds of reads, <a href="#print"><code>print</code></a>,
<a href="#write"><code>write</code></a>, <a href="#seek"><code>seek</code></a>, <a href="#tell"><code>tell</code></a>, or <a href="#eof"><code>eof</code></a> can cause confusion because the
perlio or stdio layers usually buffers data.  Returns the number of
bytes actually read, <code>0</code> at end of file, or undef if there was an
error (in the latter case <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> is also set).  SCALAR will be grown or
shrunk so that the last byte actually read is the last byte of the
scalar after the read.</p>
</dd>
<dd>
<p>An OFFSET may be specified to place the read data at some place in the
string other than the beginning.  A negative OFFSET specifies
placement at that many characters counting backwards from the end of
the string.  A positive OFFSET greater than the length of SCALAR
results in the string being padded to the required size with <code>&quot;\0&quot;</code>
bytes before the result of the read is appended.</p>
</dd>
<dd>
<p>There is no <code>syseof()</code> function, which is ok, since <a href="#eof"><code>eof()</code></a> doesn't work
very well on device files (like ttys) anyway.  Use <a href="#sysread"><code>sysread()</code></a> and check
for a return value for 0 to decide whether you're done.</p>
</dd>
<dd>
<p>Note that if the filehandle has been marked as <a href="../../lib/pods/perlrun.html#utf8"><code>:utf8</code></a> Unicode
characters are read instead of bytes (the LENGTH, OFFSET, and the
return value of <a href="#sysread"><code>sysread()</code></a> are in Unicode characters).
The <code>:encoding(...)</code> layer implicitly introduces the <a href="../../lib/pods/perlrun.html#utf8"><code>:utf8</code></a> layer.
See <a href="#binmode">binmode</a>, <a href="#open">open</a>, and the <a href="#open"><code>open</code></a> pragma, <a href="../../lib/open.html">the open manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="sysseek" class="item">sysseek FILEHANDLE,POSITION,WHENCE</a></strong>

<dd>
<p>Sets FILEHANDLE's system position in bytes using the system call
<code>lseek(2)</code>.  FILEHANDLE may be an expression whose value gives the name
of the filehandle.  The values for WHENCE are <code>0</code> to set the new
position to POSITION, <code>1</code> to set the it to the current position plus
POSITION, and <code>2</code> to set it to EOF plus POSITION (typically
negative).</p>
</dd>
<dd>
<p>Note the <em>in bytes</em>: even if the filehandle has been set to operate
on characters (for example by using the <code>:encoding(utf8)</code> I/O layer),
<a href="#tell"><code>tell()</code></a> will return byte offsets, not character offsets (because
implementing that would render <a href="#sysseek"><code>sysseek()</code></a> very slow).</p>
</dd>
<dd>
<p><a href="#sysseek"><code>sysseek()</code></a> bypasses normal buffered IO, so mixing this with reads (other
than <a href="#sysread"><code>sysread</code></a>, for example <code>&lt;&gt;</code> or read()) <a href="#print"><code>print</code></a>, <a href="#write"><code>write</code></a>,
<a href="#seek"><code>seek</code></a>, <a href="#tell"><code>tell</code></a>, or <a href="#eof"><code>eof</code></a> may cause confusion.</p>
</dd>
<dd>
<p>For WHENCE, you may also use the constants <code>SEEK_SET</code>, <code>SEEK_CUR</code>,
and <code>SEEK_END</code> (start of the file, current position, end of the file)
from the Fcntl module.  Use of the constants is also more portable
than relying on 0, 1, and 2.  For example to define a &quot;systell&quot; function:</p>
</dd>
<dd>
<pre>
        <span class="keyword">use</span> <span class="variable">Fcntl</span> <span class="string">'SEEK_CUR'</span><span class="operator">;</span>
        <span class="keyword">sub</span><span class="variable"> systell </span><span class="operator">{</span> <span class="keyword">sysseek</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="variable">SEEK_CUR</span><span class="operator">)</span> <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Returns the new position, or the undefined value on failure.  A position
of zero is returned as the string <code>&quot;0 but true&quot;</code>; thus <a href="#sysseek"><code>sysseek</code></a> returns
true on success and false on failure, yet you can still easily determine
the new position.</p>
</dd>
</li>
<dt><strong><a name="system" class="item">system LIST</a></strong>

<dt><strong>system PROGRAM LIST</strong>

<dd>
<p>Does exactly the same thing as <a href="#exec"><code>exec LIST</code></a>, except that a fork is
done first, and the parent process waits for the child process to
complete.  Note that argument processing varies depending on the
number of arguments.  If there is more than one argument in LIST,
or if LIST is an array with more than one value, starts the program
given by the first element of the list with arguments given by the
rest of the list.  If there is only one scalar argument, the argument
is checked for shell metacharacters, and if there are any, the
entire argument is passed to the system's command shell for parsing
(this is <code>/bin/sh -c</code> on Unix platforms, but varies on other
platforms).  If there are no shell metacharacters in the argument,
it is split into words and passed directly to <code>execvp</code>, which is
more efficient.</p>
</dd>
<dd>
<p>Beginning with v5.6.0, Perl will attempt to flush all files opened for
output before any operation that may do a fork, but this may not be
supported on some platforms (see <a href="../../lib/pods/perlport.html">the perlport manpage</a>).  To be safe, you may need
to set <a href="../../lib/pods/perlvar.html#__"><code>$|</code></a> ($AUTOFLUSH in English) or call the <a href="../../lib/pods/perlvar.html#autoflush"><code>autoflush()</code></a> method
of <code>IO::Handle</code> on any open handles.</p>
</dd>
<dd>
<p>The return value is the exit status of the program as returned by the
<a href="#wait"><code>wait</code></a> call.  To get the actual exit value, shift right by eight (see
below). See also <a href="#exec">exec</a>.  This is <em>not</em> what you want to use to capture
the output from a command, for that you should use merely backticks or
<a href="#qx_"><code>qx//</code></a>, as described in <a href="../../lib/pods/perlop.html#_string_">`STRING` in the perlop manpage</a>.  Return value of -1
indicates a failure to start the program or an error of the <a href="#wait"><code>wait(2)</code></a> system
call (inspect $! for the reason).</p>
</dd>
<dd>
<p>Like <a href="#exec"><code>exec</code></a>, <a href="#system"><code>system</code></a> allows you to lie to a program about its name if
you use the <a href="#system"><code>system PROGRAM LIST</code></a> syntax.  Again, see <a href="#exec">exec</a>.</p>
</dd>
<dd>
<p>Since <code>SIGINT</code> and <code>SIGQUIT</code> are ignored during the execution of
<a href="#system"><code>system</code></a>, if you expect your program to terminate on receipt of these
signals you will need to arrange to do so yourself based on the return
value.</p>
</dd>
<dd>
<pre>
    <span class="variable">@args</span> <span class="operator">=</span> <span class="operator">(</span><span class="string">"command"</span><span class="operator">,</span> <span class="string">"arg1"</span><span class="operator">,</span> <span class="string">"arg2"</span><span class="operator">);</span>
    <span class="keyword">system</span><span class="operator">(</span><span class="variable">@args</span><span class="operator">)</span> <span class="operator">==</span> <span class="number">0</span>
         <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"system </span><span class="variable">@args</span><span class="string"> failed: $?"</span>
</pre>
</dd>
<dd>
<p>You can check all the failure possibilities by inspecting
<a href="../../lib/pods/perlvar.html#_"><code>$?</code></a> like this:</p>
</dd>
<dd>
<pre>
    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$?</span> <span class="operator">==</span> <span class="operator">-</span><span class="number">1</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"failed to execute: $!\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">elsif</span> <span class="operator">(</span><span class="variable">$?</span> <span class="operator">&amp;</span> <span class="number">127</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">printf</span> <span class="string">"child died with signal %d, %s coredump\n"</span><span class="operator">,</span>
            <span class="operator">(</span><span class="variable">$?</span> <span class="operator">&amp;</span> <span class="number">127</span><span class="operator">),</span>  <span class="operator">(</span><span class="variable">$?</span> <span class="operator">&amp;</span> <span class="number">128</span><span class="operator">)</span> <span class="operator">?</span> <span class="string">'with'</span> <span class="operator">:</span> <span class="string">'without'</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">else</span> <span class="operator">{</span>
        <span class="keyword">printf</span> <span class="string">"child exited with value %d\n"</span><span class="operator">,</span> <span class="variable">$?</span> <span class="operator">&gt;&gt;</span> <span class="number">8</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>Alternatively you might inspect the value of <a href="../../lib/pods/perlvar.html#___child_error_native_"><code>${^CHILD_ERROR_NATIVE}</code></a>
with the W*() calls of the POSIX extension.</p>
</dd>
<dd>
<p>When the arguments get executed via the system shell, results
and return codes will be subject to its quirks and capabilities.
See <a href="../../lib/pods/perlop.html#_string_">`STRING` in the perlop manpage</a> and <a href="#exec">exec</a> for details.</p>
</dd>
</li>
<dt><strong><a name="syswrite" class="item">syswrite FILEHANDLE,SCALAR,LENGTH,OFFSET</a></strong>

<dt><strong>syswrite FILEHANDLE,SCALAR,LENGTH</strong>

<dt><strong>syswrite FILEHANDLE,SCALAR</strong>

<dd>
<p>Attempts to write LENGTH bytes of data from variable SCALAR to the
specified FILEHANDLE, using the system call <a href="#write"><code>write(2)</code></a>.  If LENGTH is
not specified, writes whole SCALAR.  It bypasses buffered IO, so
mixing this with reads (other than <a href="#sysread"><code>sysread())</code></a>, <a href="#print"><code>print</code></a>, <a href="#write"><code>write</code></a>,
<a href="#seek"><code>seek</code></a>, <a href="#tell"><code>tell</code></a>, or <a href="#eof"><code>eof</code></a> may cause confusion because the perlio and
stdio layers usually buffers data.  Returns the number of bytes
actually written, or <a href="#undef"><code>undef</code></a> if there was an error (in this case the
errno variable <a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> is also set).  If the LENGTH is greater than the
available data in the SCALAR after the OFFSET, only as much data as is
available will be written.</p>
</dd>
<dd>
<p>An OFFSET may be specified to write the data from some part of the
string other than the beginning.  A negative OFFSET specifies writing
that many characters counting backwards from the end of the string.
In the case the SCALAR is empty you can use OFFSET but only zero offset.</p>
</dd>
<dd>
<p>Note that if the filehandle has been marked as <a href="../../lib/pods/perlrun.html#utf8"><code>:utf8</code></a>, Unicode
characters are written instead of bytes (the LENGTH, OFFSET, and the
return value of <a href="#syswrite"><code>syswrite()</code></a> are in UTF-8 encoded Unicode characters).
The <code>:encoding(...)</code> layer implicitly introduces the <a href="../../lib/pods/perlrun.html#utf8"><code>:utf8</code></a> layer.
See <a href="#binmode">binmode</a>, <a href="#open">open</a>, and the <a href="#open"><code>open</code></a> pragma, <a href="../../lib/open.html">the open manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="tell" class="item">tell FILEHANDLE</a></strong>

<dt><strong>tell</strong>

<dd>
<p>Returns the current position <em>in bytes</em> for FILEHANDLE, or -1 on
error.  FILEHANDLE may be an expression whose value gives the name of
the actual filehandle.  If FILEHANDLE is omitted, assumes the file
last read.</p>
</dd>
<dd>
<p>Note the <em>in bytes</em>: even if the filehandle has been set to
operate on characters (for example by using the <code>:encoding(utf8)</code> open
layer), <a href="#tell"><code>tell()</code></a> will return byte offsets, not character offsets (because
that would render <a href="#seek"><code>seek()</code></a> and <a href="#tell"><code>tell()</code></a> rather slow).</p>
</dd>
<dd>
<p>The return value of <a href="#tell"><code>tell()</code></a> for the standard streams like the STDIN
depends on the operating system: it may return -1 or something else.
<a href="#tell"><code>tell()</code></a> on pipes, fifos, and sockets usually returns -1.</p>
</dd>
<dd>
<p>There is no <code>systell</code> function.  Use <a href="#sysseek"><code>sysseek(FH, 0, 1)</code></a> for that.</p>
</dd>
<dd>
<p>Do not use <a href="#tell"><code>tell()</code></a> (or other buffered I/O operations) on a file handle
that has been manipulated by <a href="#sysread"><code>sysread()</code></a>, <a href="#syswrite"><code>syswrite()</code></a> or <a href="#sysseek"><code>sysseek()</code></a>.
Those functions ignore the buffering, while <a href="#tell"><code>tell()</code></a> does not.</p>
</dd>
</li>
<dt><strong><a name="telldir" class="item">telldir DIRHANDLE</a></strong>

<dd>
<p>Returns the current position of the <a href="#readdir"><code>readdir</code></a> routines on DIRHANDLE.
Value may be given to <a href="#seekdir"><code>seekdir</code></a> to access a particular location in a
directory.  <a href="#telldir"><code>telldir</code></a> has the same caveats about possible directory
compaction as the corresponding system library routine.</p>
</dd>
</li>
<dt><strong><a name="tie" class="item">tie VARIABLE,CLASSNAME,LIST</a></strong>

<dd>
<p>This function binds a variable to a package class that will provide the
implementation for the variable.  VARIABLE is the name of the variable
to be enchanted.  CLASSNAME is the name of a class implementing objects
of correct type.  Any additional arguments are passed to the <code>new</code>
method of the class (meaning <code>TIESCALAR</code>, <code>TIEHANDLE</code>, <code>TIEARRAY</code>,
or <code>TIEHASH</code>).  Typically these are arguments such as might be passed
to the <code>dbm_open()</code> function of C.  The object returned by the <code>new</code>
method is also returned by the <a href="#tie"><code>tie</code></a> function, which would be useful
if you want to access other methods in CLASSNAME.</p>
</dd>
<dd>
<p>Note that functions such as <a href="#keys"><code>keys</code></a> and <a href="#values"><code>values</code></a> may return huge lists
when used on large objects, like DBM files.  You may prefer to use the
<a href="#each"><code>each</code></a> function to iterate over such.  Example:</p>
</dd>
<dd>
<pre>
    <span class="comment"># print out history file offsets</span>
    <span class="keyword">use</span> <span class="variable">NDBM_File</span><span class="operator">;</span>
    <span class="keyword">tie</span><span class="operator">(</span><span class="variable">%HIST</span><span class="operator">,</span> <span class="string">'NDBM_File'</span><span class="operator">,</span> <span class="string">'/usr/lib/news/history'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>
    <span class="keyword">while</span> <span class="operator">((</span><span class="variable">$key</span><span class="operator">,</span><span class="variable">$val</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">each</span> <span class="variable">%HIST</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="variable">$key</span><span class="operator">,</span> <span class="string">' = '</span><span class="operator">,</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">'L'</span><span class="operator">,</span><span class="variable">$val</span><span class="operator">),</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">untie</span><span class="operator">(</span><span class="variable">%HIST</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>A class implementing a hash should have the following methods:</p>
</dd>
<dd>
<pre>
    TIEHASH classname, LIST
    FETCH this, key
    STORE this, key, value
    DELETE this, key
    CLEAR this
    EXISTS this, key
    FIRSTKEY this
    NEXTKEY this, lastkey
    SCALAR this
    DESTROY this
    UNTIE this</pre>
</dd>
<dd>
<p>A class implementing an ordinary array should have the following methods:</p>
</dd>
<dd>
<pre>
    TIEARRAY classname, LIST
    FETCH this, key
    STORE this, key, value
    FETCHSIZE this
    STORESIZE this, count
    CLEAR this
    PUSH this, LIST
    POP this
    SHIFT this
    UNSHIFT this, LIST
    SPLICE this, offset, length, LIST
    EXTEND this, count
    DESTROY this
    UNTIE this</pre>
</dd>
<dd>
<p>A class implementing a file handle should have the following methods:</p>
</dd>
<dd>
<pre>
    TIEHANDLE classname, LIST
    READ this, scalar, length, offset
    READLINE this
    GETC this
    WRITE this, scalar, length, offset
    PRINT this, LIST
    PRINTF this, format, LIST
    BINMODE this
    EOF this
    FILENO this
    SEEK this, position, whence
    TELL this
    OPEN this, mode, LIST
    CLOSE this
    DESTROY this
    UNTIE this</pre>
</dd>
<dd>
<p>A class implementing a scalar should have the following methods:</p>
</dd>
<dd>
<pre>
    TIESCALAR classname, LIST
    FETCH this,
    STORE this, value
    DESTROY this
    UNTIE this</pre>
</dd>
<dd>
<p>Not all methods indicated above need be implemented.  See <a href="../../lib/pods/perltie.html">the perltie manpage</a>,
<a href="../../lib/Tie/Hash.html">the Tie::Hash manpage</a>, <a href="../../lib/Tie/Array.html">the Tie::Array manpage</a>, <a href="../../lib/Tie/Scalar.html">the Tie::Scalar manpage</a>, and <a href="../../lib/Tie/Handle.html">the Tie::Handle manpage</a>.</p>
</dd>
<dd>
<p>Unlike <a href="#dbmopen"><code>dbmopen</code></a>, the <a href="#tie"><code>tie</code></a> function will not use or require a module
for you--you need to do that explicitly yourself.  See <em>DB_File</em>
or the <em class="file">Config</em> module for interesting <a href="#tie"><code>tie</code></a> implementations.</p>
</dd>
<dd>
<p>For further details see <a href="../../lib/pods/perltie.html">the perltie manpage</a>, <a href="#tied">tied VARIABLE</a>.</p>
</dd>
</li>
<dt><strong><a name="tied" class="item">tied VARIABLE</a></strong>

<dd>
<p>Returns a reference to the object underlying VARIABLE (the same value
that was originally returned by the <a href="#tie"><code>tie</code></a> call that bound the variable
to a package.)  Returns the undefined value if VARIABLE isn't tied to a
package.</p>
</dd>
</li>
<dt><strong><a name="time" class="item">time</a></strong>

<dd>
<p>Returns the number of non-leap seconds since whatever time the system
considers to be the epoch, suitable for feeding to <a href="#gmtime"><code>gmtime</code></a> and
<a href="#localtime"><code>localtime</code></a>. On most systems the epoch is 00:00:00 UTC, January 1, 1970;
a prominent exception being Mac OS Classic which uses 00:00:00, January 1,
1904 in the current local time zone for its epoch.</p>
</dd>
<dd>
<p>For measuring time in better granularity than one second,
you may use either the <a href="../../lib/Time/HiRes.html">the Time::HiRes manpage</a> module (from CPAN, and starting from
Perl 5.8 part of the standard distribution), or if you have
<code>gettimeofday(2)</code>, you may be able to use the <a href="#syscall"><code>syscall</code></a> interface of Perl.
See <a href="../../lib/pods/perlfaq8.html">the perlfaq8 manpage</a> for details.</p>
</dd>
<dd>
<p>For date and time processing look at the many related modules on CPAN.
For a comprehensive date and time representation look at the
<a href="../../lib/ActiveState/DateTime.html">the DateTime manpage</a> module.</p>
</dd>
</li>
<dt><strong><a name="times" class="item">times</a></strong>

<dd>
<p>Returns a four-element list giving the user and system times, in
seconds, for this process and the children of this process.</p>
</dd>
<dd>
<pre>
    <span class="operator">(</span><span class="variable">$user</span><span class="operator">,</span><span class="variable">$system</span><span class="operator">,</span><span class="variable">$cuser</span><span class="operator">,</span><span class="variable">$csystem</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">times</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>In scalar context, <a href="#times"><code>times</code></a> returns <code>$user</code>.</p>
</dd>
<dd>
<p>Note that times for children are included only after they terminate.</p>
</dd>
</li>
<dt><strong><a name="tr_" class="item">tr///</a></strong>

<dd>
<p>The transliteration operator.  Same as <a href="#y_"><code>y///</code></a>.  See <a href="../../lib/pods/perlop.html">the perlop manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="truncate" class="item">truncate FILEHANDLE,LENGTH</a></strong>

<dt><strong>truncate EXPR,LENGTH</strong>

<dd>
<p>Truncates the file opened on FILEHANDLE, or named by EXPR, to the
specified length.  Produces a fatal error if truncate isn't implemented
on your system.  Returns true if successful, the undefined value
otherwise.</p>
</dd>
<dd>
<p>The behavior is undefined if LENGTH is greater than the length of the
file.</p>
</dd>
<dd>
<p>The position in the file of FILEHANDLE is left unchanged.  You may want to
call <a href="#seek">seek</a> before writing to the file.</p>
</dd>
</li>
<dt><strong><a name="uc" class="item">uc EXPR</a></strong>

<dt><strong>uc</strong>

<dd>
<p>Returns an uppercased version of EXPR.  This is the internal function
implementing the <a href="../../lib/pods/perlrun.html#u"><code>\U</code></a> escape in double-quoted strings.  Respects
current LC_CTYPE locale if <code>use locale</code> in force.  See <a href="../../lib/pods/perllocale.html">the perllocale manpage</a>
and <a href="../../lib/pods/perlunicode.html">the perlunicode manpage</a> for more details about locale and Unicode support.
It does not attempt to do titlecase mapping on initial letters.  See
<a href="#ucfirst"><code>ucfirst</code></a> for that.</p>
</dd>
<dd>
<p>If EXPR is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
</li>
<dt><strong><a name="ucfirst" class="item">ucfirst EXPR</a></strong>

<dt><strong>ucfirst</strong>

<dd>
<p>Returns the value of EXPR with the first character in uppercase
(titlecase in Unicode).  This is the internal function implementing
the <a href="../../lib/pods/perlrun.html#u"><code>\u</code></a> escape in double-quoted strings.  Respects current LC_CTYPE
locale if <code>use locale</code> in force.  See <a href="../../lib/pods/perllocale.html">the perllocale manpage</a> and <a href="../../lib/pods/perlunicode.html">the perlunicode manpage</a>
for more details about locale and Unicode support.</p>
</dd>
<dd>
<p>If EXPR is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
</li>
<dt><strong><a name="umask" class="item">umask EXPR</a></strong>

<dt><strong>umask</strong>

<dd>
<p>Sets the umask for the process to EXPR and returns the previous value.
If EXPR is omitted, merely returns the current umask.</p>
</dd>
<dd>
<p>The Unix permission <code>rwxr-x---</code> is represented as three sets of three
bits, or three octal digits: <code>0750</code> (the leading 0 indicates octal
and isn't one of the digits).  The <a href="#umask"><code>umask</code></a> value is such a number
representing disabled permissions bits.  The permission (or &quot;mode&quot;)
values you pass <a href="#mkdir"><code>mkdir</code></a> or <a href="#sysopen"><code>sysopen</code></a> are modified by your umask, so
even if you tell <a href="#sysopen"><code>sysopen</code></a> to create a file with permissions <code>0777</code>,
if your umask is <code>0022</code> then the file will actually be created with
permissions <code>0755</code>.  If your <a href="#umask"><code>umask</code></a> were <code>0027</code> (group can't
write; others can't read, write, or execute), then passing
<a href="#sysopen"><code>sysopen</code></a> <code>0666</code> would create a file with mode <code>0640</code> (<code>0666 &amp;~
027</code> is <code>0640</code>).</p>
</dd>
<dd>
<p>Here's some advice: supply a creation mode of <code>0666</code> for regular
files (in <a href="#sysopen"><code>sysopen</code></a>) and one of <code>0777</code> for directories (in
<a href="#mkdir"><code>mkdir</code></a>) and executable files.  This gives users the freedom of
choice: if they want protected files, they might choose process umasks
of <code>022</code>, <code>027</code>, or even the particularly antisocial mask of <code>077</code>.
Programs should rarely if ever make policy decisions better left to
the user.  The exception to this is when writing files that should be
kept private: mail files, web browser cookies, <em>.rhosts</em> files, and
so on.</p>
</dd>
<dd>
<p>If <a href="#umask"><code>umask(2)</code></a> is not implemented on your system and you are trying to
restrict access for <em>yourself</em> (i.e., (EXPR &amp; 0700) &gt; 0), produces a
fatal error at run time.  If <a href="#umask"><code>umask(2)</code></a> is not implemented and you are
not trying to restrict access for yourself, returns <a href="#undef"><code>undef</code></a>.</p>
</dd>
<dd>
<p>Remember that a umask is a number, usually given in octal; it is <em>not</em> a
string of octal digits.  See also <a href="#oct">oct</a>, if all you have is a string.</p>
</dd>
</li>
<dt><strong><a name="undef" class="item">undef EXPR</a></strong>

<dt><strong>undef</strong>

<dd>
<p>Undefines the value of EXPR, which must be an lvalue.  Use only on a
scalar value, an array (using <code>@</code>), a hash (using <code>%</code>), a subroutine
(using <code>&amp;</code>), or a typeglob (using <code>*</code>).  (Saying <code>undef $hash{$key}</code>
will probably not do what you expect on most predefined variables or
DBM list values, so don't do that; see <a href="#delete">delete</a>.)  Always returns the
undefined value.  You can omit the EXPR, in which case nothing is
undefined, but you still get an undefined value that you could, for
instance, return from a subroutine, assign to a variable or pass as a
parameter.  Examples:</p>
</dd>
<dd>
<pre>
    <span class="keyword">undef</span> <span class="variable">$foo</span><span class="operator">;</span>
    <span class="keyword">undef</span> <span class="variable">$bar</span><span class="operator">{</span><span class="string">'blurfl'</span><span class="operator">}</span><span class="operator">;</span>      <span class="comment"># Compare to: delete $bar{'blurfl'};</span>
    <span class="keyword">undef</span> <span class="variable">@ary</span><span class="operator">;</span>
    <span class="keyword">undef</span> <span class="variable">%hash</span><span class="operator">;</span>
    <span class="keyword">undef</span> <span class="operator">&amp;</span><span class="variable">mysub</span><span class="operator">;</span>
    <span class="keyword">undef</span> <span class="variable">*xyz</span><span class="operator">;</span>       <span class="comment"># destroys $xyz, @xyz, %xyz, &amp;xyz, etc.</span>
    <span class="keyword">return</span> <span class="operator">(</span><span class="keyword">wantarray</span> <span class="operator">?</span> <span class="operator">(</span><span class="keyword">undef</span><span class="operator">,</span> <span class="variable">$errmsg</span><span class="operator">)</span> <span class="operator">:</span> <span class="keyword">undef</span><span class="operator">)</span> <span class="keyword">if</span> <span class="variable">$they_blew_it</span><span class="operator">;</span>
    <span class="keyword">select</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="number">0</span><span class="operator">.</span><span class="number">25</span><span class="operator">;</span>
    <span class="operator">(</span><span class="variable">$a</span><span class="operator">,</span> <span class="variable">$b</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="variable">$c</span><span class="operator">)</span> <span class="operator">=</span> <span class="operator">&amp;</span><span class="variable">foo</span><span class="operator">;</span>       <span class="comment"># Ignore third value returned</span>
</pre>
</dd>
<dd>
<p>Note that this is a unary operator, not a list operator.</p>
</dd>
</li>
<dt><strong><a name="unlink" class="item">unlink LIST</a></strong>

<dt><strong>unlink</strong>

<dd>
<p>Deletes a list of files.  Returns the number of files successfully
deleted.</p>
</dd>
<dd>
<pre>
    <span class="variable">$cnt</span> <span class="operator">=</span> <span class="keyword">unlink</span> <span class="string">'a'</span><span class="operator">,</span> <span class="string">'b'</span><span class="operator">,</span> <span class="string">'c'</span><span class="operator">;</span>
    <span class="keyword">unlink</span> <span class="variable">@goners</span><span class="operator">;</span>
    <span class="keyword">unlink</span> <span class="operator">&lt;*.</span><span class="variable">bak</span><span class="operator">&gt;;</span>
</pre>
</dd>
<dd>
<p>Note: <a href="#unlink"><code>unlink</code></a> will not attempt to delete directories unless you are superuser
and the <strong>-U</strong> flag is supplied to Perl.  Even if these conditions are
met, be warned that unlinking a directory can inflict damage on your
filesystem.  Finally, using <a href="#unlink"><code>unlink</code></a> on directories is not supported on 
many operating systems.  Use <a href="#rmdir"><code>rmdir</code></a> instead.</p>
</dd>
<dd>
<p>If LIST is omitted, uses <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
</dd>
</li>
<dt><strong><a name="unpack" class="item">unpack TEMPLATE,EXPR</a></strong>

<dt><strong>unpack TEMPLATE</strong>

<dd>
<p><a href="#unpack"><code>unpack</code></a> does the reverse of <a href="#pack"><code>pack</code></a>: it takes a string
and expands it out into a list of values.
(In scalar context, it returns merely the first value produced.)</p>
</dd>
<dd>
<p>If EXPR is omitted, unpacks the <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> string.</p>
</dd>
<dd>
<p>The string is broken into chunks described by the TEMPLATE.  Each chunk
is converted separately to a value.  Typically, either the string is a result
of <a href="#pack"><code>pack</code></a>, or the characters of the string represent a C structure of some
kind.</p>
</dd>
<dd>
<p>The TEMPLATE has the same format as in the <a href="#pack"><code>pack</code></a> function.
Here's a subroutine that does substring:</p>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> substr </span><span class="operator">{</span>
        <span class="keyword">my</span><span class="operator">(</span><span class="variable">$what</span><span class="operator">,</span><span class="variable">$where</span><span class="operator">,</span><span class="variable">$howmuch</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"x</span><span class="variable">$where</span><span class="string"> a</span><span class="variable">$howmuch</span><span class="string">"</span><span class="operator">,</span> <span class="variable">$what</span><span class="operator">);</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>and then there's</p>
</dd>
<dd>
<pre>
    <span class="keyword">sub</span><span class="variable"> ordinal </span><span class="operator">{</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"W"</span><span class="operator">,</span><span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">);</span> <span class="operator">}</span> <span class="comment"># same as ord()</span>
</pre>
</dd>
<dd>
<p>In addition to fields allowed in <a href="#pack"><code>pack()</code></a>, you may prefix a field with
a %&lt;number&gt; to indicate that
you want a &lt;number&gt;-bit checksum of the items instead of the items
themselves.  Default is a 16-bit checksum.  Checksum is calculated by
summing numeric values of expanded values (for string fields the sum of
<a href="#ord"><code>ord($char)</code></a> is taken, for bit fields the sum of zeroes and ones).</p>
</dd>
<dd>
<p>For example, the following
computes the same number as the System V sum program:</p>
</dd>
<dd>
<pre>
    <span class="variable">$checksum</span> <span class="operator">=</span> <span class="keyword">do</span> <span class="operator">{</span>
        <span class="keyword">local</span> <span class="variable">$/</span><span class="operator">;</span>  <span class="comment"># slurp!</span>
        <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"%32W*"</span><span class="operator">,&lt;&gt;)</span> <span class="operator">% </span><span class="number">65535</span><span class="operator">;</span>
    <span class="operator">};</span>
</pre>
</dd>
<dd>
<p>The following efficiently counts the number of set bits in a bit vector:</p>
</dd>
<dd>
<pre>
    <span class="variable">$setbits</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"%32b*"</span><span class="operator">,</span> <span class="variable">$selectmask</span><span class="operator">);</span>
</pre>
</dd>
<dd>
<p>The <a href="../../lib/pods/perlrun.html#p"><code>p</code></a> and <a href="../../lib/pods/perlrun.html#p"><code>P</code></a> formats should be used with care.  Since Perl
has no way of checking whether the value passed to <a href="#unpack"><code>unpack()</code></a>
corresponds to a valid memory location, passing a pointer value that's
not known to be valid is likely to have disastrous consequences.</p>
</dd>
<dd>
<p>If there are more pack codes or if the repeat count of a field or a group
is larger than what the remainder of the input string allows, the result
is not well defined: in some cases, the repeat count is decreased, or
<a href="#unpack"><code>unpack()</code></a> will produce null strings or zeroes, or terminate with an
error. If the input string is longer than one described by the TEMPLATE,
the rest is ignored.</p>
</dd>
<dd>
<p>See <a href="#pack">pack</a> for more examples and notes.</p>
</dd>
</li>
<dt><strong><a name="untie" class="item">untie VARIABLE</a></strong>

<dd>
<p>Breaks the binding between a variable and a package.  (See <a href="#tie"><code>tie</code></a>.)
Has no effect if the variable is not tied.</p>
</dd>
</li>
<dt><strong><a name="unshift" class="item">unshift ARRAY,LIST</a></strong>

<dd>
<p>Does the opposite of a <a href="#shift"><code>shift</code></a>.  Or the opposite of a <a href="#push"><code>push</code></a>,
depending on how you look at it.  Prepends list to the front of the
array, and returns the new number of elements in the array.</p>
</dd>
<dd>
<pre>
    <span class="keyword">unshift</span><span class="operator">(</span><span class="variable">@ARGV</span><span class="operator">,</span> <span class="string">'-e'</span><span class="operator">)</span> <span class="keyword">unless</span> <span class="variable">$ARGV</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=~</span> <span class="regex">/^-/</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Note the LIST is prepended whole, not one element at a time, so the
prepended elements stay in the same order.  Use <a href="#reverse"><code>reverse</code></a> to do the
reverse.</p>
</dd>
</li>
<dt><strong><a name="use" class="item">use Module VERSION LIST</a></strong>

<dt><strong>use Module VERSION</strong>

<dt><strong>use Module LIST</strong>

<dt><strong>use Module</strong>

<dt><strong>use VERSION</strong>

<dd>
<p>Imports some semantics into the current package from the named module,
generally by aliasing certain subroutine or variable names into your
package.  It is exactly equivalent to</p>
</dd>
<dd>
<pre>
    <span class="keyword">BEGIN</span> <span class="operator">{</span> <span class="keyword">require</span> <span class="variable">Module</span><span class="operator">;</span> <span class="variable">Module</span><span class="operator">-&gt;</span><span class="variable">import</span><span class="operator">(</span> <span class="variable">LIST</span> <span class="operator">);</span> <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>except that Module <em>must</em> be a bareword.</p>
</dd>
<dd>
<p>In the peculiar <a href="#use"><code>use VERSION</code></a> form, VERSION may be either a numeric
argument such as 5.006, which will be compared to <a href="../../lib/pods/perlvar.html#__"><code>$]</code></a>, or a literal of
the form v5.6.1, which will be compared to <a href="../../lib/pods/perlvar.html#__v"><code>$^V</code></a> (aka $PERL_VERSION).  A
fatal error is produced if VERSION is greater than the version of the
current Perl interpreter; Perl will not attempt to parse the rest of the
file.  Compare with <a href="#require">require</a>, which can do a similar check at run time.
Symmetrically, <a href="#no"><code>no VERSION</code></a> allows you to specify that you want a version
of perl older than the specified one.</p>
</dd>
<dd>
<p>Specifying VERSION as a literal of the form v5.6.1 should generally be
avoided, because it leads to misleading error messages under earlier
versions of Perl that do not support this syntax.  The equivalent numeric
version should be used instead.</p>
</dd>
<dd>
<p>Alternatively, you can use a numeric version <code>use 5.006</code> followed by a
v-string version like <code>use v5.10.1</code>, to avoid the unintuitive <code>use
5.010_001</code>. (older perl versions fail gracefully at the first <a href="#use"><code>use</code></a>,
later perl versions understand the v-string syntax in the second).</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">v5</span><span class="number">.6</span><span class="operator">.</span><span class="number">1</span><span class="operator">;</span>         <span class="comment"># compile time version check</span>
    <span class="keyword">use</span> <span class="number">5.6</span><span class="operator">.</span><span class="number">1</span><span class="operator">;</span>          <span class="comment"># ditto</span>
    <span class="keyword">use</span> <span class="number">5.006_001</span><span class="operator">;</span>      <span class="comment"># ditto; preferred for backwards compatibility</span>
    <span class="keyword">use</span> <span class="number">5.006</span><span class="operator">;</span> <span class="keyword">use</span> <span class="number">5.6</span><span class="operator">.</span><span class="number">1</span><span class="operator">;</span>       <span class="comment"># ditto, for compatibility and readability</span>
</pre>
</dd>
<dd>
<p>This is often useful if you need to check the current Perl version before
<a href="#use"><code>use</code></a>ing library modules that have changed in incompatible ways from
older versions of Perl.  (We try not to do this more than we have to.)</p>
</dd>
<dd>
<p>Also, if the specified perl version is greater than or equal to 5.9.5,
<a href="#use"><code>use VERSION</code></a> will also load the <code>feature</code> pragma and enable all
features available in the requested version.  See <a href="../../lib/feature.html">the feature manpage</a>.</p>
</dd>
<dd>
<p>The <code>BEGIN</code> forces the <a href="#require"><code>require</code></a> and <a href="#import"><code>import</code></a> to happen at compile time.  The
<a href="#require"><code>require</code></a> makes sure the module is loaded into memory if it hasn't been
yet.  The <a href="#import"><code>import</code></a> is not a builtin--it's just an ordinary static method
call into the <code>Module</code> package to tell the module to import the list of
features back into the current package.  The module can implement its
<a href="#import"><code>import</code></a> method any way it likes, though most modules just choose to
derive their <a href="#import"><code>import</code></a> method via inheritance from the <code>Exporter</code> class that
is defined in the <code>Exporter</code> module.  See <a href="../../lib/Exporter.html">the Exporter manpage</a>.  If no <a href="#import"><code>import</code></a>
method can be found then the call is skipped, even if there is an AUTOLOAD
method.</p>
</dd>
<dd>
<p>If you do not want to call the package's <a href="#import"><code>import</code></a> method (for instance,
to stop your namespace from being altered), explicitly supply the empty list:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">Module</span> <span class="operator">();</span>
</pre>
</dd>
<dd>
<p>That is exactly equivalent to</p>
</dd>
<dd>
<pre>
    <span class="keyword">BEGIN</span> <span class="operator">{</span> <span class="keyword">require</span> <span class="variable">Module</span> <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>If the VERSION argument is present between Module and LIST, then the
<a href="#use"><code>use</code></a> will call the VERSION method in class Module with the given
version as an argument.  The default VERSION method, inherited from
the UNIVERSAL class, croaks if the given version is larger than the
value of the variable <code>$Module::VERSION</code>.</p>
</dd>
<dd>
<p>Again, there is a distinction between omitting LIST (<a href="#import"><code>import</code></a> called
with no arguments) and an explicit empty LIST <code>()</code> (<a href="#import"><code>import</code></a> not
called).  Note that there is no comma after VERSION!</p>
</dd>
<dd>
<p>Because this is a wide-open interface, pragmas (compiler directives)
are also implemented this way.  Currently implemented pragmas are:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">constant</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">diagnostics</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">integer</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">sigtrap</span>  <span class="string">qw(SEGV BUS)</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">strict</span>   <span class="string">qw(subs vars refs)</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">subs</span>     <span class="string">qw(afunc blurfl)</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">warnings</span> <span class="string">qw(all)</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="keyword">sort</span>     <span class="string">qw(stable _quicksort _mergesort)</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Some of these pseudo-modules import semantics into the current
block scope (like <code>strict</code> or <code>integer</code>, unlike ordinary modules,
which import symbols into the current package (which are effective
through the end of the file).</p>
</dd>
<dd>
<p>There's a corresponding <a href="#no"><code>no</code></a> command that unimports meanings imported
by <a href="#use"><code>use</code></a>, i.e., it calls <code>unimport Module LIST</code> instead of <a href="#import"><code>import</code></a>.
It behaves exactly as <a href="#import"><code>import</code></a> does with respect to VERSION, an
omitted LIST, empty LIST, or no unimport method being found.</p>
</dd>
<dd>
<pre>
    <span class="keyword">no</span> <span class="variable">integer</span><span class="operator">;</span>
    <span class="keyword">no</span> <span class="variable">strict</span> <span class="string">'refs'</span><span class="operator">;</span>
    <span class="keyword">no</span> <span class="variable">warnings</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlmodlib.html">the perlmodlib manpage</a> for a list of standard modules and pragmas.  See <a href="../../lib/pods/perlrun.html">the perlrun manpage</a>
for the <a href="../../lib/pods/perlguts.html#m"><code>-M</code></a> and <a href="../../lib/pods/perlguts.html#m"><code>-m</code></a> command-line options to perl that give <a href="#use"><code>use</code></a>
functionality from the command-line.</p>
</dd>
</li>
<dt><strong><a name="utime" class="item">utime LIST</a></strong>

<dd>
<p>Changes the access and modification times on each file of a list of
files.  The first two elements of the list must be the NUMERICAL access
and modification times, in that order.  Returns the number of files
successfully changed.  The inode change time of each file is set
to the current time.  For example, this code has the same effect as the
Unix <code>touch(1)</code> command when the files <em>already exist</em> and belong to
the user running the program:</p>
</dd>
<dd>
<pre>
    <span class="comment">#!/usr/bin/perl</span>
    <span class="variable">$atime</span> <span class="operator">=</span> <span class="variable">$mtime</span> <span class="operator">=</span> <span class="keyword">time</span><span class="operator">;</span>
    <span class="keyword">utime</span> <span class="variable">$atime</span><span class="operator">,</span> <span class="variable">$mtime</span><span class="operator">,</span> <span class="variable">@ARGV</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Since perl 5.7.2, if the first two elements of the list are <a href="#undef"><code>undef</code></a>, then
the <a href="#utime"><code>utime(2)</code></a> function in the C library will be called with a null second
argument. On most systems, this will set the file's access and
modification times to the current time (i.e. equivalent to the example
above) and will even work on other users' files where you have write
permission:</p>
</dd>
<dd>
<pre>
    <span class="keyword">utime</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="variable">@ARGV</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>Under NFS this will use the time of the NFS server, not the time of
the local machine.  If there is a time synchronization problem, the
NFS server and local machine will have different times.  The Unix
<code>touch(1)</code> command will in fact normally use this form instead of the
one shown in the first example.</p>
</dd>
<dd>
<p>Note that only passing one of the first two elements as <a href="#undef"><code>undef</code></a> will
be equivalent of passing it as 0 and will not have the same effect as
described when they are both <a href="#undef"><code>undef</code></a>.  This case will also trigger an
uninitialized warning.</p>
</dd>
<dd>
<p>On systems that support futimes, you might pass file handles among the
files.  On systems that don't support futimes, passing file handles
produces a fatal error at run time.  The file handles must be passed
as globs or references to be recognized.  Barewords are considered
file names.</p>
</dd>
</li>
<dt><strong><a name="values" class="item">values HASH</a></strong>

<dd>
<p>Returns a list consisting of all the values of the named hash.
(In a scalar context, returns the number of values.)</p>
</dd>
<dd>
<p>The values are returned in an apparently random order.  The actual
random order is subject to change in future versions of perl, but it
is guaranteed to be the same order as either the <a href="#keys"><code>keys</code></a> or <a href="#each"><code>each</code></a>
function would produce on the same (unmodified) hash.  Since Perl
5.8.1 the ordering is different even between different runs of Perl
for security reasons (see <a href="../../lib/pods/perlsec.html#algorithmic_complexity_attacks">Algorithmic Complexity Attacks in the perlsec manpage</a>).</p>
</dd>
<dd>
<p>As a side effect, calling <a href="#values"><code>values()</code></a> resets the HASH's internal iterator,
see <a href="#each">each</a>. (In particular, calling <a href="#values"><code>values()</code></a> in void context resets
the iterator with no other overhead.)</p>
</dd>
<dd>
<p>Note that the values are not copied, which means modifying them will
modify the contents of the hash:</p>
</dd>
<dd>
<pre>
    <span class="keyword">for</span> <span class="operator">(</span><span class="keyword">values</span> <span class="variable">%hash</span><span class="operator">)</span>      <span class="operator">{</span> <span class="regex">s/foo/bar/g</span> <span class="operator">}</span>   <span class="comment"># modifies %hash values</span>
    <span class="keyword">for</span> <span class="operator">(</span><span class="variable">@hash</span><span class="operator">{</span><span class="keyword">keys</span> <span class="variable">%hash</span><span class="operator">}</span><span class="operator">)</span> <span class="operator">{</span> <span class="regex">s/foo/bar/g</span> <span class="operator">}</span>   <span class="comment"># same</span>
</pre>
</dd>
<dd>
<p>See also <a href="#keys"><code>keys</code></a>, <a href="#each"><code>each</code></a>, and <a href="#sort"><code>sort</code></a>.</p>
</dd>
</li>
<dt><strong><a name="vec" class="item">vec EXPR,OFFSET,BITS</a></strong>

<dd>
<p>Treats the string in EXPR as a bit vector made up of elements of
width BITS, and returns the value of the element specified by OFFSET
as an unsigned integer.  BITS therefore specifies the number of bits
that are reserved for each element in the bit vector.  This must
be a power of two from 1 to 32 (or 64, if your platform supports
that).</p>
</dd>
<dd>
<p>If BITS is 8, &quot;elements&quot; coincide with bytes of the input string.</p>
</dd>
<dd>
<p>If BITS is 16 or more, bytes of the input string are grouped into chunks
of size BITS/8, and each group is converted to a number as with
pack()/unpack() with big-endian formats <a href="../../lib/pods/perlrun.html#n"><code>n</code></a>/<code>N</code> (and analogously
for BITS==64).  See <a href="#pack">pack</a> for details.</p>
</dd>
<dd>
<p>If bits is 4 or less, the string is broken into bytes, then the bits
of each byte are broken into 8/BITS groups.  Bits of a byte are
numbered in a little-endian-ish way, as in <code>0x01</code>, <code>0x02</code>,
<code>0x04</code>, <code>0x08</code>, <code>0x10</code>, <code>0x20</code>, <code>0x40</code>, <code>0x80</code>.  For example,
breaking the single input byte <a href="#chr"><code>chr(0x36)</code></a> into two groups gives a list
<code>(0x6, 0x3)</code>; breaking it into 4 groups gives <code>(0x2, 0x1, 0x3, 0x0)</code>.</p>
</dd>
<dd>
<p><a href="#vec"><code>vec</code></a> may also be assigned to, in which case parentheses are needed
to give the expression the correct precedence as in</p>
</dd>
<dd>
<pre>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$image</span><span class="operator">,</span> <span class="variable">$max_x</span> <span class="operator">*</span> <span class="variable">$x</span> <span class="operator">+</span> <span class="variable">$y</span><span class="operator">,</span> <span class="number">8</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">3</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>If the selected element is outside the string, the value 0 is returned.
If an element off the end of the string is written to, Perl will first
extend the string with sufficiently many zero bytes.   It is an error
to try to write off the beginning of the string (i.e. negative OFFSET).</p>
</dd>
<dd>
<p>If the string happens to be encoded as UTF-8 internally (and thus has
the UTF8 flag set), this is ignored by <a href="#vec"><code>vec</code></a>, and it operates on the
internal byte string, not the conceptual character string, even if you
only have characters with values less than 256.</p>
</dd>
<dd>
<p>Strings created with <a href="#vec"><code>vec</code></a> can also be manipulated with the logical
operators <code>|</code>, <code>&amp;</code>, <code>^</code>, and <code>~</code>.  These operators will assume a bit
vector operation is desired when both operands are strings.
See <a href="../../lib/pods/perlop.html#bitwise_string_operators">Bitwise String Operators in the perlop manpage</a>.</p>
</dd>
<dd>
<p>The following code will build up an ASCII string saying <code>'PerlPerlPerl'</code>.
The comments show the string after each step.  Note that this code works
in the same way on big-endian or little-endian machines.</p>
</dd>
<dd>
<pre>
    <span class="keyword">my</span> <span class="variable">$foo</span> <span class="operator">=</span> <span class="string">''</span><span class="operator">;</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span>  <span class="number">0</span><span class="operator">,</span> <span class="number">32</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">0x5065726C</span><span class="operator">;</span>     <span class="comment"># 'Perl'</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># $foo eq "Perl" eq "\x50\x65\x72\x6C", 32 bits</span>
    <span class="keyword">print</span> <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">8</span><span class="operator">);</span>              <span class="comment"># prints 80 == 0x50 == ord('P')</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span>  <span class="number">2</span><span class="operator">,</span> <span class="number">16</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">0x5065</span><span class="operator">;</span>         <span class="comment"># 'PerlPe'</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span>  <span class="number">3</span><span class="operator">,</span> <span class="number">16</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">0x726C</span><span class="operator">;</span>         <span class="comment"># 'PerlPerl'</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span>  <span class="number">8</span><span class="operator">,</span>  <span class="number">8</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">0x50</span><span class="operator">;</span>           <span class="comment"># 'PerlPerlP'</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span>  <span class="number">9</span><span class="operator">,</span>  <span class="number">8</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">0x65</span><span class="operator">;</span>           <span class="comment"># 'PerlPerlPe'</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">20</span><span class="operator">,</span>  <span class="number">4</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">2</span><span class="operator">;</span>              <span class="comment"># 'PerlPerlPe'   . "\x02"</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">21</span><span class="operator">,</span>  <span class="number">4</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">7</span><span class="operator">;</span>              <span class="comment"># 'PerlPerlPer'</span>
                                        <span class="comment"># 'r' is "\x72"</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">45</span><span class="operator">,</span>  <span class="number">2</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">3</span><span class="operator">;</span>              <span class="comment"># 'PerlPerlPer'  . "\x0c"</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">93</span><span class="operator">,</span>  <span class="number">1</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>              <span class="comment"># 'PerlPerlPer'  . "\x2c"</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">94</span><span class="operator">,</span>  <span class="number">1</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>              <span class="comment"># 'PerlPerlPerl'</span>
                                        <span class="comment"># 'l' is "\x6c"</span>
</pre>
</dd>
<dd>
<p>To transform a bit vector into a string or list of 0's and 1's, use these:</p>
</dd>
<dd>
<pre>
    <span class="variable">$bits</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"b*"</span><span class="operator">,</span> <span class="variable">$vector</span><span class="operator">);</span>
    <span class="variable">@bits</span> <span class="operator">=</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">//</span><span class="operator">,</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"b*"</span><span class="operator">,</span> <span class="variable">$vector</span><span class="operator">));</span>
</pre>
</dd>
<dd>
<p>If you know the exact length in bits, it can be used in place of the <code>*</code>.</p>
</dd>
<dd>
<p>Here is an example to illustrate how the bits actually fall in place:</p>
</dd>
<dd>
<pre>
    <span class="comment">#!/usr/bin/perl -wl</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">print</span> <span class="operator">&lt;&lt;</span><span class="default">'EOT'</span><span class="operator">;</span><span class="string">
                                      0         1         2         3
                       unpack("V",$_) 01234567890123456789012345678901
    ------------------------------------------------------------------
    </span><span class="default">EOT</span>
</pre>
</dd>
<dd>
<pre>
    <span class="keyword">for</span> <span class="variable">$w</span> <span class="operator">(</span><span class="number">0</span><span class="operator">..</span><span class="number">3</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">$width</span> <span class="operator">=</span> <span class="number">2</span><span class="operator">**</span><span class="variable">$w</span><span class="operator">;</span>
        <span class="keyword">for</span> <span class="operator">(</span><span class="variable">$shift</span><span class="operator">=</span><span class="number">0</span><span class="operator">;</span> <span class="variable">$shift</span> <span class="operator">&lt;</span> <span class="variable">$width</span><span class="operator">;</span> <span class="operator">++</span><span class="variable">$shift</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword">for</span> <span class="operator">(</span><span class="variable">$off</span><span class="operator">=</span><span class="number">0</span><span class="operator">;</span> <span class="variable">$off</span> <span class="operator">&lt;</span> <span class="number">32</span><span class="operator">/</span><span class="variable">$width</span><span class="operator">;</span> <span class="operator">++</span><span class="variable">$off</span><span class="operator">)</span> <span class="operator">{</span>
                <span class="variable">$str</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"B*"</span><span class="operator">,</span> <span class="string">"0"</span><span class="variable">x32</span><span class="operator">);</span>
                <span class="variable">$bits</span> <span class="operator">=</span> <span class="operator">(</span><span class="number">1</span><span class="operator">&lt;&lt;</span><span class="variable">$shift</span><span class="operator">);</span>
                <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$str</span><span class="operator">,</span> <span class="variable">$off</span><span class="operator">,</span> <span class="variable">$width</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">$bits</span><span class="operator">;</span>
                <span class="variable">$res</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"b*"</span><span class="operator">,</span><span class="variable">$str</span><span class="operator">);</span>
                <span class="variable">$val</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"V"</span><span class="operator">,</span> <span class="variable">$str</span><span class="operator">);</span>
                <span class="keyword">write</span><span class="operator">;</span>
            <span class="operator">}</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<pre>
    format STDOUT =
    vec($_,@#,@#) = @&lt;&lt; == @######### @&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
    $off, $width, $bits, $val, $res
    .
    __END__</pre>
</dd>
<dd>
<p>Regardless of the machine architecture on which it is run, the above
example should print the following table:</p>
</dd>
<dd>
<pre>
                                      0         1         2         3
                       unpack(&quot;V&quot;,$_) 01234567890123456789012345678901
    ------------------------------------------------------------------
    vec($_, 0, 1) = 1   ==          1 10000000000000000000000000000000
    vec($_, 1, 1) = 1   ==          2 01000000000000000000000000000000
    vec($_, 2, 1) = 1   ==          4 00100000000000000000000000000000
    vec($_, 3, 1) = 1   ==          8 00010000000000000000000000000000
    vec($_, 4, 1) = 1   ==         16 00001000000000000000000000000000
    vec($_, 5, 1) = 1   ==         32 00000100000000000000000000000000
    vec($_, 6, 1) = 1   ==         64 00000010000000000000000000000000
    vec($_, 7, 1) = 1   ==        128 00000001000000000000000000000000
    vec($_, 8, 1) = 1   ==        256 00000000100000000000000000000000
    vec($_, 9, 1) = 1   ==        512 00000000010000000000000000000000
    vec($_,10, 1) = 1   ==       1024 00000000001000000000000000000000
    vec($_,11, 1) = 1   ==       2048 00000000000100000000000000000000
    vec($_,12, 1) = 1   ==       4096 00000000000010000000000000000000
    vec($_,13, 1) = 1   ==       8192 00000000000001000000000000000000
    vec($_,14, 1) = 1   ==      16384 00000000000000100000000000000000
    vec($_,15, 1) = 1   ==      32768 00000000000000010000000000000000
    vec($_,16, 1) = 1   ==      65536 00000000000000001000000000000000
    vec($_,17, 1) = 1   ==     131072 00000000000000000100000000000000
    vec($_,18, 1) = 1   ==     262144 00000000000000000010000000000000
    vec($_,19, 1) = 1   ==     524288 00000000000000000001000000000000
    vec($_,20, 1) = 1   ==    1048576 00000000000000000000100000000000
    vec($_,21, 1) = 1   ==    2097152 00000000000000000000010000000000
    vec($_,22, 1) = 1   ==    4194304 00000000000000000000001000000000
    vec($_,23, 1) = 1   ==    8388608 00000000000000000000000100000000
    vec($_,24, 1) = 1   ==   16777216 00000000000000000000000010000000
    vec($_,25, 1) = 1   ==   33554432 00000000000000000000000001000000
    vec($_,26, 1) = 1   ==   67108864 00000000000000000000000000100000
    vec($_,27, 1) = 1   ==  134217728 00000000000000000000000000010000
    vec($_,28, 1) = 1   ==  268435456 00000000000000000000000000001000
    vec($_,29, 1) = 1   ==  536870912 00000000000000000000000000000100
    vec($_,30, 1) = 1   == 1073741824 00000000000000000000000000000010
    vec($_,31, 1) = 1   == 2147483648 00000000000000000000000000000001
    vec($_, 0, 2) = 1   ==          1 10000000000000000000000000000000
    vec($_, 1, 2) = 1   ==          4 00100000000000000000000000000000
    vec($_, 2, 2) = 1   ==         16 00001000000000000000000000000000
    vec($_, 3, 2) = 1   ==         64 00000010000000000000000000000000
    vec($_, 4, 2) = 1   ==        256 00000000100000000000000000000000
    vec($_, 5, 2) = 1   ==       1024 00000000001000000000000000000000
    vec($_, 6, 2) = 1   ==       4096 00000000000010000000000000000000
    vec($_, 7, 2) = 1   ==      16384 00000000000000100000000000000000
    vec($_, 8, 2) = 1   ==      65536 00000000000000001000000000000000
    vec($_, 9, 2) = 1   ==     262144 00000000000000000010000000000000
    vec($_,10, 2) = 1   ==    1048576 00000000000000000000100000000000
    vec($_,11, 2) = 1   ==    4194304 00000000000000000000001000000000
    vec($_,12, 2) = 1   ==   16777216 00000000000000000000000010000000
    vec($_,13, 2) = 1   ==   67108864 00000000000000000000000000100000
    vec($_,14, 2) = 1   ==  268435456 00000000000000000000000000001000
    vec($_,15, 2) = 1   == 1073741824 00000000000000000000000000000010
    vec($_, 0, 2) = 2   ==          2 01000000000000000000000000000000
    vec($_, 1, 2) = 2   ==          8 00010000000000000000000000000000
    vec($_, 2, 2) = 2   ==         32 00000100000000000000000000000000
    vec($_, 3, 2) = 2   ==        128 00000001000000000000000000000000
    vec($_, 4, 2) = 2   ==        512 00000000010000000000000000000000
    vec($_, 5, 2) = 2   ==       2048 00000000000100000000000000000000
    vec($_, 6, 2) = 2   ==       8192 00000000000001000000000000000000
    vec($_, 7, 2) = 2   ==      32768 00000000000000010000000000000000
    vec($_, 8, 2) = 2   ==     131072 00000000000000000100000000000000
    vec($_, 9, 2) = 2   ==     524288 00000000000000000001000000000000
    vec($_,10, 2) = 2   ==    2097152 00000000000000000000010000000000
    vec($_,11, 2) = 2   ==    8388608 00000000000000000000000100000000
    vec($_,12, 2) = 2   ==   33554432 00000000000000000000000001000000
    vec($_,13, 2) = 2   ==  134217728 00000000000000000000000000010000
    vec($_,14, 2) = 2   ==  536870912 00000000000000000000000000000100
    vec($_,15, 2) = 2   == 2147483648 00000000000000000000000000000001
    vec($_, 0, 4) = 1   ==          1 10000000000000000000000000000000
    vec($_, 1, 4) = 1   ==         16 00001000000000000000000000000000
    vec($_, 2, 4) = 1   ==        256 00000000100000000000000000000000
    vec($_, 3, 4) = 1   ==       4096 00000000000010000000000000000000
    vec($_, 4, 4) = 1   ==      65536 00000000000000001000000000000000
    vec($_, 5, 4) = 1   ==    1048576 00000000000000000000100000000000
    vec($_, 6, 4) = 1   ==   16777216 00000000000000000000000010000000
    vec($_, 7, 4) = 1   ==  268435456 00000000000000000000000000001000
    vec($_, 0, 4) = 2   ==          2 01000000000000000000000000000000
    vec($_, 1, 4) = 2   ==         32 00000100000000000000000000000000
    vec($_, 2, 4) = 2   ==        512 00000000010000000000000000000000
    vec($_, 3, 4) = 2   ==       8192 00000000000001000000000000000000
    vec($_, 4, 4) = 2   ==     131072 00000000000000000100000000000000
    vec($_, 5, 4) = 2   ==    2097152 00000000000000000000010000000000
    vec($_, 6, 4) = 2   ==   33554432 00000000000000000000000001000000
    vec($_, 7, 4) = 2   ==  536870912 00000000000000000000000000000100
    vec($_, 0, 4) = 4   ==          4 00100000000000000000000000000000
    vec($_, 1, 4) = 4   ==         64 00000010000000000000000000000000
    vec($_, 2, 4) = 4   ==       1024 00000000001000000000000000000000
    vec($_, 3, 4) = 4   ==      16384 00000000000000100000000000000000
    vec($_, 4, 4) = 4   ==     262144 00000000000000000010000000000000
    vec($_, 5, 4) = 4   ==    4194304 00000000000000000000001000000000
    vec($_, 6, 4) = 4   ==   67108864 00000000000000000000000000100000
    vec($_, 7, 4) = 4   == 1073741824 00000000000000000000000000000010
    vec($_, 0, 4) = 8   ==          8 00010000000000000000000000000000
    vec($_, 1, 4) = 8   ==        128 00000001000000000000000000000000
    vec($_, 2, 4) = 8   ==       2048 00000000000100000000000000000000
    vec($_, 3, 4) = 8   ==      32768 00000000000000010000000000000000
    vec($_, 4, 4) = 8   ==     524288 00000000000000000001000000000000
    vec($_, 5, 4) = 8   ==    8388608 00000000000000000000000100000000
    vec($_, 6, 4) = 8   ==  134217728 00000000000000000000000000010000
    vec($_, 7, 4) = 8   == 2147483648 00000000000000000000000000000001
    vec($_, 0, 8) = 1   ==          1 10000000000000000000000000000000
    vec($_, 1, 8) = 1   ==        256 00000000100000000000000000000000
    vec($_, 2, 8) = 1   ==      65536 00000000000000001000000000000000
    vec($_, 3, 8) = 1   ==   16777216 00000000000000000000000010000000
    vec($_, 0, 8) = 2   ==          2 01000000000000000000000000000000
    vec($_, 1, 8) = 2   ==        512 00000000010000000000000000000000
    vec($_, 2, 8) = 2   ==     131072 00000000000000000100000000000000
    vec($_, 3, 8) = 2   ==   33554432 00000000000000000000000001000000
    vec($_, 0, 8) = 4   ==          4 00100000000000000000000000000000
    vec($_, 1, 8) = 4   ==       1024 00000000001000000000000000000000
    vec($_, 2, 8) = 4   ==     262144 00000000000000000010000000000000
    vec($_, 3, 8) = 4   ==   67108864 00000000000000000000000000100000
    vec($_, 0, 8) = 8   ==          8 00010000000000000000000000000000
    vec($_, 1, 8) = 8   ==       2048 00000000000100000000000000000000
    vec($_, 2, 8) = 8   ==     524288 00000000000000000001000000000000
    vec($_, 3, 8) = 8   ==  134217728 00000000000000000000000000010000
    vec($_, 0, 8) = 16  ==         16 00001000000000000000000000000000
    vec($_, 1, 8) = 16  ==       4096 00000000000010000000000000000000
    vec($_, 2, 8) = 16  ==    1048576 00000000000000000000100000000000
    vec($_, 3, 8) = 16  ==  268435456 00000000000000000000000000001000
    vec($_, 0, 8) = 32  ==         32 00000100000000000000000000000000
    vec($_, 1, 8) = 32  ==       8192 00000000000001000000000000000000
    vec($_, 2, 8) = 32  ==    2097152 00000000000000000000010000000000
    vec($_, 3, 8) = 32  ==  536870912 00000000000000000000000000000100
    vec($_, 0, 8) = 64  ==         64 00000010000000000000000000000000
    vec($_, 1, 8) = 64  ==      16384 00000000000000100000000000000000
    vec($_, 2, 8) = 64  ==    4194304 00000000000000000000001000000000
    vec($_, 3, 8) = 64  == 1073741824 00000000000000000000000000000010
    vec($_, 0, 8) = 128 ==        128 00000001000000000000000000000000
    vec($_, 1, 8) = 128 ==      32768 00000000000000010000000000000000
    vec($_, 2, 8) = 128 ==    8388608 00000000000000000000000100000000
    vec($_, 3, 8) = 128 == 2147483648 00000000000000000000000000000001</pre>
</dd>
</li>
<dt><strong><a name="wait" class="item">wait</a></strong>

<dd>
<p>Behaves like the <a href="#wait"><code>wait(2)</code></a> system call on your system: it waits for a child
process to terminate and returns the pid of the deceased process, or
<code>-1</code> if there are no child processes.  The status is returned in <a href="../../lib/pods/perlvar.html#_"><code>$?</code></a>
and <code>{^CHILD_ERROR_NATIVE}</code>.
Note that a return value of <code>-1</code> could mean that child processes are
being automatically reaped, as described in <a href="../../lib/pods/perlipc.html">the perlipc manpage</a>.</p>
</dd>
</li>
<dt><strong><a name="waitpid" class="item">waitpid PID,FLAGS</a></strong>

<dd>
<p>Waits for a particular child process to terminate and returns the pid of
the deceased process, or <code>-1</code> if there is no such child process.  On some
systems, a value of 0 indicates that there are processes still running.
The status is returned in <a href="../../lib/pods/perlvar.html#_"><code>$?</code></a> and <code>{^CHILD_ERROR_NATIVE}</code>.  If you say</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">POSIX</span> <span class="string">":sys_wait_h"</span><span class="operator">;</span>
    <span class="comment">#...</span>
    <span class="keyword">do</span> <span class="operator">{</span>
        <span class="variable">$kid</span> <span class="operator">=</span> <span class="keyword">waitpid</span><span class="operator">(-</span><span class="number">1</span><span class="operator">,</span> <span class="variable">WNOHANG</span><span class="operator">);</span>
    <span class="operator">}</span> <span class="keyword">while</span> <span class="variable">$kid</span> <span class="operator">&gt;</span> <span class="number">0</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>then you can do a non-blocking wait for all pending zombie processes.
Non-blocking wait is available on machines supporting either the
<a href="#waitpid"><code>waitpid(2)</code></a> or wait4(2) system calls.  However, waiting for a particular
pid with FLAGS of <code>0</code> is implemented everywhere.  (Perl emulates the
system call by remembering the status values of processes that have
exited but have not been harvested by the Perl script yet.)</p>
</dd>
<dd>
<p>Note that on some systems, a return value of <code>-1</code> could mean that child
processes are being automatically reaped.  See <a href="../../lib/pods/perlipc.html">the perlipc manpage</a> for details,
and for other examples.</p>
</dd>
</li>
<dt><strong><a name="wantarray" class="item">wantarray</a></strong>

<dd>
<p>Returns true if the context of the currently executing subroutine or
<a href="#eval"><code>eval</code></a> is looking for a list value.  Returns false if the context is
looking for a scalar.  Returns the undefined value if the context is
looking for no value (void context).</p>
</dd>
<dd>
<pre>
    <span class="keyword">return</span> <span class="keyword">unless</span> <span class="keyword">defined</span> <span class="keyword">wantarray</span><span class="operator">;</span>    <span class="comment"># don't bother doing more</span>
    <span class="keyword">my</span> <span class="variable">@a</span> <span class="operator">=</span> <span class="variable">complex_calculation</span><span class="operator">();</span>
    <span class="keyword">return</span> <span class="keyword">wantarray</span> <span class="operator">?</span> <span class="variable">@a</span> <span class="operator">:</span> <span class="string">"</span><span class="variable">@a</span><span class="string">"</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p><a href="#wantarray"><code>wantarray()</code></a>'s result is unspecified in the top level of a file,
in a <code>BEGIN</code>, <code>UNITCHECK</code>, <code>CHECK</code>, <code>INIT</code> or <code>END</code> block, or
in a <code>DESTROY</code> method.</p>
</dd>
<dd>
<p>This function should have been named <code>wantlist()</code> instead.</p>
</dd>
</li>
<dt><strong><a name="warn" class="item">warn LIST</a></strong>

<dd>
<p>Prints the value of LIST to STDERR.  If the last element of LIST does
not end in a newline, it appends the same file/line number text as <a href="#die"><code>die</code></a>
does.</p>
</dd>
<dd>
<p>If LIST is empty and <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a> already contains a value (typically from a
previous eval) that value is used after appending <code>&quot;\t...caught&quot;</code>
to <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a>.  This is useful for staying almost, but not entirely similar to
<a href="#die"><code>die</code></a>.</p>
</dd>
<dd>
<p>If <a href="../../lib/pods/perlvar.html#__"><code>$@</code></a> is empty then the string <code>&quot;Warning: Something's wrong&quot;</code> is used.</p>
</dd>
<dd>
<p>No message is printed if there is a <code>$SIG{__WARN__}</code> handler
installed.  It is the handler's responsibility to deal with the message
as it sees fit (like, for instance, converting it into a <a href="#die"><code>die</code></a>).  Most
handlers must therefore make arrangements to actually display the
warnings that they are not prepared to deal with, by calling <a href="#warn"><code>warn</code></a>
again in the handler.  Note that this is quite safe and will not
produce an endless loop, since <code>__WARN__</code> hooks are not called from
inside one.</p>
</dd>
<dd>
<p>You will find this behavior is slightly different from that of
<code>$SIG{__DIE__}</code> handlers (which don't suppress the error text, but can
instead call <a href="#die"><code>die</code></a> again to change it).</p>
</dd>
<dd>
<p>Using a <code>__WARN__</code> handler provides a powerful way to silence all
warnings (even the so-called mandatory ones).  An example:</p>
</dd>
<dd>
<pre>
    <span class="comment"># wipe out *all* compile-time warnings</span>
    <span class="keyword">BEGIN</span> <span class="operator">{</span> <span class="variable">$SIG</span><span class="operator">{</span><span class="string">'__WARN__'</span><span class="operator">}</span> <span class="operator">=</span> <span class="keyword">sub</span><span class="variable"> </span><span class="operator">{</span> <span class="keyword">warn</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="keyword">if</span> <span class="variable">$DOWARN</span> <span class="operator">}</span> <span class="operator">}</span>
    <span class="keyword">my</span> <span class="variable">$foo</span> <span class="operator">=</span> <span class="number">10</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$foo</span> <span class="operator">=</span> <span class="number">20</span><span class="operator">;</span>          <span class="comment"># no warning about duplicate my $foo,</span>
                           <span class="comment"># but hey, you asked for it!</span>
    <span class="comment"># no compile-time or run-time warnings before here</span>
    <span class="variable">$DOWARN</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<pre>
    <span class="comment"># run-time warnings enabled after here</span>
    <span class="keyword">warn</span> <span class="string">"\$foo is alive and </span><span class="variable">$foo</span><span class="string">!"</span><span class="operator">;</span>     <span class="comment"># does show up</span>
</pre>
</dd>
<dd>
<p>See <a href="../../lib/pods/perlvar.html">the perlvar manpage</a> for details on setting <a href="../../lib/pods/perlvar.html#_sig"><code>%SIG</code></a> entries, and for more
examples.  See the Carp module for other kinds of warnings using its
<code>carp()</code> and <code>cluck()</code> functions.</p>
</dd>
</li>
<dt><strong><a name="write" class="item">write FILEHANDLE</a></strong>

<dt><strong>write EXPR</strong>

<dt><strong>write</strong>

<dd>
<p>Writes a formatted record (possibly multi-line) to the specified FILEHANDLE,
using the format associated with that file.  By default the format for
a file is the one having the same name as the filehandle, but the
format for the current output channel (see the <a href="#select"><code>select</code></a> function) may be set
explicitly by assigning the name of the format to the <a href="../../lib/pods/perlvar.html#__"><code>$~</code></a> variable.</p>
</dd>
<dd>
<p>Top of form processing is handled automatically:  if there is
insufficient room on the current page for the formatted record, the
page is advanced by writing a form feed, a special top-of-page format
is used to format the new page header, and then the record is written.
By default the top-of-page format is the name of the filehandle with
&quot;_TOP&quot; appended, but it may be dynamically set to the format of your
choice by assigning the name to the <a href="../../lib/pods/perlvar.html#__"><code>$^</code></a> variable while the filehandle is
selected.  The number of lines remaining on the current page is in
variable <a href="../../lib/pods/perlvar.html#__"><code>$-</code></a>, which can be set to <code>0</code> to force a new page.</p>
</dd>
<dd>
<p>If FILEHANDLE is unspecified, output goes to the current default output
channel, which starts out as STDOUT but may be changed by the
<a href="#select"><code>select</code></a> operator.  If the FILEHANDLE is an EXPR, then the expression
is evaluated and the resulting string is used to look up the name of
the FILEHANDLE at run time.  For more on formats, see <a href="../../lib/pods/perlform.html">the perlform manpage</a>.</p>
</dd>
<dd>
<p>Note that write is <em>not</em> the opposite of <a href="#read"><code>read</code></a>.  Unfortunately.</p>
</dd>
</li>
<dt><strong><a name="y_" class="item">y///</a></strong>

<dd>
<p>The transliteration operator.  Same as <a href="#tr_"><code>tr///</code></a>.  See <a href="../../lib/pods/perlop.html">the perlop manpage</a>.</p>
</dd>
</li>
</dl>

</body>

</html>

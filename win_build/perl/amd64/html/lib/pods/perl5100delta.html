<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../displayToc.js"></script>
<script language="JavaScript" src="../../tocParas.js"></script>
<script language="JavaScript" src="../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../scineplex.css">
<title>perldelta - what is new for perl 5.10.0</title>
<link rel="stylesheet" href="../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>


<!-- INDEX BEGIN -->
<div name="index">
<script>writelinks('__top__',2);</script>
<h1><a>perldelta - what is new for perl 5.10.0</a></h1>
<p><a name="__index__"></a></p>


<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#core_enhancements">Core Enhancements</a></li>
	<ul>

		<li><a href="#the_feature_pragma">The <code>feature</code> pragma</a></li>
		<li><a href="#new__e_command_line_switch">New <strong>-E</strong> command-line switch</a></li>
		<li><a href="#defined_or_operator">Defined-or operator</a></li>
		<li><a href="#switch_and_smart_match_operator">Switch and Smart Match operator</a></li>
		<li><a href="#regular_expressions">Regular expressions</a></li>
		<li><a href="#say__"><a href="../../lib/pods/perlfunc.html#say"><code>say()</code></a></a></li>
		<li><a href="#lexical___">Lexical <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a></a></li>
		<li><a href="#the___prototype">The <code>_</code> prototype</a></li>
		<li><a href="#unitcheck_blocks">UNITCHECK blocks</a></li>
		<li><a href="#new_pragma__mro">New Pragma, <code>mro</code></a></li>
		<li><a href="#readdir___may_return_a_short_filename_on_windows"><a href="../../lib/pods/perlfunc.html#readdir"><code>readdir()</code></a> may return a &quot;short filename&quot; on Windows</a></li>
		<li><a href="#readpipe___is_now_overridable"><a href="../../lib/pods/perlfunc.html#readpipe"><code>readpipe()</code></a> is now overridable</a></li>
		<li><a href="#default_argument_for_readline__">Default argument for <a href="../../lib/pods/perlfunc.html#readline"><code>readline()</code></a></a></li>
		<li><a href="#state___variables"><a href="../../lib/pods/perlfunc.html#state"><code>state()</code></a> variables</a></li>
		<li><a href="#stacked_filetest_operators">Stacked filetest operators</a></li>
		<li><a href="#universal__does__">UNIVERSAL::DOES()</a></li>
		<li><a href="#formats">Formats</a></li>
		<li><a href="#byte_order_modifiers_for_pack___and_unpack__">Byte-order modifiers for <a href="../../lib/pods/perlfunc.html#pack"><code>pack()</code></a> and <a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a></a></li>
		<li><a href="#no_version"><a href="../../lib/pods/perlfunc.html#no"><code>no VERSION</code></a></a></li>
		<li><a href="#chdir__chmod_and_chown_on_filehandles"><a href="../../lib/pods/perlfunc.html#chdir"><code>chdir</code></a>, <a href="../../lib/pods/perlfunc.html#chmod"><code>chmod</code></a> and <a href="../../lib/pods/perlfunc.html#chown"><code>chown</code></a> on filehandles</a></li>
		<li><a href="#os_groups">OS groups</a></li>
		<li><a href="#recursive_sort_subs">Recursive sort subs</a></li>
		<li><a href="#exceptions_in_constant_folding">Exceptions in constant folding</a></li>
		<li><a href="#source_filters_in__inc">Source filters in @INC</a></li>
		<li><a href="#new_internal_variables">New internal variables</a></li>
		<li><a href="#miscellaneous">Miscellaneous</a></li>
		<li><a href="#ucd_5_0_0">UCD 5.0.0</a></li>
		<li><a href="#mad">MAD</a></li>
		<li><a href="#kill___on_windows"><a href="../../lib/pods/perlfunc.html#kill"><code>kill()</code></a> on Windows</a></li>
	</ul>

	<li><a href="#incompatible_changes">Incompatible Changes</a></li>
	<ul>

		<li><a href="#packing_and_utf_8_strings">Packing and UTF-8 strings</a></li>
		<li><a href="#byte_character_count_feature_in_unpack__">Byte/character count feature in <a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a></a></li>
		<li><a href="#the____and____variables_have_been_removed">The <code>$*</code> and <code>$#</code> variables have been removed</a></li>
		<li><a href="#substr___lvalues_are_no_longer_fixed_length"><a href="../../lib/pods/perlvar.html#substr"><code>substr()</code></a> lvalues are no longer fixed-length</a></li>
		<li><a href="#parsing_of__f__">Parsing of <a href="../../lib/pods/perlrun.html#f"><code>-f _</code></a></a></li>
		<li><a href="#_unique"><code>:unique</code></a></li>
		<li><a href="#effect_of_pragmas_in_eval">Effect of pragmas in eval</a></li>
		<li><a href="#chdir_foo">chdir FOO</a></li>
		<li><a href="#handling_of__pmc_files">Handling of .pmc files</a></li>
		<li><a href="#__v_is_now_a_version_object_instead_of_a_v_string">$^V is now a <code>version</code> object instead of a v-string</a></li>
		<li><a href="#___and____in_patterns">@- and @+ in patterns</a></li>
		<li><a href="#_autoload_can_now_be_tainted">$AUTOLOAD can now be tainted</a></li>
		<li><a href="#tainting_and_printf">Tainting and printf</a></li>
		<li><a href="#undef_and_signal_handlers">undef and signal handlers</a></li>
		<li><a href="#strictures_and_dereferencing_in_defined__">strictures and dereferencing in <a href="../../lib/pods/perlfunc.html#defined"><code>defined()</code></a></a></li>
		<li><a href="#_p____has_been_removed"><a href="../../lib/pods/perlrun.html#p"><code>(?p{})</code></a> has been removed</a></li>
		<li><a href="#pseudo_hashes_have_been_removed">Pseudo-hashes have been removed</a></li>
		<li><a href="#removal_of_the_bytecode_compiler_and_of_perlcc">Removal of the bytecode compiler and of perlcc</a></li>
		<li><a href="#removal_of_the_jpl">Removal of the JPL</a></li>
		<li><a href="#recursive_inheritance_detected_earlier">Recursive inheritance detected earlier</a></li>
	</ul>

	<li><a href="#modules_and_pragmata">Modules and Pragmata</a></li>
	<ul>

		<li><a href="#upgrading_individual_core_modules">Upgrading individual core modules</a></li>
		<li><a href="#pragmata_changes">Pragmata Changes</a></li>
		<li><a href="#new_modules">New modules</a></li>
		<li><a href="#selected_changes_to_core_modules">Selected Changes to Core Modules</a></li>
	</ul>

	<li><a href="#utility_changes">Utility Changes</a></li>
	<li><a href="#new_documentation">New Documentation</a></li>
	<li><a href="#performance_enhancements">Performance Enhancements</a></li>
	<ul>

		<li><a href="#in_place_sorting">In-place sorting</a></li>
		<li><a href="#lexical_array_access">Lexical array access</a></li>
		<li><a href="#xs_assisted_swashget">XS-assisted SWASHGET</a></li>
		<li><a href="#constant_subroutines">Constant subroutines</a></li>
		<li><a href="#perl_dont_create_gvsv"><code>PERL_DONT_CREATE_GVSV</code></a></li>
		<li><a href="#weak_references_are_cheaper">Weak references are cheaper</a></li>
		<li><a href="#sort___enhancements"><a href="../../lib/pods/perlfunc.html#sort"><code>sort()</code></a> enhancements</a></li>
		<li><a href="#memory_optimisations">Memory optimisations</a></li>
		<li><a href="#utf_8_cache_optimisation">UTF-8 cache optimisation</a></li>
		<li><a href="#sloppy_stat_on_windows">Sloppy stat on Windows</a></li>
		<li><a href="#regular_expressions_optimisations">Regular expressions optimisations</a></li>
	</ul>

	<li><a href="#installation_and_configuration_improvements">Installation and Configuration Improvements</a></li>
	<ul>

		<li><a href="#configuration_improvements">Configuration improvements</a></li>
		<li><a href="#compilation_improvements">Compilation improvements</a></li>
		<li><a href="#installation_improvements">Installation improvements</a></li>
		<li><a href="#new_or_improved_platforms">New Or Improved Platforms</a></li>
	</ul>

	<li><a href="#selected_bug_fixes">Selected Bug Fixes</a></li>
	<li><a href="#new_or_changed_diagnostics">New or Changed Diagnostics</a></li>
	<li><a href="#changed_internals">Changed Internals</a></li>
	<ul>

		<li><a href="#reordering_of_svt___constants">Reordering of SVt_* constants</a></li>
		<li><a href="#elimination_of_svt_pvbm">Elimination of SVt_PVBM</a></li>
		<li><a href="#new_type_svt_bind">New type SVt_BIND</a></li>
		<li><a href="#removal_of_cpp_symbols">Removal of CPP symbols</a></li>
		<li><a href="#less_space_is_used_by_ops">Less space is used by ops</a></li>
		<li><a href="#new_parser">New parser</a></li>
		<li><a href="#use_of_const">Use of <code>const</code></a></li>
		<li><a href="#mathoms">Mathoms</a></li>
		<li><a href="#avflags_has_been_removed"><code>AvFLAGS</code> has been removed</a></li>
		<li><a href="#av___changes"><code>av_*</code> changes</a></li>
		<li><a href="#__h_and___h">$^H and %^H</a></li>
		<li><a href="#b___modules_inheritance_changed">B:: modules inheritance changed</a></li>
		<li><a href="#anonymous_hash_and_array_constructors">Anonymous hash and array constructors</a></li>
	</ul>

	<li><a href="#known_problems">Known Problems</a></li>
	<ul>

		<li><a href="#utf_8_problems">UTF-8 problems</a></li>
	</ul>

	<li><a href="#platform_specific_problems">Platform Specific Problems</a></li>
	<li><a href="#reporting_bugs">Reporting Bugs</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<p>perldelta - what is new for perl 5.10.0</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>This document describes the differences between the 5.8.8 release and
the 5.10.0 release.</p>
<p>Many of the bug fixes in 5.10.0 were already seen in the 5.8.X maintenance
releases; they are not duplicated here and are documented in the set of
man pages named perl58[1-8]?delta.</p>
<p>
</p>
<hr />
<h1><a name="core_enhancements">Core Enhancements</a></h1>
<p>
</p>
<h2><a name="the_feature_pragma">The <a href="#feature"><code>feature</code></a> pragma</a></h2>
<p>The <a href="#feature"><code>feature</code></a> pragma is used to enable new syntax that would break Perl's
backwards-compatibility with older releases of the language. It's a lexical
pragma, like <code>strict</code> or <a href="#warnings"><code>warnings</code></a>.</p>
<p>Currently the following new features are available: <code>switch</code> (adds a
switch statement), <a href="../../lib/pods/perlfunc.html#say"><code>say</code></a> (adds a <a href="../../lib/pods/perlfunc.html#say"><code>say</code></a> built-in function), and <a href="../../lib/pods/perlfunc.html#state"><code>state</code></a>
(adds a <a href="../../lib/pods/perlfunc.html#state"><code>state</code></a> keyword for declaring &quot;static&quot; variables). Those
features are described in their own sections of this document.</p>
<p>The <a href="#feature"><code>feature</code></a> pragma is also implicitly loaded when you require a minimal
perl version (with the <a href="../../lib/pods/perlfunc.html#use"><code>use VERSION</code></a> construct) greater than, or equal
to, 5.9.5. See <a href="../../lib/feature.html">the feature manpage</a> for details.</p>
<p>
</p>
<h2><a name="new__e_command_line_switch">New <strong>-E</strong> command-line switch</a></h2>
<p><strong>-E</strong> is equivalent to <strong>-e</strong>, but it implicitly enables all
optional features (like <code>use feature &quot;:5.10&quot;</code>).</p>
<p>
</p>
<h2><a name="defined_or_operator">Defined-or operator</a></h2>
<p>A new operator <code>//</code> (defined-or) has been implemented.
The following expression:</p>
<pre>
    $a // $b</pre>
<p>is merely equivalent to</p>
<pre>
   defined $a ? $a : $b</pre>
<p>and the statement</p>
<pre>
   <span class="variable">$c</span> <span class="operator">//=</span> <span class="variable">$d</span><span class="operator">;</span>
</pre>
<p>can now be used instead of</p>
<pre>
   <span class="variable">$c</span> <span class="operator">=</span> <span class="variable">$d</span> <span class="keyword">unless</span> <span class="keyword">defined</span> <span class="variable">$c</span><span class="operator">;</span>
</pre>
<p>The <code>//</code> operator has the same precedence and associativity as <code>||</code>.
Special care has been taken to ensure that this operator Do What You Mean
while not breaking old code, but some edge cases involving the empty
regular expression may now parse differently.  See <a href="../../lib/pods/perlop.html">the perlop manpage</a> for
details.</p>
<p>
</p>
<h2><a name="switch_and_smart_match_operator">Switch and Smart Match operator</a></h2>
<p>Perl 5 now has a switch statement. It's available when <code>use feature
'switch'</code> is in effect. This feature introduces three new keywords,
<code>given</code>, <code>when</code>, and <code>default</code>:</p>
<pre>
    <span class="keyword">given</span> <span class="operator">(</span><span class="variable">$foo</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">when</span> <span class="operator">(</span><span class="regex">/^abc/</span><span class="operator">)</span> <span class="operator">{</span> <span class="variable">$abc</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span> <span class="operator">}</span>
        <span class="keyword">when</span> <span class="operator">(</span><span class="regex">/^def/</span><span class="operator">)</span> <span class="operator">{</span> <span class="variable">$def</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span> <span class="operator">}</span>
        <span class="keyword">when</span> <span class="operator">(</span><span class="regex">/^xyz/</span><span class="operator">)</span> <span class="operator">{</span> <span class="variable">$xyz</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span> <span class="operator">}</span>
        <span class="keyword">default</span> <span class="operator">{</span> <span class="variable">$nothing</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span> <span class="operator">}</span>
    <span class="operator">}</span>
</pre>
<p>A more complete description of how Perl matches the switch variable
against the <code>when</code> conditions is given in <a href="../../lib/pods/perlsyn.html#switch_statements">Switch statements in the perlsyn manpage</a>.</p>
<p>This kind of match is called <em>smart match</em>, and it's also possible to use
it outside of switch statements, via the new <code>~~</code> operator. See
<a href="../../lib/pods/perlsyn.html#smart_matching_in_detail">Smart matching in detail in the perlsyn manpage</a>.</p>
<p>This feature was contributed by Robin Houston.</p>
<p>
</p>
<h2><a name="regular_expressions">Regular expressions</a></h2>
<dl>
<dt><strong><a name="recursive_patterns" class="item">Recursive Patterns</a></strong>

<dd>
<p>It is now possible to write recursive patterns without using the <code>(??{})</code>
construct. This new way is more efficient, and in many cases easier to
read.</p>
</dd>
<dd>
<p>Each capturing parenthesis can now be treated as an independent pattern
that can be entered by using the <code>(?PARNO)</code> syntax (<code>PARNO</code> standing for
&quot;parenthesis number&quot;). For example, the following pattern will match
nested balanced angle brackets:</p>
</dd>
<dd>
<pre>
    /
     ^                      # start of line
     (                      # start capture buffer 1
        &lt;                   #   match an opening angle bracket
        (?:                 #   match one of:
            (?&gt;             #     don't backtrack over the inside of this group
                [^&lt;&gt;]+      #       one or more non angle brackets
            )               #     end non backtracking group
        |                   #     ... or ...
            (?1)            #     recurse to bracket 1 and try it again
        )*                  #   0 or more times.
        &gt;                   #   match a closing angle bracket
     )                      # end capture buffer one
     $                      # end of line
    /x</pre>
</dd>
<dd>
<p>PCRE users should note that Perl's recursive regex feature allows
backtracking into a recursed pattern, whereas in PCRE the recursion is
atomic or &quot;possessive&quot; in nature.  As in the example above, you can
add (?&gt;) to control this selectively.  (Yves Orton)</p>
</dd>
</li>
<dt><strong><a name="named_capture_buffers" class="item">Named Capture Buffers</a></strong>

<dd>
<p>It is now possible to name capturing parenthesis in a pattern and refer to
the captured contents by name. The naming syntax is <a href="../../lib/pods/perlfunc.html#name"><code>(?&lt;NAME&gt;....)</code></a>.
It's possible to backreference to a named buffer with the <code>\k&lt;NAME&gt;</code>
syntax. In code, the new magical hashes <a href="../../lib/pods/perlvar.html#__"><code>%+</code></a> and <a href="../../lib/pods/perlvar.html#__"><code>%-</code></a> can be used to
access the contents of the capture buffers.</p>
</dd>
<dd>
<p>Thus, to replace all doubled chars with a single copy, one could write</p>
</dd>
<dd>
<pre>
    <span class="regex">s/(?&lt;letter&gt;.)\k&lt;letter&gt;/$+{letter}/g</span>
</pre>
</dd>
<dd>
<p>Only buffers with defined contents will be &quot;visible&quot; in the <a href="../../lib/pods/perlvar.html#__"><code>%+</code></a> hash, so
it's possible to do something like</p>
</dd>
<dd>
<pre>
    <span class="keyword">foreach</span> <span class="keyword">my</span> <span class="variable">$name</span> <span class="operator">(</span><span class="keyword">keys</span> <span class="variable">%+</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"content of buffer '</span><span class="variable">$name</span><span class="string">' is $+{</span><span class="variable">$name</span><span class="string">}\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</pre>
</dd>
<dd>
<p>The <a href="../../lib/pods/perlvar.html#__"><code>%-</code></a> hash is a bit more complete, since it will contain array refs
holding values from all capture buffers similarly named, if there should
be many of them.</p>
</dd>
<dd>
<p><a href="../../lib/pods/perlvar.html#__"><code>%+</code></a> and <a href="../../lib/pods/perlvar.html#__"><code>%-</code></a> are implemented as tied hashes through the new module
<code>Tie::Hash::NamedCapture</code>.</p>
</dd>
<dd>
<p>Users exposed to the .NET regex engine will find that the perl
implementation differs in that the numerical ordering of the buffers
is sequential, and not &quot;unnamed first, then named&quot;. Thus in the pattern</p>
</dd>
<dd>
<pre>
   /(A)(?&lt;B&gt;B)(C)(?&lt;D&gt;D)/</pre>
</dd>
<dd>
<p>$1 will be 'A', $2 will be 'B', $3 will be 'C' and $4 will be 'D' and not
$1 is 'A', $2 is 'C' and $3 is 'B' and $4 is 'D' that a .NET programmer
would expect. This is considered a feature. :-) (Yves Orton)</p>
</dd>
</li>
<dt><strong><a name="possessive_quantifiers" class="item">Possessive Quantifiers</a></strong>

<dd>
<p>Perl now supports the &quot;possessive quantifier&quot; syntax of the &quot;atomic match&quot;
pattern. Basically a possessive quantifier matches as much as it can and never
gives any back. Thus it can be used to control backtracking. The syntax is
similar to non-greedy matching, except instead of using a '?' as the modifier
the '+' is used. Thus <code>?+</code>, <code>*+</code>, <code>++</code>, <code>{min,max}+</code> are now legal
quantifiers. (Yves Orton)</p>
</dd>
</li>
<dt><strong><a name="backtracking_control_verbs" class="item">Backtracking control verbs</a></strong>

<dd>
<p>The regex engine now supports a number of special-purpose backtrack
control verbs: (*THEN), (*PRUNE), (*MARK), (*SKIP), (*COMMIT), (*FAIL)
and (*ACCEPT). See <a href="../../lib/pods/perlre.html">the perlre manpage</a> for their descriptions. (Yves Orton)</p>
</dd>
</li>
<dt><strong><a name="relative_backreferences" class="item">Relative backreferences</a></strong>

<dd>
<p>A new syntax <code>\g{N}</code> or <code>\gN</code> where &quot;N&quot; is a decimal integer allows a
safer form of back-reference notation as well as allowing relative
backreferences. This should make it easier to generate and embed patterns
that contain backreferences. See <a href="../../lib/pods/perlre.html#capture_buffers">Capture buffers in the perlre manpage</a>. (Yves Orton)</p>
</dd>
</li>
<dt><strong><a name="k_escape" class="item"><code>\K</code> escape</a></strong>

<dd>
<p>The functionality of Jeff Pinyan's module Regexp::Keep has been added to
the core. In regular expressions you can now use the special escape <code>\K</code>
as a way to do something like floating length positive lookbehind. It is
also useful in substitutions like:</p>
</dd>
<dd>
<pre>
  s/(foo)bar/$1/g</pre>
</dd>
<dd>
<p>that can now be converted to</p>
</dd>
<dd>
<pre>
  s/foo\Kbar//g</pre>
</dd>
<dd>
<p>which is much more efficient. (Yves Orton)</p>
</dd>
</li>
<dt><strong><a name="vertical_and_horizontal_whitespace_and_linebreak" class="item">Vertical and horizontal whitespace, and linebreak</a></strong>

<dd>
<p>Regular expressions now recognize the <a href="../../lib/pods/perlrun.html#v"><code>\v</code></a> and <a href="../../lib/pods/perlrun.html#h"><code>\h</code></a> escapes that match
vertical and horizontal whitespace, respectively. <a href="../../lib/pods/perlrun.html#v"><code>\V</code></a> and <code>\H</code>
logically match their complements.</p>
</dd>
<dd>
<p><code>\R</code> matches a generic linebreak, that is, vertical whitespace, plus
the multi-character sequence <code>&quot;\x0D\x0A&quot;</code>.</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="say__"><a href="../../lib/pods/perlfunc.html#say"><code>say()</code></a></a></h2>
<p><a href="../../lib/pods/perlfunc.html#say"><code>say()</code></a> is a new built-in, only available when <code>use feature 'say'</code> is in
effect, that is similar to <a href="../../lib/pods/perlfunc.html#print"><code>print()</code></a>, but that implicitly appends a newline
to the printed string. See <a href="../../lib/pods/perlfunc.html#say">say in the perlfunc manpage</a>. (Robin Houston)</p>
<p>
</p>
<h2><a name="lexical___">Lexical <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a></a></h2>
<p>The default variable <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> can now be lexicalized, by declaring it like
any other lexical variable, with a simple</p>
<pre>
    <span class="keyword">my</span> <span class="variable">$_</span><span class="operator">;</span>
</pre>
<p>The operations that default on <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> will use the lexically-scoped
version of <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> when it exists, instead of the global <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
<p>In a <a href="../../lib/pods/perlfunc.html#map"><code>map</code></a> or a <a href="../../lib/pods/perlfunc.html#grep"><code>grep</code></a> block, if <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> was previously my'ed, then the
<a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> inside the block is lexical as well (and scoped to the block).</p>
<p>In a scope where <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> has been lexicalized, you can still have access to
the global version of <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> by using <code>$::_</code>, or, more simply, by
overriding the lexical declaration with <a href="../../lib/pods/perlfunc.html#our"><code>our $_</code></a>. (Rafael Garcia-Suarez)</p>
<p>
</p>
<h2><a name="the___prototype">The <code>_</code> prototype</a></h2>
<p>A new prototype character has been added. <code>_</code> is equivalent to <code>$</code> but
defaults to <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> if the corresponding argument isn't supplied. (both <code>$</code>
and <code>_</code> denote a scalar). Due to the optional nature of the argument, you
can only use it at the end of a prototype, or before a semicolon.</p>
<p>This has a small incompatible consequence: the <a href="../../lib/pods/perlfunc.html#prototype"><code>prototype()</code></a> function has
been adjusted to return <code>_</code> for some built-ins in appropriate cases (for
example, <a href="../../lib/pods/perlfunc.html#prototype"><code>prototype('CORE::rmdir')</code></a>). (Rafael Garcia-Suarez)</p>
<p>
</p>
<h2><a name="unitcheck_blocks">UNITCHECK blocks</a></h2>
<p><code>UNITCHECK</code>, a new special code block has been introduced, in addition to
<code>BEGIN</code>, <code>CHECK</code>, <code>INIT</code> and <code>END</code>.</p>
<p><code>CHECK</code> and <code>INIT</code> blocks, while useful for some specialized purposes,
are always executed at the transition between the compilation and the
execution of the main program, and thus are useless whenever code is
loaded at runtime. On the other hand, <code>UNITCHECK</code> blocks are executed
just after the unit which defined them has been compiled. See <a href="../../lib/pods/perlmod.html">the perlmod manpage</a>
for more information. (Alex Gough)</p>
<p>
</p>
<h2><a name="new_pragma__mro">New Pragma, <a href="#mro"><code>mro</code></a></a></h2>
<p>A new pragma, <a href="#mro"><code>mro</code></a> (for Method Resolution Order) has been added. It
permits to switch, on a per-class basis, the algorithm that perl uses to
find inherited methods in case of a multiple inheritance hierarchy. The
default MRO hasn't changed (DFS, for Depth First Search). Another MRO is
available: the C3 algorithm. See <a href="../../lib/mro.html">the mro manpage</a> for more information.
(Brandon Black)</p>
<p>Note that, due to changes in the implementation of class hierarchy search,
code that used to undef the <code>*ISA</code> glob will most probably break. Anyway,
undef'ing <code>*ISA</code> had the side-effect of removing the magic on the @ISA
array and should not have been done in the first place. Also, the
cache <code>*::ISA::CACHE::</code> no longer exists; to force reset the @ISA cache,
you now need to use the <a href="#mro"><code>mro</code></a> API, or more simply to assign to @ISA
(e.g. with <code>@ISA = @ISA</code>).</p>
<p>
</p>
<h2><a name="readdir___may_return_a_short_filename_on_windows"><a href="#readdir"><code>readdir()</code></a> may return a &quot;short filename&quot; on Windows</a></h2>
<p>The <a href="#readdir"><code>readdir()</code></a> function may return a &quot;short filename&quot; when the long
filename contains characters outside the ANSI codepage.  Similarly
Cwd::cwd() may return a short directory name, and <a href="../../lib/pods/perlfunc.html#glob"><code>glob()</code></a> may return short
names as well.  On the NTFS file system these short names can always be
represented in the ANSI codepage.  This will not be true for all other file
system drivers; e.g. the FAT filesystem stores short filenames in the OEM
codepage, so some files on FAT volumes remain unaccessible through the
ANSI APIs.</p>
<p>Similarly, $^X, @INC, and $ENV{PATH} are preprocessed at startup to make
sure all paths are valid in the ANSI codepage (if possible).</p>
<p>The Win32::GetLongPathName() function now returns the UTF-8 encoded
correct long file name instead of using replacement characters to force
the name into the ANSI codepage.  The new Win32::GetANSIPathName()
function can be used to turn a long pathname into a short one only if the
long one cannot be represented in the ANSI codepage.</p>
<p>Many other functions in the <code>Win32</code> module have been improved to accept
UTF-8 encoded arguments.  Please see <a href="../../lib/Win32.html">the Win32 manpage</a> for details.</p>
<p>
</p>
<h2><a name="readpipe___is_now_overridable"><a href="../../lib/pods/perlfunc.html#readpipe"><code>readpipe()</code></a> is now overridable</a></h2>
<p>The built-in function <a href="../../lib/pods/perlfunc.html#readpipe"><code>readpipe()</code></a> is now overridable. Overriding it permits
also to override its operator counterpart, <a href="../../lib/pods/perlfunc.html#qx_"><code>qx//</code></a> (a.k.a. <code>``</code>).
Moreover, it now defaults to <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> if no argument is provided. (Rafael
Garcia-Suarez)</p>
<p>
</p>
<h2><a name="default_argument_for_readline__">Default argument for <a href="../../lib/pods/perlfunc.html#readline"><code>readline()</code></a></a></h2>
<p><a href="../../lib/pods/perlfunc.html#readline"><code>readline()</code></a> now defaults to <code>*ARGV</code> if no argument is provided. (Rafael
Garcia-Suarez)</p>
<p>
</p>
<h2><a name="state___variables"><a href="../../lib/pods/perlfunc.html#state"><code>state()</code></a> variables</a></h2>
<p>A new class of variables has been introduced. State variables are similar
to <a href="#my"><code>my</code></a> variables, but are declared with the <a href="../../lib/pods/perlfunc.html#state"><code>state</code></a> keyword in place of
<a href="#my"><code>my</code></a>. They're visible only in their lexical scope, but their value is
persistent: unlike <a href="#my"><code>my</code></a> variables, they're not undefined at scope entry,
but retain their previous value. (Rafael Garcia-Suarez, Nicholas Clark)</p>
<p>To use state variables, one needs to enable them by using</p>
<pre>
    <span class="keyword">use</span> <span class="variable">feature</span> <span class="string">'state'</span><span class="operator">;</span>
</pre>
<p>or by using the <a href="../../lib/pods/perlguts.html#e"><code>-E</code></a> command-line switch in one-liners.
See <a href="../../lib/pods/perlsub.html#persistent_variables_via_state__">Persistent variables via state() in the perlsub manpage</a>.</p>
<p>
</p>
<h2><a name="stacked_filetest_operators">Stacked filetest operators</a></h2>
<p>As a new form of syntactic sugar, it's now possible to stack up filetest
operators. You can now write <code>-f -w -x $file</code> in a row to mean
<code>-x $file &amp;&amp; -w _ &amp;&amp; -f _</code>. See <a href="../../lib/pods/perlfunc.html#_x">-X in the perlfunc manpage</a>.</p>
<p>
</p>
<h2><a name="universal__does__">UNIVERSAL::DOES()</a></h2>
<p>The <code>UNIVERSAL</code> class has a new method, <code>DOES()</code>. It has been added to
solve semantic problems with the <code>isa()</code> method. <code>isa()</code> checks for
inheritance, while <code>DOES()</code> has been designed to be overridden when
module authors use other types of relations between classes (in addition
to inheritance). (chromatic)</p>
<p>See <a href="../../lib/UNIVERSAL.html#_obj__does__role__">$obj-</a>DOES( ROLE ) in the UNIVERSAL manpage&gt;.</p>
<p>
</p>
<h2><a name="formats">Formats</a></h2>
<p>Formats were improved in several ways. A new field, <code>^*</code>, can be used for
variable-width, one-line-at-a-time text. Null characters are now handled
correctly in picture lines. Using <code>@#</code> and <code>~~</code> together will now
produce a compile-time error, as those format fields are incompatible.
<a href="../../lib/pods/perlform.html">the perlform manpage</a> has been improved, and miscellaneous bugs fixed.</p>
<p>
</p>
<h2><a name="byte_order_modifiers_for_pack___and_unpack__">Byte-order modifiers for <a href="../../lib/pods/perlfunc.html#pack"><code>pack()</code></a> and <a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a></a></h2>
<p>There are two new byte-order modifiers, <code>&gt;</code> (big-endian) and <code>&lt;</code>
(little-endian), that can be appended to most <a href="../../lib/pods/perlfunc.html#pack"><code>pack()</code></a> and <a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a> template
characters and groups to force a certain byte-order for that type or group.
See <a href="../../lib/pods/perlfunc.html#pack">pack in the perlfunc manpage</a> and <a href="../../lib/pods/perlpacktut.html">the perlpacktut manpage</a> for details.</p>
<p>
</p>
<h2><a name="no_version"><a href="../../lib/pods/perlfunc.html#no"><code>no VERSION</code></a></a></h2>
<p>You can now use <a href="../../lib/pods/perlfunc.html#no"><code>no</code></a> followed by a version number to specify that you
want to use a version of perl older than the specified one.</p>
<p>
</p>
<h2><a name="chdir__chmod_and_chown_on_filehandles"><a href="../../lib/pods/perlfunc.html#chdir"><code>chdir</code></a>, <a href="../../lib/pods/perlfunc.html#chmod"><code>chmod</code></a> and <a href="../../lib/pods/perlfunc.html#chown"><code>chown</code></a> on filehandles</a></h2>
<p><a href="../../lib/pods/perlfunc.html#chdir"><code>chdir</code></a>, <a href="../../lib/pods/perlfunc.html#chmod"><code>chmod</code></a> and <a href="../../lib/pods/perlfunc.html#chown"><code>chown</code></a> can now work on filehandles as well as
filenames, if the system supports respectively <code>fchdir</code>, <code>fchmod</code> and
<code>fchown</code>, thanks to a patch provided by Gisle Aas.</p>
<p>
</p>
<h2><a name="os_groups">OS groups</a></h2>
<p><a href="../../lib/pods/perlvar.html#__"><code>$(</code></a> and <a href="../../lib/pods/perlvar.html#__"><code>$)</code></a> now return groups in the order where the OS returns them,
thanks to Gisle Aas. This wasn't previously the case.</p>
<p>
</p>
<h2><a name="recursive_sort_subs">Recursive sort subs</a></h2>
<p>You can now use recursive subroutines with <a href="../../lib/pods/perlfunc.html#sort"><code>sort()</code></a>, thanks to Robin Houston.</p>
<p>
</p>
<h2><a name="exceptions_in_constant_folding">Exceptions in constant folding</a></h2>
<p>The constant folding routine is now wrapped in an exception handler, and
if folding throws an exception (such as attempting to evaluate 0/0), perl
now retains the current optree, rather than aborting the whole program.
Without this change, programs would not compile if they had expressions that
happened to generate exceptions, even though those expressions were in code
that could never be reached at runtime. (Nicholas Clark, Dave Mitchell)</p>
<p>
</p>
<h2><a name="source_filters_in__inc">Source filters in @INC</a></h2>
<p>It's possible to enhance the mechanism of subroutine hooks in @INC by
adding a source filter on top of the filehandle opened and returned by the
hook. This feature was planned a long time ago, but wasn't quite working
until now. See <a href="../../lib/pods/perlfunc.html#require">require in the perlfunc manpage</a> for details. (Nicholas Clark)</p>
<p>
</p>
<h2><a name="new_internal_variables">New internal variables</a></h2>
<dl>
<dt><strong><a name="___re_debug_flags_" class="item"><code>${^RE_DEBUG_FLAGS}</code></a></strong>

<dd>
<p>This variable controls what debug flags are in effect for the regular
expression engine when running under <code>use re &quot;debug&quot;</code>. See <a href="../../lib/re.html">the re manpage</a> for
details.</p>
</dd>
</li>
<dt><strong><a name="___child_error_native_" class="item"><code>${^CHILD_ERROR_NATIVE}</code></a></strong>

<dd>
<p>This variable gives the native status returned by the last pipe close,
backtick command, successful call to <a href="../../lib/pods/perlfunc.html#wait"><code>wait()</code></a> or <a href="../../lib/pods/perlfunc.html#waitpid"><code>waitpid()</code></a>, or from the
<a href="../../lib/pods/perlfunc.html#system"><code>system()</code></a> operator. See <a href="../../lib/pods/perlrun.html">the perlrun manpage</a> for details. (Contributed by Gisle Aas.)</p>
</dd>
</li>
<dt><strong><a name="___re_trie_maxbuf_" class="item"><code>${^RE_TRIE_MAXBUF}</code></a></strong>

<dd>
<p>See <a href="#trie_optimisation_of_literal_string_alternations">Trie optimisation of literal string alternations</a>.</p>
</dd>
</li>
<dt><strong><a name="___win32_sloppy_stat_" class="item"><code>${^WIN32_SLOPPY_STAT}</code></a></strong>

<dd>
<p>See <a href="#sloppy_stat_on_windows">Sloppy stat on Windows</a>.</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="miscellaneous">Miscellaneous</a></h2>
<p><a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a> now defaults to unpacking the <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> variable.</p>
<p><a href="../../lib/pods/perlfunc.html#mkdir"><code>mkdir()</code></a> without arguments now defaults to <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>.</p>
<p>The internal dump output has been improved, so that non-printable characters
such as newline and backspace are output in <a href="../../lib/pods/perlrun.html#x"><code>\x</code></a> notation, rather than
octal.</p>
<p>The <strong>-C</strong> option can no longer be used on the <code>#!</code> line. It wasn't
working there anyway, since the standard streams are already set up
at this point in the execution of the perl interpreter. You can use
<a href="../../lib/pods/perlfunc.html#binmode"><code>binmode()</code></a> instead to get the desired behaviour.</p>
<p>
</p>
<h2><a name="ucd_5_0_0">UCD 5.0.0</a></h2>
<p>The copy of the Unicode Character Database included in Perl 5 has
been updated to version 5.0.0.</p>
<p>
</p>
<h2><a name="mad">MAD</a></h2>
<p>MAD, which stands for <em>Miscellaneous Attribute Decoration</em>, is a
still-in-development work leading to a Perl 5 to Perl 6 converter. To
enable it, it's necessary to pass the argument <code>-Dmad</code> to Configure. The
obtained perl isn't binary compatible with a regular perl 5.10, and has
space and speed penalties; moreover not all regression tests still pass
with it. (Larry Wall, Nicholas Clark)</p>
<p>
</p>
<h2><a name="kill___on_windows"><a href="../../lib/pods/perlfunc.html#kill"><code>kill()</code></a> on Windows</a></h2>
<p>On Windows platforms, <a href="../../lib/pods/perlfunc.html#kill"><code>kill(-9, $pid)</code></a> now kills a process tree.
(On UNIX, this delivers the signal to all processes in the same process
group.)</p>
<p>
</p>
<hr />
<h1><a name="incompatible_changes">Incompatible Changes</a></h1>
<p>
</p>
<h2><a name="packing_and_utf_8_strings">Packing and UTF-8 strings</a></h2>
<p>The semantics of <a href="../../lib/pods/perlfunc.html#pack"><code>pack()</code></a> and <a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a> regarding UTF-8-encoded data has been
changed. Processing is now by default character per character instead of
byte per byte on the underlying encoding. Notably, code that used things
like <a href="../../lib/pods/perlfunc.html#pack"><code>pack(&quot;a*&quot;, $string)</code></a> to see through the encoding of string will now
simply get back the original $string. Packed strings can also get upgraded
during processing when you store upgraded characters. You can get the old
behaviour by using <code>use bytes</code>.</p>
<p>To be consistent with <a href="../../lib/pods/perlfunc.html#pack"><code>pack()</code></a>, the <code>C0</code> in <a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a> templates indicates
that the data is to be processed in character mode, i.e. character by
character; on the contrary, <code>U0</code> in <a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a> indicates UTF-8 mode, where
the packed string is processed in its UTF-8-encoded Unicode form on a byte
by byte basis. This is reversed with regard to perl 5.8.X, but now consistent
between <a href="../../lib/pods/perlfunc.html#pack"><code>pack()</code></a> and <a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a>.</p>
<p>Moreover, <code>C0</code> and <code>U0</code> can also be used in <a href="../../lib/pods/perlfunc.html#pack"><code>pack()</code></a> templates to specify
respectively character and byte modes.</p>
<p><code>C0</code> and <code>U0</code> in the middle of a pack or unpack format now switch to the
specified encoding mode, honoring parens grouping. Previously, parens were
ignored.</p>
<p>Also, there is a new <a href="../../lib/pods/perlfunc.html#pack"><code>pack()</code></a> character format, <a href="../../lib/pods/perlrun.html#w"><code>W</code></a>, which is intended to
replace the old <code>C</code>. <code>C</code> is kept for unsigned chars coded as bytes in
the strings internal representation. <a href="../../lib/pods/perlrun.html#w"><code>W</code></a> represents unsigned (logical)
character values, which can be greater than 255. It is therefore more
robust when dealing with potentially UTF-8-encoded data (as <code>C</code> will wrap
values outside the range 0..255, and not respect the string encoding).</p>
<p>In practice, that means that pack formats are now encoding-neutral, except
<code>C</code>.</p>
<p>For consistency, <a href="../../lib/pods/perlguts.html#a"><code>A</code></a> in <a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a> format now trims all Unicode whitespace
from the end of the string. Before perl 5.9.2, it used to strip only the
classical ASCII space characters.</p>
<p>
</p>
<h2><a name="byte_character_count_feature_in_unpack__">Byte/character count feature in <a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a></a></h2>
<p>A new <a href="../../lib/pods/perlfunc.html#unpack"><code>unpack()</code></a> template character, <code>&quot;.&quot;</code>, returns the number of bytes or
characters (depending on the selected encoding mode, see above) read so far.</p>
<p>
</p>
<h2><a name="the____and____variables_have_been_removed">The <code>$*</code> and <code>$#</code> variables have been removed</a></h2>
<p><code>$*</code>, which was deprecated in favor of the <a href="../../lib/pods/perlrun.html#s"><code>/s</code></a> and <a href="../../lib/pods/perlguts.html#m"><code>/m</code></a> regexp
modifiers, has been removed.</p>
<p>The deprecated <code>$#</code> variable (output format for numbers) has been
removed.</p>
<p>Two new severe warnings, <code>$#/$* is no longer supported</code>, have been added.</p>
<p>
</p>
<h2><a name="substr___lvalues_are_no_longer_fixed_length"><a href="../../lib/pods/perlvar.html#substr"><code>substr()</code></a> lvalues are no longer fixed-length</a></h2>
<p>The lvalues returned by the three argument form of <a href="../../lib/pods/perlvar.html#substr"><code>substr()</code></a> used to be a
&quot;fixed length window&quot; on the original string. In some cases this could
cause surprising action at distance or other undefined behaviour. Now the
length of the window adjusts itself to the length of the string assigned to
it.</p>
<p>
</p>
<h2><a name="parsing_of__f__">Parsing of <a href="../../lib/pods/perlrun.html#f"><code>-f _</code></a></a></h2>
<p>The identifier <code>_</code> is now forced to be a bareword after a filetest
operator. This solves a number of misparsing issues when a global <code>_</code>
subroutine is defined.</p>
<p>
</p>
<h2><a name="_unique"><code>:unique</code></a></h2>
<p>The <code>:unique</code> attribute has been made a no-op, since its current
implementation was fundamentally flawed and not threadsafe.</p>
<p>
</p>
<h2><a name="effect_of_pragmas_in_eval">Effect of pragmas in eval</a></h2>
<p>The compile-time value of the <a href="../../lib/pods/perlvar.html#__h"><code>%^H</code></a> hint variable can now propagate into
eval(&quot;&quot;)uated code. This makes it more useful to implement lexical
pragmas.</p>
<p>As a side-effect of this, the overloaded-ness of constants now propagates
into eval(&quot;&quot;).</p>
<p>
</p>
<h2><a name="chdir_foo">chdir FOO</a></h2>
<p>A bareword argument to <a href="../../lib/pods/perlfunc.html#chdir"><code>chdir()</code></a> is now recognized as a file handle.
Earlier releases interpreted the bareword as a directory name.
(Gisle Aas)</p>
<p>
</p>
<h2><a name="handling_of__pmc_files">Handling of .pmc files</a></h2>
<p>An old feature of perl was that before <a href="#require"><code>require</code></a> or <a href="../../lib/pods/perlfunc.html#use"><code>use</code></a> look for a
file with a <em class="file">.pm</em> extension, they will first look for a similar filename
with a <em class="file">.pmc</em> extension. If this file is found, it will be loaded in
place of any potentially existing file ending in a <em class="file">.pm</em> extension.</p>
<p>Previously, <em class="file">.pmc</em> files were loaded only if more recent than the
matching <em class="file">.pm</em> file. Starting with 5.9.4, they'll be always loaded if
they exist.</p>
<p>
</p>
<h2><a name="__v_is_now_a_version_object_instead_of_a_v_string">$^V is now a <a href="#version"><code>version</code></a> object instead of a v-string</a></h2>
<p>$^V can still be used with the <code>%vd</code> format in printf, but any
character-level operations will now access the string representation
of the <a href="#version"><code>version</code></a> object and not the ordinals of a v-string.
Expressions like <a href="../../lib/pods/perlvar.html#substr"><code>substr($^V, 0, 2)</code></a> or <code>split //, $^V</code>
no longer work and must be rewritten.</p>
<p>
</p>
<h2><a name="___and____in_patterns">@- and @+ in patterns</a></h2>
<p>The special arrays <a href="../../lib/pods/perlvar.html#__"><code>@-</code></a> and <a href="../../lib/pods/perlvar.html#__"><code>@+</code></a> are no longer interpolated in regular
expressions. (Sadahiro Tomoyuki)</p>
<p>
</p>
<h2><a name="_autoload_can_now_be_tainted">$AUTOLOAD can now be tainted</a></h2>
<p>If you call a subroutine by a tainted name, and if it defers to an
AUTOLOAD function, then $AUTOLOAD will be (correctly) tainted.
(Rick Delaney)</p>
<p>
</p>
<h2><a name="tainting_and_printf">Tainting and printf</a></h2>
<p>When perl is run under taint mode, <a href="../../lib/pods/perlfunc.html#printf"><code>printf()</code></a> and <a href="../../lib/pods/perlfunc.html#sprintf"><code>sprintf()</code></a> will now
reject any tainted format argument. (Rafael Garcia-Suarez)</p>
<p>
</p>
<h2><a name="undef_and_signal_handlers">undef and signal handlers</a></h2>
<p>Undefining or deleting a signal handler via <code>undef $SIG{FOO}</code> is now
equivalent to setting it to <code>'DEFAULT'</code>. (Rafael Garcia-Suarez)</p>
<p>
</p>
<h2><a name="strictures_and_dereferencing_in_defined__">strictures and dereferencing in <a href="../../lib/pods/perlfunc.html#defined"><code>defined()</code></a></a></h2>
<p><code>use strict 'refs'</code> was ignoring taking a hard reference in an argument
to <a href="../../lib/pods/perlfunc.html#defined"><code>defined()</code></a>, as in :</p>
<pre>
    <span class="keyword">use</span> <span class="variable">strict</span> <span class="string">'refs'</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$x</span> <span class="operator">=</span> <span class="string">'foo'</span><span class="operator">;</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">defined</span> <span class="variable">$$x</span><span class="operator">)</span> <span class="operator">{...}</span>
</pre>
<p>This now correctly produces the run-time error <code>Can't use string as a
SCALAR ref while &quot;strict refs&quot; in use</code>.</p>
<p><code>defined @$foo</code> and <code>defined %$bar</code> are now also subject to <code>strict
'refs'</code> (that is, <code>$foo</code> and <code>$bar</code> shall be proper references there.)
(<a href="../../lib/pods/perlfunc.html#defined"><code>defined(@foo)</code></a> and <a href="../../lib/pods/perlfunc.html#defined"><code>defined(%bar)</code></a> are discouraged constructs anyway.)
(Nicholas Clark)</p>
<p>
</p>
<h2><a name="_p____has_been_removed"><a href="../../lib/pods/perlrun.html#p"><code>(?p{})</code></a> has been removed</a></h2>
<p>The regular expression construct <a href="../../lib/pods/perlrun.html#p"><code>(?p{})</code></a>, which was deprecated in perl
5.8, has been removed. Use <code>(??{})</code> instead. (Rafael Garcia-Suarez)</p>
<p>
</p>
<h2><a name="pseudo_hashes_have_been_removed">Pseudo-hashes have been removed</a></h2>
<p>Support for pseudo-hashes has been removed from Perl 5.9. (The <code>fields</code>
pragma remains here, but uses an alternate implementation.)</p>
<p>
</p>
<h2><a name="removal_of_the_bytecode_compiler_and_of_perlcc">Removal of the bytecode compiler and of perlcc</a></h2>
<p><code>perlcc</code>, the byteloader and the supporting modules (B::C, B::CC,
B::Bytecode, etc.) are no longer distributed with the perl sources. Those
experimental tools have never worked reliably, and, due to the lack of
volunteers to keep them in line with the perl interpreter developments, it
was decided to remove them instead of shipping a broken version of those.
The last version of those modules can be found with perl 5.9.4.</p>
<p>However the B compiler framework stays supported in the perl core, as with
the more useful modules it has permitted (among others, B::Deparse and
B::Concise).</p>
<p>
</p>
<h2><a name="removal_of_the_jpl">Removal of the JPL</a></h2>
<p>The JPL (Java-Perl Lingo) has been removed from the perl sources tarball.</p>
<p>
</p>
<h2><a name="recursive_inheritance_detected_earlier">Recursive inheritance detected earlier</a></h2>
<p>Perl will now immediately throw an exception if you modify any package's
<code>@ISA</code> in such a way that it would cause recursive inheritance.</p>
<p>Previously, the exception would not occur until Perl attempted to make
use of the recursive inheritance while resolving a method or doing a
<code>$foo-&gt;isa($bar)</code> lookup.</p>
<p>
</p>
<hr />
<h1><a name="modules_and_pragmata">Modules and Pragmata</a></h1>
<p>
</p>
<h2><a name="upgrading_individual_core_modules">Upgrading individual core modules</a></h2>
<p>Even more core modules are now also available separately through the
CPAN.  If you wish to update one of these modules, you don't need to
wait for a new perl release.  From within the cpan shell, running the
'r' command will report on modules with upgrades available.  See
<code>perldoc CPAN</code> for more information.</p>
<p>
</p>
<h2><a name="pragmata_changes">Pragmata Changes</a></h2>
<dl>
<dt><strong><a name="feature" class="item"><code>feature</code></a></strong>

<dd>
<p>The new pragma <a href="#feature"><code>feature</code></a> is used to enable new features that might break
old code. See <a href="#the_c_feature__pragma">The <a href="#feature"><code>feature</code></a> pragma</a> above.</p>
</dd>
</li>
<dt><strong><a name="mro" class="item"><code>mro</code></a></strong>

<dd>
<p>This new pragma enables to change the algorithm used to resolve inherited
methods. See <a href="#new_pragma__c_mro_">New Pragma, <a href="#mro"><code>mro</code></a></a> above.</p>
</dd>
</li>
<dt><strong><a name="scoping_of_the_sort_pragma" class="item">Scoping of the <a href="../../lib/pods/perlfunc.html#sort"><code>sort</code></a> pragma</a></strong>

<dd>
<p>The <a href="../../lib/pods/perlfunc.html#sort"><code>sort</code></a> pragma is now lexically scoped. Its effect used to be global.</p>
</dd>
</li>
<dt><strong><a name="scoping_of_bignum_bigint_bigrat" class="item">Scoping of <code>bignum</code>, <code>bigint</code>, <code>bigrat</code></a></strong>

<dd>
<p>The three numeric pragmas <code>bignum</code>, <code>bigint</code> and <code>bigrat</code> are now
lexically scoped. (Tels)</p>
</dd>
</li>
<dt><strong><a name="base" class="item"><code>base</code></a></strong>

<dd>
<p>The <a href="#base"><code>base</code></a> pragma now warns if a class tries to inherit from itself.
(Curtis &quot;Ovid&quot; Poe)</p>
</dd>
</li>
<dt><strong><a name="strict_and_warnings" class="item"><code>strict</code> and <a href="#warnings"><code>warnings</code></a></a></strong>

<dd>
<p><code>strict</code> and <a href="#warnings"><code>warnings</code></a> will now complain loudly if they are loaded via
incorrect casing (as in <code>use Strict;</code>). (Johan Vromans)</p>
</dd>
</li>
<dt><strong><a name="version" class="item"><code>version</code></a></strong>

<dd>
<p>The <a href="#version"><code>version</code></a> module provides support for version objects.</p>
</dd>
</li>
<dt><strong><a name="warnings" class="item"><code>warnings</code></a></strong>

<dd>
<p>The <a href="#warnings"><code>warnings</code></a> pragma doesn't load <code>Carp</code> anymore. That means that code
that used <code>Carp</code> routines without having loaded it at compile time might
need to be adjusted; typically, the following (faulty) code won't work
anymore, and will require parentheses to be added after the function name:</p>
</dd>
<dd>
<pre>
    <span class="keyword">use</span> <span class="variable">warnings</span><span class="operator">;</span>
    <span class="keyword">require</span> <span class="variable">Carp</span><span class="operator">;</span>
    <span class="variable">Carp::confess</span> <span class="string">'argh'</span><span class="operator">;</span>
</pre>
</dd>
</li>
<dt><strong><a name="less" class="item"><code>less</code></a></strong>

<dd>
<p><a href="#less"><code>less</code></a> now does something useful (or at least it tries to). In fact, it
has been turned into a lexical pragma. So, in your modules, you can now
test whether your users have requested to use less CPU, or less memory,
less magic, or maybe even less fat. See <a href="../../lib/less.html">the less manpage</a> for more. (Joshua ben
Jore)</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="new_modules">New modules</a></h2>
<ul>
<li>
<p><code>encoding::warnings</code>, by Audrey Tang, is a module to emit warnings
whenever an ASCII character string containing high-bit bytes is implicitly
converted into UTF-8. It's a lexical pragma since Perl 5.9.4; on older
perls, its effect is global.</p>
</li>
<li>
<p><code>Module::CoreList</code>, by Richard Clamp, is a small handy module that tells
you what versions of core modules ship with any versions of Perl 5. It
comes with a command-line frontend, <a href="#corelist"><code>corelist</code></a>.</p>
</li>
<li>
<p><code>Math::BigInt::FastCalc</code> is an XS-enabled, and thus faster, version of
<code>Math::BigInt::Calc</code>.</p>
</li>
<li>
<p><code>Compress::Zlib</code> is an interface to the zlib compression library. It
comes with a bundled version of zlib, so having a working zlib is not a
prerequisite to install it. It's used by <code>Archive::Tar</code> (see below).</p>
</li>
<li>
<p><code>IO::Zlib</code> is an <code>IO::</code>-style interface to <code>Compress::Zlib</code>.</p>
</li>
<li>
<p><code>Archive::Tar</code> is a module to manipulate <code>tar</code> archives.</p>
</li>
<li>
<p><code>Digest::SHA</code> is a module used to calculate many types of SHA digests,
has been included for SHA support in the CPAN module.</p>
</li>
<li>
<p><code>ExtUtils::CBuilder</code> and <code>ExtUtils::ParseXS</code> have been added.</p>
</li>
<li>
<p><code>Hash::Util::FieldHash</code>, by Anno Siegel, has been added. This module
provides support for <em>field hashes</em>: hashes that maintain an association
of a reference with a value, in a thread-safe garbage-collected way.
Such hashes are useful to implement inside-out objects.</p>
</li>
<li>
<p><code>Module::Build</code>, by Ken Williams, has been added. It's an alternative to
<code>ExtUtils::MakeMaker</code> to build and install perl modules.</p>
</li>
<li>
<p><code>Module::Load</code>, by Jos Boumans, has been added. It provides a single
interface to load Perl modules and <em class="file">.pl</em> files.</p>
</li>
<li>
<p><code>Module::Loaded</code>, by Jos Boumans, has been added. It's used to mark
modules as loaded or unloaded.</p>
</li>
<li>
<p><code>Package::Constants</code>, by Jos Boumans, has been added. It's a simple
helper to list all constants declared in a given package.</p>
</li>
<li>
<p><code>Win32API::File</code>, by Tye McQueen, has been added (for Windows builds).
This module provides low-level access to Win32 system API calls for
files/dirs.</p>
</li>
<li>
<p><code>Locale::Maketext::Simple</code>, needed by CPANPLUS, is a simple wrapper around
<code>Locale::Maketext::Lexicon</code>. Note that <code>Locale::Maketext::Lexicon</code> isn't
included in the perl core; the behaviour of <code>Locale::Maketext::Simple</code>
gracefully degrades when the later isn't present.</p>
</li>
<li>
<p><code>Params::Check</code> implements a generic input parsing/checking mechanism. It
is used by CPANPLUS.</p>
</li>
<li>
<p><code>Term::UI</code> simplifies the task to ask questions at a terminal prompt.</p>
</li>
<li>
<p><code>Object::Accessor</code> provides an interface to create per-object accessors.</p>
</li>
<li>
<p><code>Module::Pluggable</code> is a simple framework to create modules that accept
pluggable sub-modules.</p>
</li>
<li>
<p><code>Module::Load::Conditional</code> provides simple ways to query and possibly
load installed modules.</p>
</li>
<li>
<p><code>Time::Piece</code> provides an object oriented interface to time functions,
overriding the built-ins <a href="../../lib/pods/perlfunc.html#localtime"><code>localtime()</code></a> and <a href="../../lib/pods/perlfunc.html#gmtime"><code>gmtime()</code></a>.</p>
</li>
<li>
<p><code>IPC::Cmd</code> helps to find and run external commands, possibly
interactively.</p>
</li>
<li>
<p><code>File::Fetch</code> provide a simple generic file fetching mechanism.</p>
</li>
<li>
<p><code>Log::Message</code> and <code>Log::Message::Simple</code> are used by the log facility
of <code>CPANPLUS</code>.</p>
</li>
<li>
<p><code>Archive::Extract</code> is a generic archive extraction mechanism
for <em class="file">.tar</em> (plain, gziped or bzipped) or <em class="file">.zip</em> files.</p>
</li>
<li>
<p><code>CPANPLUS</code> provides an API and a command-line tool to access the CPAN
mirrors.</p>
</li>
<li>
<p><code>Pod::Escapes</code> provides utilities that are useful in decoding Pod
E&lt;...&gt; sequences.</p>
</li>
<li>
<p><code>Pod::Simple</code> is now the backend for several of the Pod-related modules
included with Perl.</p>
</li>
</ul>
<p>
</p>
<h2><a name="selected_changes_to_core_modules">Selected Changes to Core Modules</a></h2>
<dl>
<dt><strong><a name="attribute_handlers" class="item"><code>Attribute::Handlers</code></a></strong>

<dd>
<p><a href="#attribute_handlers"><code>Attribute::Handlers</code></a> can now report the caller's file and line number.
(David Feldman)</p>
</dd>
<dd>
<p>All interpreted attributes are now passed as array references. (Damian
Conway)</p>
</dd>
</li>
<dt><strong><a name="b_lint" class="item"><code>B::Lint</code></a></strong>

<dd>
<p><a href="#b_lint"><code>B::Lint</code></a> is now based on <code>Module::Pluggable</code>, and so can be extended
with plugins. (Joshua ben Jore)</p>
</dd>
</li>
<dt><strong><a name="b2" class="item"><a href="#b"><code>B</code></a></a></strong>

<dd>
<p>It's now possible to access the lexical pragma hints (<a href="../../lib/pods/perlvar.html#__h"><code>%^H</code></a>) by using the
method B::COP::hints_hash(). It returns a <code>B::RHE</code> object, which in turn
can be used to get a hash reference via the method B::RHE::HASH(). (Joshua
ben Jore)</p>
</dd>
</li>
<dt><strong><a name="thread2" class="item"><a href="#thread"><code>Thread</code></a></a></strong>

<dd>
<p>As the old 5005thread threading model has been removed, in favor of the
ithreads scheme, the <a href="#thread"><code>Thread</code></a> module is now a compatibility wrapper, to
be used in old code only. It has been removed from the default list of
dynamic extensions.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="utility_changes">Utility Changes</a></h1>
<dl>
<dt><strong><a name="perl_d" class="item">perl -d</a></strong>

<dd>
<p>The Perl debugger can now save all debugger commands for sourcing later;
notably, it can now emulate stepping backwards, by restarting and
rerunning all bar the last command from a saved command history.</p>
</dd>
<dd>
<p>It can also display the parent inheritance tree of a given class, with the
<code>i</code> command.</p>
</dd>
</li>
<dt><strong><a name="ptar" class="item">ptar</a></strong>

<dd>
<p><a href="#ptar"><code>ptar</code></a> is a pure perl implementation of <code>tar</code> that comes with
<code>Archive::Tar</code>.</p>
</dd>
</li>
<dt><strong><a name="ptardiff" class="item">ptardiff</a></strong>

<dd>
<p><a href="#ptardiff"><code>ptardiff</code></a> is a small utility used to generate a diff between the contents
of a tar archive and a directory tree. Like <a href="#ptar"><code>ptar</code></a>, it comes with
<code>Archive::Tar</code>.</p>
</dd>
</li>
<dt><strong><a name="shasum" class="item">shasum</a></strong>

<dd>
<p><a href="#shasum"><code>shasum</code></a> is a command-line utility, used to print or to check SHA
digests. It comes with the new <code>Digest::SHA</code> module.</p>
</dd>
</li>
<dt><strong><a name="corelist" class="item">corelist</a></strong>

<dd>
<p>The <a href="#corelist"><code>corelist</code></a> utility is now installed with perl (see <a href="#new_modules">New modules</a>
above).</p>
</dd>
</li>
<dt><strong><a name="h2ph_and_h2xs" class="item">h2ph and h2xs</a></strong>

<dd>
<p><code>h2ph</code> and <code>h2xs</code> have been made more robust with regard to
&quot;modern&quot; C code.</p>
</dd>
<dd>
<p><code>h2xs</code> implements a new option <code>--use-xsloader</code> to force use of
<code>XSLoader</code> even in backwards compatible modules.</p>
</dd>
<dd>
<p>The handling of authors' names that had apostrophes has been fixed.</p>
</dd>
<dd>
<p>Any enums with negative values are now skipped.</p>
</dd>
</li>
<dt><strong><a name="perlivp" class="item">perlivp</a></strong>

<dd>
<p><a href="#perlivp"><code>perlivp</code></a> no longer checks for <em class="file">*.ph</em> files by default.  Use the new <a href="../../lib/pods/perlrun.html#a"><code>-a</code></a>
option to run <em>all</em> tests.</p>
</dd>
</li>
<dt><strong><a name="find2perl" class="item">find2perl</a></strong>

<dd>
<p><a href="#find2perl"><code>find2perl</code></a> now assumes <a href="../../lib/pods/perlfunc.html#print"><code>-print</code></a> as a default action. Previously, it
needed to be specified explicitly.</p>
</dd>
<dd>
<p>Several bugs have been fixed in <a href="#find2perl"><code>find2perl</code></a>, regarding <a href="../../lib/pods/perlfunc.html#exec"><code>-exec</code></a> and
<a href="../../lib/pods/perlfunc.html#eval"><code>-eval</code></a>. Also the options <code>-path</code>, <code>-ipath</code> and <code>-iname</code> have been
added.</p>
</dd>
</li>
<dt><strong><a name="config_data" class="item">config_data</a></strong>

<dd>
<p><a href="#config_data"><code>config_data</code></a> is a new utility that comes with <code>Module::Build</code>. It
provides a command-line interface to the configuration of Perl modules
that use Module::Build's framework of configurability (that is,
<code>*::ConfigData</code> modules that contain local configuration information for
their parent modules.)</p>
</dd>
</li>
<dt><strong><a name="cpanp" class="item">cpanp</a></strong>

<dd>
<p><a href="#cpanp"><code>cpanp</code></a>, the CPANPLUS shell, has been added. (<code>cpanp-run-perl</code>, a
helper for CPANPLUS operation, has been added too, but isn't intended for
direct use).</p>
</dd>
</li>
<dt><strong><a name="cpan2dist" class="item">cpan2dist</a></strong>

<dd>
<p><a href="#cpan2dist"><code>cpan2dist</code></a> is a new utility that comes with CPANPLUS. It's a tool to
create distributions (or packages) from CPAN modules.</p>
</dd>
</li>
<dt><strong><a name="pod2html" class="item">pod2html</a></strong>

<dd>
<p>The output of <a href="#pod2html"><code>pod2html</code></a> has been enhanced to be more customizable via
CSS. Some formatting problems were also corrected. (Jari Aalto)</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="new_documentation">New Documentation</a></h1>
<p>The <a href="../../lib/pods/perlpragma.html">the perlpragma manpage</a> manpage documents how to write one's own lexical
pragmas in pure Perl (something that is possible starting with 5.9.4).</p>
<p>The new <a href="../../lib/pods/perlglossary.html">the perlglossary manpage</a> manpage is a glossary of terms used in the Perl
documentation, technical and otherwise, kindly provided by O'Reilly Media,
Inc.</p>
<p>The <a href="../../lib/pods/perlreguts.html">the perlreguts manpage</a> manpage, courtesy of Yves Orton, describes internals of the
Perl regular expression engine.</p>
<p>The <a href="../../lib/pods/perlreapi.html">the perlreapi manpage</a> manpage describes the interface to the perl interpreter
used to write pluggable regular expression engines (by Ævar Arnfjörð
Bjarmason).</p>
<p>The <a href="../../lib/pods/perlunitut.html">the perlunitut manpage</a> manpage is an tutorial for programming with Unicode and
string encodings in Perl, courtesy of Juerd Waalboer.</p>
<p>A new manual page, <a href="../../lib/pods/perlunifaq.html">the perlunifaq manpage</a> (the Perl Unicode FAQ), has been added
(Juerd Waalboer).</p>
<p>The <a href="../../lib/pods/perlcommunity.html">the perlcommunity manpage</a> manpage gives a description of the Perl community
on the Internet and in real life. (Edgar &quot;Trizor&quot; Bering)</p>
<p>The <a href="../../lib/CORE.html">the CORE manpage</a> manual page documents the <code>CORE::</code> namespace. (Tels)</p>
<p>The long-existing feature of <code>/(?{...})/</code> regexps setting <a href="../../lib/pods/perlvar.html#__"><code>$_</code></a> and <a href="../../lib/pods/perlfunc.html#pos"><code>pos()</code></a>
is now documented.</p>
<p>
</p>
<hr />
<h1><a name="performance_enhancements">Performance Enhancements</a></h1>
<p>
</p>
<h2><a name="in_place_sorting">In-place sorting</a></h2>
<p>Sorting arrays in place (<code>@a = sort @a</code>) is now optimized to avoid
making a temporary copy of the array.</p>
<p>Likewise, <code>reverse sort ...</code> is now optimized to sort in reverse,
avoiding the generation of a temporary intermediate list.</p>
<p>
</p>
<h2><a name="lexical_array_access">Lexical array access</a></h2>
<p>Access to elements of lexical arrays via a numeric constant between 0 and
255 is now faster. (This used to be only the case for global arrays.)</p>
<p>
</p>
<h2><a name="xs_assisted_swashget">XS-assisted SWASHGET</a></h2>
<p>Some pure-perl code that perl was using to retrieve Unicode properties and
transliteration mappings has been reimplemented in XS.</p>
<p>
</p>
<h2><a name="constant_subroutines">Constant subroutines</a></h2>
<p>The interpreter internals now support a far more memory efficient form of
inlineable constants. Storing a reference to a constant value in a symbol
table is equivalent to a full typeglob referencing a constant subroutine,
but using about 400 bytes less memory. This proxy constant subroutine is
automatically upgraded to a real typeglob with subroutine if necessary.
The approach taken is analogous to the existing space optimisation for
subroutine stub declarations, which are stored as plain scalars in place
of the full typeglob.</p>
<p>Several of the core modules have been converted to use this feature for
their system dependent constants - as a result <code>use POSIX;</code> now takes about
200K less memory.</p>
<p>
</p>
<h2><a name="perl_dont_create_gvsv"><code>PERL_DONT_CREATE_GVSV</code></a></h2>
<p>The new compilation flag <code>PERL_DONT_CREATE_GVSV</code>, introduced as an option
in perl 5.8.8, is turned on by default in perl 5.9.3. It prevents perl
from creating an empty scalar with every new typeglob. See <a href="../../lib/pods/perl588delta.html">the perl588delta manpage</a>
for details.</p>
<p>
</p>
<h2><a name="weak_references_are_cheaper">Weak references are cheaper</a></h2>
<p>Weak reference creation is now <em>O(1)</em> rather than <em>O(n)</em>, courtesy of
Nicholas Clark. Weak reference deletion remains <em>O(n)</em>, but if deletion only
happens at program exit, it may be skipped completely.</p>
<p>
</p>
<h2><a name="sort___enhancements"><a href="../../lib/pods/perlfunc.html#sort"><code>sort()</code></a> enhancements</a></h2>
<p>Salvador Fandiño provided improvements to reduce the memory usage of <a href="../../lib/pods/perlfunc.html#sort"><code>sort</code></a>
and to speed up some cases.</p>
<p>
</p>
<h2><a name="memory_optimisations">Memory optimisations</a></h2>
<p>Several internal data structures (typeglobs, GVs, CVs, formats) have been
restructured to use less memory. (Nicholas Clark)</p>
<p>
</p>
<h2><a name="utf_8_cache_optimisation">UTF-8 cache optimisation</a></h2>
<p>The UTF-8 caching code is now more efficient, and used more often.
(Nicholas Clark)</p>
<p>
</p>
<h2><a name="sloppy_stat_on_windows">Sloppy stat on Windows</a></h2>
<p>On Windows, perl's <a href="../../lib/pods/perlfunc.html#stat"><code>stat()</code></a> function normally opens the file to determine
the link count and update attributes that may have been changed through
hard links. Setting ${^WIN32_SLOPPY_STAT} to a true value speeds up
<a href="../../lib/pods/perlfunc.html#stat"><code>stat()</code></a> by not performing this operation. (Jan Dubois)</p>
<p>
</p>
<h2><a name="regular_expressions_optimisations">Regular expressions optimisations</a></h2>
<dl>
<dt><strong><a name="engine_de_recursivised" class="item">Engine de-recursivised</a></strong>

<dd>
<p>The regular expression engine is no longer recursive, meaning that
patterns that used to overflow the stack will either die with useful
explanations, or run to completion, which, since they were able to blow
the stack before, will likely take a very long time to happen. If you were
experiencing the occasional stack overflow (or segfault) and upgrade to
discover that now perl apparently hangs instead, look for a degenerate
regex. (Dave Mitchell)</p>
</dd>
</li>
<dt><strong><a name="single_char_char_classes_treated_as_literals" class="item">Single char char-classes treated as literals</a></strong>

<dd>
<p>Classes of a single character are now treated the same as if the character
had been used as a literal, meaning that code that uses char-classes as an
escaping mechanism will see a speedup. (Yves Orton)</p>
</dd>
</li>
<dt><strong><a name="trie_optimisation_of_literal_string_alternations" class="item">Trie optimisation of literal string alternations</a></strong>

<dd>
<p>Alternations, where possible, are optimised into more efficient matching
structures. String literal alternations are merged into a trie and are
matched simultaneously.  This means that instead of O(N) time for matching
N alternations at a given point, the new code performs in O(1) time.
A new special variable, ${^RE_TRIE_MAXBUF}, has been added to fine-tune
this optimization. (Yves Orton)</p>
</dd>
<dd>
<p><strong>Note:</strong> Much code exists that works around perl's historic poor
performance on alternations. Often the tricks used to do so will disable
the new optimisations. Hopefully the utility modules used for this purpose
will be educated about these new optimisations.</p>
</dd>
</li>
<dt><strong><a name="aho_corasick_start_point_optimisation" class="item">Aho-Corasick start-point optimisation</a></strong>

<dd>
<p>When a pattern starts with a trie-able alternation and there aren't
better optimisations available, the regex engine will use Aho-Corasick
matching to find the start point. (Yves Orton)</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="installation_and_configuration_improvements">Installation and Configuration Improvements</a></h1>
<p>
</p>
<h2><a name="configuration_improvements">Configuration improvements</a></h2>
<dl>
<dt><strong><a name="dusesitecustomize" class="item"><code>-Dusesitecustomize</code></a></strong>

<dd>
<p>Run-time customization of @INC can be enabled by passing the
<a href="#dusesitecustomize"><code>-Dusesitecustomize</code></a> flag to Configure. When enabled, this will make perl
run <em class="file">$sitelibexp/sitecustomize.pl</em> before anything else.  This script can
then be set up to add additional entries to @INC.</p>
</dd>
</li>
<dt><strong><a name="relocatable_installations" class="item">Relocatable installations</a></strong>

<dd>
<p>There is now Configure support for creating a relocatable perl tree. If
you Configure with <code>-Duserelocatableinc</code>, then the paths in @INC (and
everything else in %Config) can be optionally located via the path of the
perl executable.</p>
</dd>
<dd>
<p>That means that, if the string <code>&quot;.../&quot;</code> is found at the start of any
path, it's substituted with the directory of $^X. So, the relocation can
be configured on a per-directory basis, although the default with
<code>-Duserelocatableinc</code> is that everything is relocated. The initial
install is done to the original configured prefix.</p>
</dd>
</li>
<dt><strong><a name="strlcat" class="item"><code>strlcat()</code> and <code>strlcpy()</code></a></strong>

<dd>
<p>The configuration process now detects whether <a href="#strlcat"><code>strlcat()</code></a> and <code>strlcpy()</code> are
available.  When they are not available, perl's own version is used (from
Russ Allbery's public domain implementation).  Various places in the perl
interpreter now use them. (Steve Peters)</p>
</dd>
</li>
<dt><strong><a name="d_pseudofork_and_d_printf_format_null" class="item"><code>d_pseudofork</code> and <code>d_printf_format_null</code></a></strong>

<dd>
<p>A new configuration variable, available as <code>$Config{d_pseudofork}</code> in
the <a href="../../lib/Config.html">the Config manpage</a> module, has been added, to distinguish real <a href="../../lib/pods/perlfunc.html#fork"><code>fork()</code></a> support
from fake pseudofork used on Windows platforms.</p>
</dd>
<dd>
<p>A new configuration variable, <code>d_printf_format_null</code>, has been added, 
to see if printf-like formats are allowed to be NULL.</p>
</dd>
</li>
<dt><strong><a name="configure_help" class="item">Configure help</a></strong>

<dd>
<p><code>Configure -h</code> has been extended with the most commonly used options.</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="compilation_improvements">Compilation improvements</a></h2>
<dl>
<dt><strong><a name="parallel_build" class="item">Parallel build</a></strong>

<dd>
<p>Parallel makes should work properly now, although there may still be problems
if <code>make test</code> is instructed to run in parallel.</p>
</dd>
</li>
<dt><strong><a name="borland_s_compilers_support" class="item">Borland's compilers support</a></strong>

<dd>
<p>Building with Borland's compilers on Win32 should work more smoothly. In
particular Steve Hay has worked to side step many warnings emitted by their
compilers and at least one C compiler internal error.</p>
</dd>
</li>
<dt><strong><a name="static_build_on_windows" class="item">Static build on Windows</a></strong>

<dd>
<p>Perl extensions on Windows now can be statically built into the Perl DLL.</p>
</dd>
<dd>
<p>Also, it's now possible to build a <code>perl-static.exe</code> that doesn't depend
on the Perl DLL on Win32. See the Win32 makefiles for details.
(Vadim Konovalov)</p>
</dd>
</li>
<dt><strong><a name="ppport_h_files" class="item">ppport.h files</a></strong>

<dd>
<p>All <em class="file">ppport.h</em> files in the XS modules bundled with perl are now
autogenerated at build time. (Marcus Holland-Moritz)</p>
</dd>
</li>
<dt><strong><a name="c_compatibility" class="item">C++ compatibility</a></strong>

<dd>
<p>Efforts have been made to make perl and the core XS modules compilable
with various C++ compilers (although the situation is not perfect with
some of the compilers on some of the platforms tested.)</p>
</dd>
</li>
<dt><strong><a name="support_for_microsoft_64_bit_compiler" class="item">Support for Microsoft 64-bit compiler</a></strong>

<dd>
<p>Support for building perl with Microsoft's 64-bit compiler has been
improved. (ActiveState)</p>
</dd>
</li>
<dt><strong><a name="visual_c" class="item">Visual C++</a></strong>

<dd>
<p>Perl can now be compiled with Microsoft Visual C++ 2005 (and 2008 Beta 2).</p>
</dd>
</li>
<dt><strong><a name="win32_builds" class="item">Win32 builds</a></strong>

<dd>
<p>All win32 builds (MS-Win, WinCE) have been merged and cleaned up.</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="installation_improvements">Installation improvements</a></h2>
<dl>
<dt><strong><a name="module_auxiliary_files" class="item">Module auxiliary files</a></strong>

<dd>
<p>README files and changelogs for CPAN modules bundled with perl are no
longer installed.</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="new_or_improved_platforms">New Or Improved Platforms</a></h2>
<p>Perl has been reported to work on Symbian OS. See <a href="../../lib/pods/perlsymbian.html">the perlsymbian manpage</a> for more
information.</p>
<p>Many improvements have been made towards making Perl work correctly on
z/OS.</p>
<p>Perl has been reported to work on DragonFlyBSD and MidnightBSD.</p>
<p>Perl has also been reported to work on NexentaOS
( <a href="http://www.gnusolaris.org/">http://www.gnusolaris.org/</a> ).</p>
<p>The VMS port has been improved. See <a href="../../lib/pods/perlvms.html">the perlvms manpage</a>.</p>
<p>Support for Cray XT4 Catamount/Qk has been added. See
<em class="file">hints/catamount.sh</em> in the source code distribution for more
information.</p>
<p>Vendor patches have been merged for RedHat and Gentoo.</p>
<p>DynaLoader::dl_unload_file() now works on Windows.</p>
<p>
</p>
<hr />
<h1><a name="selected_bug_fixes">Selected Bug Fixes</a></h1>
<dl>
<dt><strong><a name="strictures_in_regexp_eval_blocks" class="item">strictures in regexp-eval blocks</a></strong>

<dd>
<p><code>strict</code> wasn't in effect in regexp-eval blocks (<code>/(?{...})/</code>).</p>
</dd>
</li>
<dt><strong><a name="require" class="item">Calling CORE::require()</a></strong>

<dd>
<p>CORE::require() and CORE::do() were always parsed as <a href="#require"><code>require()</code></a> and <a href="../../lib/pods/perlfunc.html#do"><code>do()</code></a>
when they were overridden. This is now fixed.</p>
</dd>
</li>
<dt><strong><a name="subscripts_of_slices" class="item">Subscripts of slices</a></strong>

<dd>
<p>You can now use a non-arrowed form for chained subscripts after a list
slice, like in:</p>
</dd>
<dd>
<pre>
    <span class="operator">(</span><span class="operator">{</span><span class="string">foo</span> <span class="operator">=&gt;</span> <span class="string">"bar"</span><span class="operator">}</span><span class="operator">)</span><span class="operator">[</span><span class="number">0</span><span class="operator">]{</span><span class="string">foo</span><span class="operator">}</span>
</pre>
</dd>
<dd>
<p>This used to be a syntax error; a <code>-&gt;</code> was required.</p>
</dd>
</li>
<dt><strong><a name="no_warnings_category_works_correctly_with_w" class="item"><code>no warnings 'category'</code> works correctly with -w</a></strong>

<dd>
<p>Previously when running with warnings enabled globally via <a href="../../lib/pods/perlrun.html#w"><code>-w</code></a>, selective
disabling of specific warning categories would actually turn off all warnings.
This is now fixed; now <code>no warnings 'io';</code> will only turn off warnings in the
<code>io</code> class. Previously it would erroneously turn off all warnings.</p>
</dd>
</li>
<dt><strong><a name="threads_improvements" class="item">threads improvements</a></strong>

<dd>
<p>Several memory leaks in ithreads were closed. Also, ithreads were made
less memory-intensive.</p>
</dd>
<dd>
<p><code>threads</code> is now a dual-life module, also available on CPAN. It has been
expanded in many ways. A <a href="../../lib/pods/perlfunc.html#kill"><code>kill()</code></a> method is available for thread signalling.
One can get thread status, or the list of running or joinable threads.</p>
</dd>
<dd>
<p>A new <a href="../../lib/pods/perlfunc.html#exit"><code>threads-&gt;exit()</code></a> method is used to exit from the application
(this is the default for the main thread) or from the current thread only
(this is the default for all other threads). On the other hand, the <a href="../../lib/pods/perlfunc.html#exit"><code>exit()</code></a>
built-in now always causes the whole application to terminate. (Jerry
D. Hedden)</p>
</dd>
</li>
<dt><strong><a name="chr" class="item"><code>chr()</code> and negative values</a></strong>

<dd>
<p><a href="#chr"><code>chr()</code></a> on a negative value now gives <code>\x{FFFD}</code>, the Unicode replacement
character, unless when the <a href="../../lib/pods/perlrun.html#bytes"><code>bytes</code></a> pragma is in effect, where the low
eight bits of the value are used.</p>
</dd>
</li>
<dt><strong><a name="perl5shell_and_tainting" class="item">PERL5SHELL and tainting</a></strong>

<dd>
<p>On Windows, the PERL5SHELL environment variable is now checked for
taintedness. (Rafael Garcia-Suarez)</p>
</dd>
</li>
<dt><strong><a name="using_file_io" class="item">Using *FILE{IO}</a></strong>

<dd>
<p><a href="../../lib/pods/perlfunc.html#stat"><code>stat()</code></a> and <a href="../../lib/pods/perlrun.html#x"><code>-X</code></a> filetests now treat *FILE{IO} filehandles like *FILE
filehandles. (Steve Peters)</p>
</dd>
</li>
<dt><strong><a name="overloading_and_reblessing" class="item">Overloading and reblessing</a></strong>

<dd>
<p>Overloading now works when references are reblessed into another class.
Internally, this has been implemented by moving the flag for &quot;overloading&quot;
from the reference to the referent, which logically is where it should
always have been. (Nicholas Clark)</p>
</dd>
</li>
<dt><strong><a name="overloading_and_utf_8" class="item">Overloading and UTF-8</a></strong>

<dd>
<p>A few bugs related to UTF-8 handling with objects that have
stringification overloaded have been fixed. (Nicholas Clark)</p>
</dd>
</li>
<dt><strong><a name="eval_memory_leaks_fixed" class="item">eval memory leaks fixed</a></strong>

<dd>
<p>Traditionally, <code>eval 'syntax error'</code> has leaked badly. Many (but not all)
of these leaks have now been eliminated or reduced. (Dave Mitchell)</p>
</dd>
</li>
<dt><strong><a name="random_device_on_windows" class="item">Random device on Windows</a></strong>

<dd>
<p>In previous versions, perl would read the file <em class="file">/dev/urandom</em> if it
existed when seeding its random number generator.  That file is unlikely
to exist on Windows, and if it did would probably not contain appropriate
data, so perl no longer tries to read it on Windows. (Alex Davies)</p>
</dd>
</li>
<dt><strong><a name="perlio_debug" class="item">PERLIO_DEBUG</a></strong>

<dd>
<p>The <a href="#perlio_debug"><code>PERLIO_DEBUG</code></a> environment variable no longer has any effect for
setuid scripts and for scripts run with <strong>-T</strong>.</p>
</dd>
<dd>
<p>Moreover, with a thread-enabled perl, using <a href="#perlio_debug"><code>PERLIO_DEBUG</code></a> could lead to
an internal buffer overflow. This has been fixed.</p>
</dd>
</li>
<dt><strong><a name="perlio_scalar_and_read_only_scalars" class="item">PerlIO::scalar and read-only scalars</a></strong>

<dd>
<p>PerlIO::scalar will now prevent writing to read-only scalars. Moreover,
<a href="../../lib/pods/perlfunc.html#seek"><code>seek()</code></a> is now supported with PerlIO::scalar-based filehandles, the
underlying string being zero-filled as needed. (Rafael, Jarkko Hietaniemi)</p>
</dd>
</li>
<dt><strong><a name="study" class="item"><code>study()</code> and UTF-8</a></strong>

<dd>
<p><a href="#study"><code>study()</code></a> never worked for UTF-8 strings, but could lead to false results.
It's now a no-op on UTF-8 data. (Yves Orton)</p>
</dd>
</li>
<dt><strong><a name="critical_signals" class="item">Critical signals</a></strong>

<dd>
<p>The signals SIGILL, SIGBUS and SIGSEGV are now always delivered in an
&quot;unsafe&quot; manner (contrary to other signals, that are deferred until the
perl interpreter reaches a reasonably stable state; see
<a href="../../lib/pods/perlipc.html#deferred_signals__safe_signals_">Deferred Signals (Safe Signals) in the perlipc manpage</a>). (Rafael)</p>
</dd>
</li>
<dt><strong><a name="_inc_hook" class="item">@INC-hook fix</a></strong>

<dd>
<p>When a module or a file is loaded through an @INC-hook, and when this hook
has set a filename entry in %INC, __FILE__ is now set for this module
accordingly to the contents of that %INC entry. (Rafael)</p>
</dd>
</li>
<dt><strong><a name="t_switch_fix" class="item"><a href="../../lib/pods/perlrun.html#t"><code>-t</code></a> switch fix</a></strong>

<dd>
<p>The <a href="../../lib/pods/perlrun.html#w"><code>-w</code></a> and <a href="../../lib/pods/perlrun.html#t"><code>-t</code></a> switches can now be used together without messing
up which categories of warnings are activated. (Rafael)</p>
</dd>
</li>
<dt><strong><a name="duping_utf_8_filehandles" class="item">Duping UTF-8 filehandles</a></strong>

<dd>
<p>Duping a filehandle which has the <a href="../../lib/pods/perlrun.html#utf8"><code>:utf8</code></a> PerlIO layer set will now
properly carry that layer on the duped filehandle. (Rafael)</p>
</dd>
</li>
<dt><strong><a name="localisation_of_hash_elements" class="item">Localisation of hash elements</a></strong>

<dd>
<p>Localizing a hash element whose key was given as a variable didn't work
correctly if the variable was changed while the <a href="../../lib/pods/perlfunc.html#local"><code>local()</code></a> was in effect (as
in <code>local $h{$x}; ++$x</code>). (Bo Lindbergh)</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="new_or_changed_diagnostics">New or Changed Diagnostics</a></h1>
<dl>
<dt><strong><a name="use_of_uninitialized_value" class="item">Use of uninitialized value</a></strong>

<dd>
<p>Perl will now try to tell you the name of the variable (if any) that was
undefined.</p>
</dd>
</li>
<dt><strong><a name="my" class="item">Deprecated use of <code>my()</code> in false conditional</a></strong>

<dd>
<p>A new deprecation warning, <em>Deprecated use of my() in false conditional</em>,
has been added, to warn against the use of the dubious and deprecated
construct</p>
</dd>
<dd>
<pre>
    <span class="keyword">my</span> <span class="variable">$x</span> <span class="keyword">if</span> <span class="number">0</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>See <a href="../../lib/pods/perldiag.html">the perldiag manpage</a>. Use <a href="../../lib/pods/perlfunc.html#state"><code>state</code></a> variables instead.</p>
</dd>
</li>
<dt><strong><a name="should_be" class="item">!=~ should be !~</a></strong>

<dd>
<p>A new warning, <a href="#should_be"><code>!=~ should be !~</code></a>, is emitted to prevent this misspelling
of the non-matching operator.</p>
</dd>
</li>
<dt><strong><a name="newline_in_left_justified_string" class="item">Newline in left-justified string</a></strong>

<dd>
<p>The warning <em>Newline in left-justified string</em> has been removed.</p>
</dd>
</li>
<dt><strong><a name="too_late_for_t_option2" class="item">Too late for &quot;-T&quot; option</a></strong>

<dd>
<p>The error <em>Too late for &quot;-T&quot; option</em> has been reformulated to be more
descriptive.</p>
</dd>
</li>
<dt><strong><a name="s_variable_s_masks_earlier_declaration" class="item">&quot;%s&quot; variable %s masks earlier declaration</a></strong>

<dd>
<p>This warning is now emitted in more consistent cases; in short, when one
of the declarations involved is a <a href="#my"><code>my</code></a> variable:</p>
</dd>
<dd>
<pre>
    <span class="keyword">my</span> <span class="variable">$x</span><span class="operator">;</span>   <span class="keyword">my</span> <span class="variable">$x</span><span class="operator">;</span>     <span class="comment"># warns</span>
    <span class="keyword">my</span> <span class="variable">$x</span><span class="operator">;</span>  <span class="keyword">our</span> <span class="variable">$x</span><span class="operator">;</span>     <span class="comment"># warns</span>
    <span class="keyword">our</span> <span class="variable">$x</span><span class="operator">;</span>  <span class="keyword">my</span> <span class="variable">$x</span><span class="operator">;</span>     <span class="comment"># warns</span>
</pre>
</dd>
<dd>
<p>On the other hand, the following:</p>
</dd>
<dd>
<pre>
    <span class="keyword">our</span> <span class="variable">$x</span><span class="operator">;</span> <span class="keyword">our</span> <span class="variable">$x</span><span class="operator">;</span>
</pre>
</dd>
<dd>
<p>now gives a <code>&quot;our&quot; variable %s redeclared</code> warning.</p>
</dd>
</li>
<dt><strong><a name="readdir" class="item">readdir()/closedir()/etc. attempted on invalid dirhandle</a></strong>

<dd>
<p>These new warnings are now emitted when a dirhandle is used but is
either closed or not really a dirhandle.</p>
</dd>
</li>
<dt><strong><a name="opening_dirhandle_filehandle_s_also_as_a_file_directory" class="item">Opening dirhandle/filehandle %s also as a file/directory</a></strong>

<dd>
<p>Two deprecation warnings have been added: (Rafael)</p>
</dd>
<dd>
<pre>
    Opening dirhandle %s also as a file
    Opening filehandle %s also as a directory</pre>
</dd>
</li>
<dt><strong><a name="use_of_p_is_deprecated" class="item">Use of -P is deprecated</a></strong>

<dd>
<p>Perl's command-line switch <a href="../../lib/pods/perlrun.html#p"><code>-P</code></a> is now deprecated.</p>
</dd>
</li>
<dt><strong><a name="v_string_in_use_require_is_non_portable" class="item">v-string in use/require is non-portable</a></strong>

<dd>
<p>Perl will warn you against potential backwards compatibility problems with
the <a href="../../lib/pods/perlfunc.html#use"><code>use VERSION</code></a> syntax.</p>
</dd>
</li>
<dt><strong><a name="perl_v" class="item">perl -V</a></strong>

<dd>
<p><a href="#perl_v"><code>perl -V</code></a> has several improvements, making it more useable from shell
scripts to get the value of configuration variables. See <a href="../../lib/pods/perlrun.html">the perlrun manpage</a> for
details.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="changed_internals">Changed Internals</a></h1>
<p>In general, the source code of perl has been refactored, tidied up,
and optimized in many places. Also, memory management and allocation
has been improved in several points.</p>
<p>When compiling the perl core with gcc, as many gcc warning flags are
turned on as is possible on the platform.  (This quest for cleanliness
doesn't extend to XS code because we cannot guarantee the tidiness of
code we didn't write.)  Similar strictness flags have been added or
tightened for various other C compilers.</p>
<p>
</p>
<h2><a name="reordering_of_svt___constants">Reordering of SVt_* constants</a></h2>
<p>The relative ordering of constants that define the various types of <code>SV</code>
have changed; in particular, <code>SVt_PVGV</code> has been moved before <code>SVt_PVLV</code>,
<code>SVt_PVAV</code>, <code>SVt_PVHV</code> and <code>SVt_PVCV</code>.  This is unlikely to make any
difference unless you have code that explicitly makes assumptions about that
ordering. (The inheritance hierarchy of <a href="#b"><code>B::*</code></a> objects has been changed
to reflect this.)</p>
<p>
</p>
<h2><a name="elimination_of_svt_pvbm">Elimination of SVt_PVBM</a></h2>
<p>Related to this, the internal type <code>SVt_PVBM</code> has been been removed. This
dedicated type of <code>SV</code> was used by the <a href="../../lib/pods/perlfunc.html#index"><code>index</code></a> operator and parts of the
regexp engine to facilitate fast Boyer-Moore matches. Its use internally has
been replaced by <code>SV</code>s of type <code>SVt_PVGV</code>.</p>
<p>
</p>
<h2><a name="new_type_svt_bind">New type SVt_BIND</a></h2>
<p>A new type <code>SVt_BIND</code> has been added, in readiness for the project to
implement Perl 6 on 5. There deliberately is no implementation yet, and
they cannot yet be created or destroyed.</p>
<p>
</p>
<h2><a name="removal_of_cpp_symbols">Removal of CPP symbols</a></h2>
<p>The C preprocessor symbols <code>PERL_PM_APIVERSION</code> and
<code>PERL_XS_APIVERSION</code>, which were supposed to give the version number of
the oldest perl binary-compatible (resp. source-compatible) with the
present one, were not used, and sometimes had misleading values. They have
been removed.</p>
<p>
</p>
<h2><a name="less_space_is_used_by_ops">Less space is used by ops</a></h2>
<p>The <code>BASEOP</code> structure now uses less space. The <code>op_seq</code> field has been
removed and replaced by a single bit bit-field <code>op_opt</code>. <code>op_type</code> is now 9
bits long. (Consequently, the <code>B::OP</code> class doesn't provide an <code>seq</code>
method anymore.)</p>
<p>
</p>
<h2><a name="new_parser">New parser</a></h2>
<p>perl's parser is now generated by bison (it used to be generated by
byacc.) As a result, it seems to be a bit more robust.</p>
<p>Also, Dave Mitchell improved the lexer debugging output under <code>-DT</code>.</p>
<p>
</p>
<h2><a name="use_of_const">Use of <code>const</code></a></h2>
<p>Andy Lester supplied many improvements to determine which function
parameters and local variables could actually be declared <code>const</code> to the C
compiler. Steve Peters provided new <code>*_set</code> macros and reworked the core to
use these rather than assigning to macros in LVALUE context.</p>
<p>
</p>
<h2><a name="mathoms">Mathoms</a></h2>
<p>A new file, <em class="file">mathoms.c</em>, has been added. It contains functions that are
no longer used in the perl core, but that remain available for binary or
source compatibility reasons. However, those functions will not be
compiled in if you add <code>-DNO_MATHOMS</code> in the compiler flags.</p>
<p>
</p>
<h2><a name="avflags_has_been_removed"><code>AvFLAGS</code> has been removed</a></h2>
<p>The <code>AvFLAGS</code> macro has been removed.</p>
<p>
</p>
<h2><a name="av___changes"><code>av_*</code> changes</a></h2>
<p>The <code>av_*()</code> functions, used to manipulate arrays, no longer accept null
<code>AV*</code> parameters.</p>
<p>
</p>
<h2><a name="__h_and___h">$^H and %^H</a></h2>
<p>The implementation of the special variables $^H and %^H has changed, to
allow implementing lexical pragmas in pure Perl.</p>
<p>
</p>
<h2><a name="b___modules_inheritance_changed">B:: modules inheritance changed</a></h2>
<p>The inheritance hierarchy of <a href="#b"><code>B::</code></a> modules has changed; <code>B::NV</code> now
inherits from <code>B::SV</code> (it used to inherit from <code>B::IV</code>).</p>
<p>
</p>
<h2><a name="anonymous_hash_and_array_constructors">Anonymous hash and array constructors</a></h2>
<p>The anonymous hash and array constructors now take 1 op in the optree
instead of 3, now that pp_anonhash and pp_anonlist return a reference to
an hash/array when the op is flagged with OPf_SPECIAL. (Nicholas Clark)</p>
<p>
</p>
<hr />
<h1><a name="known_problems">Known Problems</a></h1>
<p>There's still a remaining problem in the implementation of the lexical
<a href="../../lib/pods/perlvar.html#__"><code>$_</code></a>: it doesn't work inside <code>/(?{...})/</code> blocks. (See the TODO test in
<em class="file">t/op/mydef.t</em>.)</p>
<p>Stacked filetest operators won't work when the <code>filetest</code> pragma is in
effect, because they rely on the <a href="../../lib/pods/perlfunc.html#stat"><code>stat()</code></a> buffer <code>_</code> being populated, and
filetest bypasses <a href="../../lib/pods/perlfunc.html#stat"><code>stat()</code></a>.</p>
<p>
</p>
<h2><a name="utf_8_problems">UTF-8 problems</a></h2>
<p>The handling of Unicode still is unclean in several places, where it's
dependent on whether a string is internally flagged as UTF-8. This will
be made more consistent in perl 5.12, but that won't be possible without
a certain amount of backwards incompatibility.</p>
<p>
</p>
<hr />
<h1><a name="platform_specific_problems">Platform Specific Problems</a></h1>
<p>When compiled with g++ and thread support on Linux, it's reported that the
<a href="../../lib/pods/perlvar.html#__"><code>$!</code></a> stops working correctly. This is related to the fact that the glibc
provides two <code>strerror_r(3)</code> implementation, and perl selects the wrong
one.</p>
<p>
</p>
<hr />
<h1><a name="reporting_bugs">Reporting Bugs</a></h1>
<p>If you find what you think is a bug, you might check the articles
recently posted to the comp.lang.perl.misc newsgroup and the perl
bug database at <a href="http://rt.perl.org/rt3/">http://rt.perl.org/rt3/</a> .  There may also be
information at <a href="http://www.perl.org/">http://www.perl.org/</a> , the Perl Home Page.</p>
<p>If you believe you have an unreported bug, please run the <strong>perlbug</strong>
program included with your release.  Be sure to trim your bug down
to a tiny but sufficient test case.  Your bug report, along with the
output of <a href="#perl_v"><code>perl -V</code></a>, will be sent off to <a href="mailto:perlbug@perl.org">perlbug@perl.org</a> to be
analysed by the Perl porting team.</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p>The <em class="file">Changes</em> file and the perl590delta to perl595delta man pages for
exhaustive details on what changed.</p>
<p>The <em class="file">INSTALL</em> file for how to build Perl.</p>
<p>The <em class="file">README</em> file for general stuff.</p>
<p>The <em class="file">Artistic</em> and <em class="file">Copying</em> files for copyright information.</p>

</body>

</html>

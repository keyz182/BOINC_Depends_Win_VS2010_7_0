<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../displayToc.js"></script>
<script language="JavaScript" src="../../tocParas.js"></script>
<script language="JavaScript" src="../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../scineplex.css">
<title>perlrebackslash - Perl Regular Expression Backslash Sequences and Escapes</title>
<link rel="stylesheet" href="../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>


<!-- INDEX BEGIN -->
<div name="index">
<script>writelinks('__top__',2);</script>
<h1><a>perlrebackslash - Perl Regular Expression Backslash Sequences and Escapes</a></h1>
<p><a name="__index__"></a></p>


<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<ul>

		<li><a href="#the_backslash">The backslash</a></li>
		<li><a href="#all_the_sequences_and_escapes">All the sequences and escapes</a></li>
		<li><a href="#character_escapes">Character Escapes</a></li>
		<ul>

			<li><a href="#fixed_characters">Fixed characters</a></li>
			<ul>

				<li><a href="#example">Example</a></li>
			</ul>

			<li><a href="#control_characters">Control characters</a></li>
			<ul>

				<li><a href="#example">Example</a></li>
			</ul>

			<li><a href="#named_characters">Named characters</a></li>
			<ul>

				<li><a href="#example">Example</a></li>
			</ul>

			<li><a href="#octal_escapes">Octal escapes</a></li>
			<ul>

				<li><a href="#examples">Examples</a></li>
				<li><a href="#caveat">Caveat</a></li>
			</ul>

			<li><a href="#hexadecimal_escapes">Hexadecimal escapes</a></li>
			<ul>

				<li><a href="#examples">Examples</a></li>
			</ul>

		</ul>

		<li><a href="#modifiers">Modifiers</a></li>
		<ul>

			<ul>

				<li><a href="#examples">Examples</a></li>
			</ul>

		</ul>

		<li><a href="#character_classes">Character classes</a></li>
		<ul>

			<li><a href="#unicode_classes">Unicode classes</a></li>
		</ul>

		<li><a href="#referencing">Referencing</a></li>
		<ul>

			<li><a href="#absolute_referencing">Absolute referencing</a></li>
			<ul>

				<li><a href="#examples">Examples</a></li>
			</ul>

			<li><a href="#relative_referencing">Relative referencing</a></li>
			<ul>

				<li><a href="#examples">Examples</a></li>
			</ul>

			<li><a href="#named_referencing">Named referencing</a></li>
			<ul>

				<li><a href="#examples">Examples</a></li>
			</ul>

		</ul>

		<li><a href="#assertions">Assertions</a></li>
		<ul>

			<ul>

				<li><a href="#examples">Examples</a></li>
			</ul>

		</ul>

		<li><a href="#misc">Misc</a></li>
		<ul>

			<ul>

				<li><a href="#examples">Examples</a></li>
			</ul>

		</ul>

	</ul>

</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>perlrebackslash - Perl Regular Expression Backslash Sequences and Escapes</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>The top level documentation about Perl regular expressions
is found in <a href="../../lib/pods/perlre.html">the perlre manpage</a>.</p>
<p>This document describes all backslash and escape sequences. After
explaining the role of the backslash, it lists all the sequences that have
a special meaning in Perl regular expressions (in alphabetical order),
then describes each of them.</p>
<p>Most sequences are described in detail in different documents; the primary
purpose of this document is to have a quick reference guide describing all
backslash and escape sequences.</p>
<p>
</p>
<h2><a name="the_backslash">The backslash</a></h2>
<p>In a regular expression, the backslash can perform one of two tasks:
it either takes away the special meaning of the character following it
(for instance, <code>\|</code> matches a vertical bar, it's not an alternation),
or it is the start of a backslash or escape sequence.</p>
<p>The rules determining what it is are quite simple: if the character
following the backslash is a punctuation (non-word) character (that is,
anything that is not a letter, digit or underscore), then the backslash
just takes away the special meaning (if any) of the character following
it.</p>
<p>If the character following the backslash is a letter or a digit, then the
sequence may be special; if so, it's listed below. A few letters have not
been used yet, and escaping them with a backslash is safe for now, but a
future version of Perl may assign a special meaning to it. However, if you
have warnings turned on, Perl will issue a warning if you use such a sequence.
[1].</p>
<p>It is however guaranteed that backslash or escape sequences never have a
punctuation character following the backslash, not now, and not in a future
version of Perl 5. So it is safe to put a backslash in front of a non-word
character.</p>
<p>Note that the backslash itself is special; if you want to match a backslash,
you have to escape the backslash with a backslash: <code>/\\/</code> matches a single
backslash.</p>
<dl>
<dt><strong><a name="113" class="item">[1]</a></strong>

<dd>
<p>There is one exception. If you use an alphanumerical character as the
delimiter of your pattern (which you probably shouldn't do for readability
reasons), you will have to escape the delimiter if you want to match
it. Perl won't warn then. See also <a href="../../lib/pods/perlop.html#gory_details_of_parsing_quoted_constructs">Gory details of parsing quoted constructs in the perlop manpage</a>.</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="all_the_sequences_and_escapes">All the sequences and escapes</a></h2>
<pre>
 <span class="operator">\</span><span class="number">000</span>              <span class="variable">Octal</span> <span class="variable">escape</span> <span class="variable">sequence</span><span class="operator">.</span>
 <span class="operator">\</span><span class="number">1</span>                <span class="variable">Absolute</span> <span class="variable">backreference</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">a</span>                <span class="variable">Alarm</span> <span class="keyword">or</span> <span class="variable">bell</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">A</span>                <span class="variable">Beginning</span> <span class="variable">of</span> <span class="variable">string</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">b</span>                <span class="variable">Word</span><span class="operator">/</span><span class="variable">non</span><span class="operator">-</span><span class="variable">word</span> <span class="variable">boundary</span><span class="operator">.</span> <span class="operator">(</span><span class="variable">Backspace</span> <span class="variable">in</span> <span class="variable">a</span> <span class="variable">char</span> <span class="variable">class</span><span class="operator">).</span>
 <span class="operator">\</span><span class="variable">B</span>                <span class="variable">Not</span> <span class="variable">a</span> <span class="variable">word</span><span class="operator">/</span><span class="variable">non</span><span class="operator">-</span><span class="variable">word</span> <span class="variable">boundary</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">cX</span>               <span class="variable">Control</span><span class="keyword">-X</span> <span class="operator">(</span><span class="variable">X</span> <span class="variable">can</span> <span class="variable">be</span> <span class="variable">any</span> <span class="variable">ASCII</span> <span class="variable">character</span><span class="operator">).</span>
 <span class="operator">\</span><span class="variable">C</span>                <span class="variable">Single</span> <span class="variable">octet</span><span class="operator">,</span> <span class="variable">even</span> <span class="variable">under</span> <span class="variable">UTF</span><span class="operator">-</span><span class="number">8.</span>
 <span class="operator">\</span><span class="variable">d</span>                <span class="variable">Character</span> <span class="variable">class</span> <span class="keyword">for</span> <span class="variable">digits</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">D</span>                <span class="variable">Character</span> <span class="variable">class</span> <span class="keyword">for</span> <span class="variable">non</span><span class="operator">-</span><span class="variable">digits</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">e</span>                <span class="variable">Escape</span> <span class="variable">character</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">E</span>                <span class="variable">Turn</span> <span class="variable">off</span> <span class="operator">\</span><span class="variable">Q</span><span class="operator">,</span> <span class="operator">\</span><span class="variable">L</span> <span class="keyword">and</span> <span class="operator">\</span><span class="variable">U</span> <span class="variable">processing</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">f</span>                <span class="variable">Form</span> <span class="variable">feed</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">g</span><span class="operator">{},</span> <span class="operator">\</span><span class="variable">g1</span>         <span class="variable">Named</span><span class="operator">,</span> <span class="variable">absolute</span> <span class="keyword">or</span> <span class="variable">relative</span> <span class="variable">backreference</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">G</span>                <span class="variable">Pos</span> <span class="variable">assertion</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">h</span>                <span class="variable">Character</span> <span class="variable">class</span> <span class="keyword">for</span> <span class="variable">horizontal</span> <span class="variable">white</span> <span class="variable">space</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">H</span>                <span class="variable">Character</span> <span class="variable">class</span> <span class="keyword">for</span> <span class="variable">non</span> <span class="variable">horizontal</span> <span class="variable">white</span> <span class="variable">space</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">k</span><span class="operator">{},</span> <span class="operator">\</span><span class="variable">k</span><span class="operator">&lt;&gt;,</span> <span class="operator">\</span><span class="variable">k</span><span class="string">''</span>  <span class="variable">Named</span> <span class="variable">backreference</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">K</span>                <span class="variable">Keep</span> <span class="variable">the</span> <span class="variable">stuff</span> <span class="variable">left</span> <span class="variable">of</span> <span class="operator">\</span><span class="variable">K</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">l</span>                <span class="variable">Lowercase</span> <span class="keyword">next</span> <span class="variable">character</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">L</span>                <span class="variable">Lowercase</span> <span class="variable">till</span> <span class="operator">\</span><span class="variable">E</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">n</span>                <span class="operator">(</span><span class="variable">Logical</span><span class="operator">)</span> <span class="variable">newline</span> <span class="variable">character</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">N</span><span class="operator">{}</span>              <span class="variable">Named</span> <span class="operator">(</span><span class="variable">Unicode</span><span class="operator">)</span> <span class="variable">character</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">p</span><span class="operator">{},</span> <span class="operator">\</span><span class="variable">pP</span>         <span class="variable">Character</span> <span class="variable">with</span> <span class="variable">a</span> <span class="variable">Unicode</span> <span class="variable">property</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">P</span><span class="operator">{},</span> <span class="operator">\</span><span class="variable">PP</span>         <span class="variable">Character</span> <span class="variable">without</span> <span class="variable">a</span> <span class="variable">Unicode</span> <span class="variable">property</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">Q</span>                <span class="variable">Quotemeta</span> <span class="variable">till</span> <span class="operator">\</span><span class="variable">E</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">r</span>                <span class="variable">Return</span> <span class="variable">character</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">R</span>                <span class="variable">Generic</span> <span class="variable">new</span> <span class="variable">line</span><span class="operator">.</span>
 <span class="operator">\</span><span class="regex">s                Character class for white space.
 \S                Character class for non white space.
 \t                Tab character.
 \u                Titlecase next character.
 \U                Uppercase till \E.
 \v                Character</span> <span class="variable">class</span> <span class="keyword">for</span> <span class="variable">vertical</span> <span class="variable">white</span> <span class="variable">space</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">V</span>                <span class="variable">Character</span> <span class="variable">class</span> <span class="keyword">for</span> <span class="variable">non</span> <span class="variable">vertical</span> <span class="variable">white</span> <span class="variable">space</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">w</span>                <span class="variable">Character</span> <span class="variable">class</span> <span class="keyword">for</span> <span class="variable">word</span> <span class="variable">characters</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">W</span>                <span class="variable">Character</span> <span class="variable">class</span> <span class="keyword">for</span> <span class="variable">non</span><span class="operator">-</span><span class="variable">word</span> <span class="variable">characters</span><span class="operator">.</span>
 <span class="operator">\x</span><span class="operator">{}</span><span class="operator">,</span> <span class="operator">\</span><span class="variable">x00</span>        <span class="variable">Hexadecimal</span> <span class="variable">escape</span> <span class="variable">sequence</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">X</span>                <span class="variable">Extended</span> <span class="variable">Unicode</span> <span class="string">"combining character sequence"</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">z</span>                <span class="variable">End</span> <span class="variable">of</span> <span class="variable">string</span><span class="operator">.</span>
 <span class="operator">\</span><span class="variable">Z</span>                <span class="variable">End</span> <span class="variable">of</span> <span class="variable">string</span><span class="operator">.</span>
</pre>
<p>
</p>
<h2><a name="character_escapes">Character Escapes</a></h2>
<p>
</p>
<h3><a name="fixed_characters">Fixed characters</a></h3>
<p>A handful of characters have a dedicated <em>character escape</em>. The following
table shows them, along with their code points (in decimal and hex), their
ASCII name, the control escape (see below) and a short description.</p>
<pre>
 Seq.  Code Point  ASCII   Cntr    Description.
       Dec    Hex
  \a     7     07    BEL    \cG    alarm or bell
  \b     8     08     BS    \cH    backspace [1]
  \e    27     1B    ESC    \c[    escape character
  \f    12     0C     FF    \cL    form feed
  \n    10     0A     LF    \cJ    line feed [2]
  \r    13     0D     CR    \cM    carriage return
  \t     9     09    TAB    \cI    tab</pre>
<dl>
<dt><strong><a name="114" class="item">[1]</a></strong>

<dd>
<p><a href="../../lib/pods/perlguts.html#b"><code>\b</code></a> is only the backspace character inside a character class. Outside a
character class, <a href="../../lib/pods/perlguts.html#b"><code>\b</code></a> is a word/non-word boundary.</p>
</dd>
</li>
<dt><strong><a name="210" class="item">[2]</a></strong>

<dd>
<p><a href="../../lib/pods/perlrun.html#n"><code>\n</code></a> matches a logical newline. Perl will convert between <a href="../../lib/pods/perlrun.html#n"><code>\n</code></a> and your
OSses native newline character when reading from or writing to text files.</p>
</dd>
</li>
</dl>
<p>
</p>
<h4><a name="example">Example</a></h4>
<pre>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">/\t/</span><span class="operator">;</span>   <span class="comment"># Matches if $str contains a (horizontal) tab.</span>
</pre>
<p>
</p>
<h3><a name="control_characters">Control characters</a></h3>
<p><a href="../../lib/pods/perlrun.html#c"><code>\c</code></a> is used to denote a control character; the character following <a href="../../lib/pods/perlrun.html#c"><code>\c</code></a>
is the name of the control character. For instance, <code>/\cM/</code> matches the
character <em>control-M</em> (a carriage return, code point 13). The case of the
character following <a href="../../lib/pods/perlrun.html#c"><code>\c</code></a> doesn't matter: <code>\cM</code> and <code>\cm</code> match the same
character.</p>
<p>Mnemonic: <em>c</em>ontrol character.</p>
<p>
</p>
<h4><a name="example">Example</a></h4>
<pre>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">/\cK/</span><span class="operator">;</span>  <span class="comment"># Matches if $str contains a vertical tab (control-K).</span>
</pre>
<p>
</p>
<h3><a name="named_characters">Named characters</a></h3>
<p>All Unicode characters have a Unicode name, and characters in various scripts
have names as well. It is even possible to give your own names to characters.
You can use a character by name by using the <code>\N{}</code> construct; the name of
the character goes between the curly braces. You do have to <code>use charnames</code>
to load the names of the characters, otherwise Perl will complain you use
a name it doesn't know about. For more details, see <a href="../../lib/charnames.html">the charnames manpage</a>.</p>
<p>Mnemonic: <em>N</em>amed character.</p>
<p>
</p>
<h4><a name="example">Example</a></h4>
<pre>
 <span class="keyword">use</span> <span class="variable">charnames</span> <span class="string">':full'</span><span class="operator">;</span>               <span class="comment"># Loads the Unicode names.</span>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">/\N{THAI CHARACTER SO SO}/</span><span class="operator">;</span>  <span class="comment"># Matches the Thai SO SO character</span>
</pre>
<pre>
 <span class="keyword">use</span> <span class="variable">charnames</span> <span class="string">'Cyrillic'</span><span class="operator">;</span>            <span class="comment"># Loads Cyrillic names.</span>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">/\N{ZHE}\N{KA}/</span><span class="operator">;</span>             <span class="comment"># Match "ZHE" followed by "KA".</span>
</pre>
<p>
</p>
<h3><a name="octal_escapes">Octal escapes</a></h3>
<p>Octal escapes consist of a backslash followed by two or three octal digits
matching the code point of the character you want to use. This allows for
512 characters (<code>\00</code> up to <code>\777</code>) that can be expressed this way.
Enough in pre-Unicode days, but most Unicode characters cannot be escaped
this way.</p>
<p>Note that a character that is expressed as an octal escape is considered
as a character without special meaning by the regex engine, and will match
&quot;as is&quot;.</p>
<p>
</p>
<h4><a name="examples">Examples</a></h4>
<pre>
 <span class="variable">$str</span> <span class="operator">=</span> <span class="string">"Perl"</span><span class="operator">;</span>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">/\120/</span><span class="operator">;</span>    <span class="comment"># Match, "\120" is "P".</span>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">/\120+/</span><span class="operator">;</span>   <span class="comment"># Match, "\120" is "P", it is repeated at least once.</span>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">/P\053/</span><span class="operator">;</span>   <span class="comment"># No match, "\053" is "+" and taken literally.</span>
</pre>
<p>
</p>
<h4><a name="caveat">Caveat</a></h4>
<p>Octal escapes potentially clash with backreferences. They both consist
of a backslash followed by numbers. So Perl has to use heuristics to
determine whether it is a backreference or an octal escape. Perl uses
the following rules:</p>
<ol>
<li>
<p>If the backslash is followed by a single digit, it's a backreference.</p>
</li>
<li>
<p>If the first digit following the backslash is a 0, it's an octal escape.</p>
</li>
<li>
<p>If the number following the backslash is N (decimal), and Perl already has
seen N capture groups, Perl will consider this to be a backreference.
Otherwise, it will consider it to be an octal escape. Note that if N &gt; 999,
Perl only takes the first three digits for the octal escape; the rest is
matched as is.</p>
<pre>
 <span class="keyword">my</span> <span class="variable">$pat</span>  <span class="operator">=</span> <span class="string">"("</span> <span class="operator">x</span> <span class="number">999</span><span class="operator">;</span>
    <span class="variable">$pat</span> <span class="operator">.=</span> <span class="string">"a"</span><span class="operator">;</span>
    <span class="variable">$pat</span> <span class="operator">.=</span> <span class="string">")"</span> <span class="operator">x</span> <span class="number">999</span><span class="operator">;</span>
 <span class="regex">/^(</span><span class="variable">$pat</span><span class="regex">)\1000$/</span><span class="operator">;</span>   <span class="comment">#  Matches 'aa'; there are 1000 capture groups.</span>
 <span class="regex">/^</span><span class="variable">$pat</span><span class="regex">\1000$/</span><span class="operator">;</span>     <span class="comment">#  Matches 'a@0'; there are 999 capture groups</span>
                    <span class="comment">#    and \1000 is seen as \100 (a '@') and a '0'.</span>
</pre>
</li>
</ol>
<p>
</p>
<h3><a name="hexadecimal_escapes">Hexadecimal escapes</a></h3>
<p>Hexadecimal escapes start with <a href="../../lib/pods/perlrun.html#x"><code>\x</code></a> and are then either followed by
two digit hexadecimal number, or a hexadecimal number of arbitrary length
surrounded by curly braces. The hexadecimal number is the code point of
the character you want to express.</p>
<p>Note that a character that is expressed as a hexadecimal escape is considered
as a character without special meaning by the regex engine, and will match
&quot;as is&quot;.</p>
<p>Mnemonic: he<em>x</em>adecimal.</p>
<p>
</p>
<h4><a name="examples">Examples</a></h4>
<pre>
 <span class="variable">$str</span> <span class="operator">=</span> <span class="string">"Perl"</span><span class="operator">;</span>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">/\x50/</span><span class="operator">;</span>    <span class="comment"># Match, "\x50" is "P".</span>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">/\x50+/</span><span class="operator">;</span>   <span class="comment"># Match, "\x50" is "P", it is repeated at least once.</span>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">/P\x2B/</span><span class="operator">;</span>   <span class="comment"># No match, "\x2B" is "+" and taken literally.</span>
</pre>
<pre>
 <span class="regex">/\x{2603}\x{2602}/</span> <span class="comment"># Snowman with an umbrella.</span>
                    <span class="comment"># The Unicode character 2603 is a snowman,</span>
                    <span class="comment"># the Unicode character 2602 is an umbrella.</span>
 <span class="operator">/\x</span><span class="operator">{</span><span class="string">263B</span><span class="operator">}</span><span class="operator">/</span>         <span class="comment"># Black smiling face.</span>
 <span class="regex">/\x{263b}/</span>         <span class="comment"># Same, the hex digits A - F are case insensitive.</span>
</pre>
<p>
</p>
<h2><a name="modifiers">Modifiers</a></h2>
<p>A number of backslash sequences have to do with changing the character,
or characters following them. <code>\l</code> will lowercase the character following
it, while <a href="../../lib/pods/perlrun.html#u"><code>\u</code></a> will uppercase (or, more accurately, titlecase) the
character following it. (They perform similar functionality as the
functions <a href="../../lib/pods/perlfunc.html#lcfirst"><code>lcfirst</code></a> and <a href="../../lib/pods/perlfunc.html#ucfirst"><code>ucfirst</code></a>).</p>
<p>To uppercase or lowercase several characters, one might want to use
<code>\L</code> or <a href="../../lib/pods/perlrun.html#u"><code>\U</code></a>, which will lowercase/uppercase all characters following
them, until either the end of the pattern, or the next occurrence of
<a href="../../lib/pods/perlguts.html#e"><code>\E</code></a>, whatever comes first. They perform similar functionality as the
functions <a href="../../lib/pods/perlfunc.html#lc"><code>lc</code></a> and <a href="../../lib/pods/perlfunc.html#uc"><code>uc</code></a> do.</p>
<p><code>\Q</code> is used to escape all characters following, up to the next <a href="../../lib/pods/perlguts.html#e"><code>\E</code></a>
or the end of the pattern. <code>\Q</code> adds a backslash to any character that
isn't a letter, digit or underscore. This will ensure that any character
between <code>\Q</code> and <a href="../../lib/pods/perlguts.html#e"><code>\E</code></a> is matched literally, and will not be interpreted
by the regexp engine.</p>
<p>Mnemonic: <em>L</em>owercase, <em>U</em>ppercase, <em>Q</em>uotemeta, <em>E</em>nd.</p>
<p>
</p>
<h4><a name="examples">Examples</a></h4>
<pre>
 <span class="variable">$sid</span>     <span class="operator">=</span> <span class="string">"sid"</span><span class="operator">;</span>
 <span class="variable">$greg</span>    <span class="operator">=</span> <span class="string">"GrEg"</span><span class="operator">;</span>
 <span class="variable">$miranda</span> <span class="operator">=</span> <span class="string">"(Miranda)"</span><span class="operator">;</span>
 <span class="variable">$str</span>     <span class="operator">=~</span> <span class="regex">/\u</span><span class="variable">$sid</span><span class="regex">/</span><span class="operator">;</span>        <span class="comment"># Matches 'Sid'</span>
 <span class="variable">$str</span>     <span class="operator">=~</span> <span class="regex">/\L</span><span class="variable">$greg</span><span class="regex">/</span><span class="operator">;</span>       <span class="comment"># Matches 'greg'</span>
 <span class="variable">$str</span>     <span class="operator">=~</span> <span class="regex">/\Q</span><span class="variable">$miranda</span><span class="regex">\E/</span><span class="operator">;</span>  <span class="comment"># Matches '(Miranda)', as if the pattern</span>
                              <span class="comment">#   had been written as /\(Miranda\)/</span>
</pre>
<p>
</p>
<h2><a name="character_classes">Character classes</a></h2>
<p>Perl regular expressions have a large range of character classes. Some of
the character classes are written as a backslash sequence. We will briefly
discuss those here; full details of character classes can be found in
<a href="../../lib/pods/perlrecharclass.html">the perlrecharclass manpage</a>.</p>
<p><a href="../../lib/pods/perlrun.html#w"><code>\w</code></a> is a character class that matches any <em>word</em> character (letters,
digits, underscore). <a href="../../lib/pods/perlrun.html#d"><code>\d</code></a> is a character class that matches any digit,
while the character class <a href="../../lib/pods/perlrun.html#s"><code>\s</code></a> matches any white space character.
New in perl 5.10.0 are the classes <a href="../../lib/pods/perlrun.html#h"><code>\h</code></a> and <a href="../../lib/pods/perlrun.html#v"><code>\v</code></a> which match horizontal
and vertical white space characters.</p>
<p>The uppercase variants (<a href="../../lib/pods/perlrun.html#w"><code>\W</code></a>, <code>\D</code>, <a href="../../lib/pods/perlrun.html#s"><code>\S</code></a>, <code>\H</code>, and <a href="../../lib/pods/perlrun.html#v"><code>\V</code></a>) are
character classes that match any character that isn't a word character,
digit, white space, horizontal white space or vertical white space.</p>
<p>Mnemonics: <em>w</em>ord, <em>d</em>igit, <em>s</em>pace, <em>h</em>orizontal, <em>v</em>ertical.</p>
<p>
</p>
<h3><a name="unicode_classes">Unicode classes</a></h3>
<p><code>\pP</code> (where <a href="../../lib/pods/perlrun.html#p"><code>P</code></a> is a single letter) and <code>\p{Property}</code> are used to
match a character that matches the given Unicode property; properties
include things like &quot;letter&quot;, or &quot;thai character&quot;. Capitalizing the
sequence to <code>\PP</code> and <code>\P{Property}</code> make the sequence match a character
that doesn't match the given Unicode property. For more details, see
<a href="../../lib/pods/perlrecharclass.html#backslashed_sequences">Backslashed sequences in the perlrecharclass manpage</a> and
<a href="../../lib/pods/perlunicode.html#unicode_character_properties">Unicode Character Properties in the perlunicode manpage</a>.</p>
<p>Mnemonic: <em>p</em>roperty.</p>
<p>
</p>
<h2><a name="referencing">Referencing</a></h2>
<p>If capturing parenthesis are used in a regular expression, we can refer
to the part of the source string that was matched, and match exactly the
same thing. There are three ways of referring to such <em>backreference</em>:
absolutely, relatively, and by name.</p>
<p>
</p>
<h3><a name="absolute_referencing">Absolute referencing</a></h3>
<p>A backslash sequence that starts with a backslash and is followed by a
number is an absolute reference (but be aware of the caveat mentioned above).
If the number is <em>N</em>, it refers to the Nth set of parenthesis - whatever
has been matched by that set of parenthesis has to be matched by the <code>\N</code>
as well.</p>
<p>
</p>
<h4><a name="examples">Examples</a></h4>
<pre>
 <span class="regex">/(\w+) \1/</span><span class="operator">;</span>    <span class="comment"># Finds a duplicated word, (e.g. "cat cat").</span>
 <span class="regex">/(.)(.)\2\1/</span><span class="operator">;</span>  <span class="comment"># Match a four letter palindrome (e.g. "ABBA").</span>
</pre>
<p>
</p>
<h3><a name="relative_referencing">Relative referencing</a></h3>
<p>New in perl 5.10.0 is a different way of referring to capture buffers: <code>\g</code>.
<code>\g</code> takes a number as argument, with the number in curly braces (the
braces are optional). If the number (N) does not have a sign, it's a reference
to the Nth capture group (so <code>\g{2}</code> is equivalent to <a href="#2"><code>\2</code></a> - except that
<code>\g</code> always refers to a capture group and will never be seen as an octal
escape). If the number is negative, the reference is relative, referring to
the Nth group before the <code>\g{-N}</code>.</p>
<p>The big advantage of <code>\g{-N}</code> is that it makes it much easier to write
patterns with references that can be interpolated in larger patterns,
even if the larger pattern also contains capture groups.</p>
<p>Mnemonic: <em>g</em>roup.</p>
<p>
</p>
<h4><a name="examples">Examples</a></h4>
<pre>
 <span class="regex">/(A)        # Buffer 1
  (          # Buffer 2
    (B)      # Buffer 3
    \g{-1}   # Refers to buffer 3 (B)
    \g{-3}   # Refers to buffer 1 (A)
  )
 /x</span><span class="operator">;</span>         <span class="comment"># Matches "ABBA".</span>
</pre>
<pre>
 <span class="keyword">my</span> <span class="variable">$qr</span> <span class="operator">=</span> <span class="string">qr /(.)(.)\g{-2}\g{-1}/</span><span class="operator">;</span>  <span class="comment"># Matches 'abab', 'cdcd', etc.</span>
 <span class="regex">/</span><span class="variable">$qr$qr</span><span class="regex">/</span>                           <span class="comment"># Matches 'ababcdcd'.</span>
</pre>
<p>
</p>
<h3><a name="named_referencing">Named referencing</a></h3>
<p>Also new in perl 5.10.0 is the use of named capture buffers, which can be
referred to by name. This is done with <code>\g{name}</code>, which is a
backreference to the capture buffer with the name <em>name</em>.</p>
<p>To be compatible with .Net regular expressions, <code>\g{name}</code> may also be
written as <code>\k{name}</code>, <code>\k&lt;name&gt;</code> or <code>\k'name'</code>.</p>
<p>Note that <code>\g{}</code> has the potential to be ambiguous, as it could be a named
reference, or an absolute or relative reference (if its argument is numeric).
However, names are not allowed to start with digits, nor are allowed to
contain a hyphen, so there is no ambiguity.</p>
<p>
</p>
<h4><a name="examples">Examples</a></h4>
<pre>
 /(?&lt;word&gt;\w+) \g{word}/ # Finds duplicated word, (e.g. &quot;cat cat&quot;)
 /(?&lt;word&gt;\w+) \k{word}/ # Same.
 /(?&lt;word&gt;\w+) \k&lt;word&gt;/ # Same.
 /(?&lt;letter1&gt;.)(?&lt;letter2&gt;.)\g{letter2}\g{letter1}/
                         # Match a four letter palindrome (e.g. &quot;ABBA&quot;)</pre>
<p>
</p>
<h2><a name="assertions">Assertions</a></h2>
<p>Assertions are conditions that have to be true -- they don't actually
match parts of the substring. There are six assertions that are written as
backslash sequences.</p>
<dl>
<dt><strong><a name="a6" class="item">\A</a></strong>

<dd>
<p><a href="#a"><code>\A</code></a> only matches at the beginning of the string. If the <a href="../../lib/pods/perlguts.html#m"><code>/m</code></a> modifier
isn't used, then <a href="#a"><code>/\A/</code></a> is equivalent with <code>/^/</code>. However, if the <a href="../../lib/pods/perlguts.html#m"><code>/m</code></a>
modifier is used, then <code>/^/</code> matches internal newlines, but the meaning
of <a href="#a"><code>/\A/</code></a> isn't changed by the <a href="../../lib/pods/perlguts.html#m"><code>/m</code></a> modifier. <a href="#a"><code>\A</code></a> matches at the beginning
of the string regardless whether the <a href="../../lib/pods/perlguts.html#m"><code>/m</code></a> modifier is used.</p>
</dd>
</li>
<dt><strong><a name="z_z" class="item">\z, \Z</a></strong>

<dd>
<p><code>\z</code> and <code>\Z</code> match at the end of the string. If the <a href="../../lib/pods/perlguts.html#m"><code>/m</code></a> modifier isn't
used, then <code>/\Z/</code> is equivalent with <code>/$/</code>, that is, it matches at the
end of the string, or before the newline at the end of the string. If the
<a href="../../lib/pods/perlguts.html#m"><code>/m</code></a> modifier is used, then <code>/$/</code> matches at internal newlines, but the
meaning of <code>/\Z/</code> isn't changed by the <a href="../../lib/pods/perlguts.html#m"><code>/m</code></a> modifier. <code>\Z</code> matches at
the end of the string (or just before a trailing newline) regardless whether
the <a href="../../lib/pods/perlguts.html#m"><code>/m</code></a> modifier is used.</p>
</dd>
<dd>
<p><code>\z</code> is just like <code>\Z</code>, except that it will not match before a trailing
newline. <code>\z</code> will only match at the end of the string - regardless of the
modifiers used, and not before a newline.</p>
</dd>
</li>
<dt><strong><a name="g" class="item">\G</a></strong>

<dd>
<p><a href="#g"><code>\G</code></a> is usually only used in combination with the <code>/g</code> modifier. If the
<code>/g</code> modifier is used (and the match is done in scalar context), Perl will
remember where in the source string the last match ended, and the next time,
it will start the match from where it ended the previous time.</p>
</dd>
<dd>
<p><a href="#g"><code>\G</code></a> matches the point where the previous match ended, or the beginning
of the string if there was no previous match.</p>
</dd>
<p>Mnemonic: <em>G</em>lobal.</p>
</li>
<dt><strong><a name="b_b" class="item">\b, \B</a></strong>

<dd>
<p><a href="../../lib/pods/perlguts.html#b"><code>\b</code></a> matches at any place between a word and a non-word character; <code>\B</code>
matches at any place between characters where <a href="../../lib/pods/perlguts.html#b"><code>\b</code></a> doesn't match. <a href="../../lib/pods/perlguts.html#b"><code>\b</code></a>
and <code>\B</code> assume there's a non-word character before the beginning and after
the end of the source string; so <a href="../../lib/pods/perlguts.html#b"><code>\b</code></a> will match at the beginning (or end)
of the source string if the source string begins (or ends) with a word
character. Otherwise, <code>\B</code> will match.</p>
</dd>
<dd>
<p>Mnemonic: <em>b</em>oundary.</p>
</dd>
</li>
</dl>
<p>
</p>
<h4><a name="examples">Examples</a></h4>
<pre>
  <span class="string">"cat"</span>   <span class="operator">=~</span> <span class="regex">/\Acat/</span><span class="operator">;</span>     <span class="comment"># Match.</span>
  <span class="string">"cat"</span>   <span class="operator">=~</span> <span class="regex">/cat\Z/</span><span class="operator">;</span>     <span class="comment"># Match.</span>
  <span class="string">"cat\n"</span> <span class="operator">=~</span> <span class="regex">/cat\Z/</span><span class="operator">;</span>     <span class="comment"># Match.</span>
  <span class="string">"cat\n"</span> <span class="operator">=~</span> <span class="regex">/cat\z/</span><span class="operator">;</span>     <span class="comment"># No match.</span>
</pre>
<pre>
  <span class="string">"cat"</span>   <span class="operator">=~</span> <span class="regex">/\bcat\b/</span><span class="operator">;</span>   <span class="comment"># Matches.</span>
  <span class="string">"cats"</span>  <span class="operator">=~</span> <span class="regex">/\bcat\b/</span><span class="operator">;</span>   <span class="comment"># No match.</span>
  <span class="string">"cat"</span>   <span class="operator">=~</span> <span class="regex">/\bcat\B/</span><span class="operator">;</span>   <span class="comment"># No match.</span>
  <span class="string">"cats"</span>  <span class="operator">=~</span> <span class="regex">/\bcat\B/</span><span class="operator">;</span>   <span class="comment"># Match.</span>
</pre>
<pre>
  <span class="keyword">while</span> <span class="operator">(</span><span class="string">"cat dog"</span> <span class="operator">=~</span> <span class="regex">/(\w+)/g</span><span class="operator">)</span> <span class="operator">{</span>
      <span class="keyword">print</span> <span class="variable">$1</span><span class="operator">;</span>           <span class="comment"># Prints 'catdog'</span>
  <span class="operator">}</span>
  <span class="keyword">while</span> <span class="operator">(</span><span class="string">"cat dog"</span> <span class="operator">=~</span> <span class="regex">/\G(\w+)/g</span><span class="operator">)</span> <span class="operator">{</span>
      <span class="keyword">print</span> <span class="variable">$1</span><span class="operator">;</span>           <span class="comment"># Prints 'cat'</span>
  <span class="operator">}</span>
</pre>
<p>
</p>
<h2><a name="misc">Misc</a></h2>
<p>Here we document the backslash sequences that don't fall in one of the
categories above. They are:</p>
<dl>
<dt><strong><a name="c8" class="item">\C</a></strong>

<dd>
<p><a href="#c"><code>\C</code></a> always matches a single octet, even if the source string is encoded
in UTF-8 format, and the character to be matched is a multi-octet character.
<a href="#c"><code>\C</code></a> was introduced in perl 5.6.</p>
</dd>
<dd>
<p>Mnemonic: o<em>C</em>tet.</p>
</dd>
</li>
<dt><strong><a name="k" class="item">\K</a></strong>

<dd>
<p>This is new in perl 5.10.0. Anything that is matched left of <a href="#k"><code>\K</code></a> is
not included in <a href="../../lib/pods/perlvar.html#__"><code>$&amp;</code></a> - and will not be replaced if the pattern is
used in a substitution. This will allow you to write <a href="../../lib/pods/perlfunc.html#s_"><code>s/PAT1 \K PAT2/REPL/x</code></a>
instead of <a href="../../lib/pods/perlfunc.html#s_"><code>s/(PAT1) PAT2/${1}REPL/x</code></a> or <a href="../../lib/pods/perlfunc.html#s_"><code>s/(?&lt;=PAT1) PAT2/REPL/x</code></a>.</p>
</dd>
<dd>
<p>Mnemonic: <em>K</em>eep.</p>
</dd>
</li>
<dt><strong><a name="r4" class="item">\R</a></strong>

<dd>
<p><a href="#r"><code>\R</code></a> matches a <em>generic newline</em>, that is, anything that is considered
a newline by Unicode. This includes all characters matched by <a href="../../lib/pods/perlrun.html#v"><code>\v</code></a>
(vertical white space), and the multi character sequence <code>&quot;\x0D\x0A&quot;</code>
(carriage return followed by a line feed, aka the network newline, or
the newline used in Windows text files). <a href="#r"><code>\R</code></a> is equivalent with
<code>(?&gt;\x0D\x0A)|\v)</code>. Since <a href="#r"><code>\R</code></a> can match a more than one character,
it cannot be put inside a bracketed character class; <a href="#r"><code>/[\R]/</code></a> is an error.
<a href="#r"><code>\R</code></a> was introduced in perl 5.10.0.</p>
</dd>
<dd>
<p>Mnemonic: none really. <a href="#r"><code>\R</code></a> was picked because PCRE already uses <a href="#r"><code>\R</code></a>,
and more importantly because Unicode recommends such a regular expression
metacharacter, and suggests <a href="#r"><code>\R</code></a> as the notation.</p>
</dd>
</li>
<dt><strong><a name="x6" class="item">\X</a></strong>

<dd>
<p>This matches an extended Unicode <em>combining character sequence</em>, and
is equivalent to <code>(?&gt;\PM\pM*)</code>. <code>\PM</code> matches any character that is
not considered a Unicode mark character, while <code>\pM</code> matches any character
that is considered a Unicode mark character; so <a href="#x"><code>\X</code></a> matches any non
mark character followed by zero or more mark characters. Mark characters
include (but are not restricted to) <em>combining characters</em> and
<em>vowel signs</em>.</p>
</dd>
<dd>
<p><a href="#x"><code>\X</code></a> matches quite well what normal (non-Unicode-programmer) usage
would consider a single character: for example a base character
(the <code>\PM</code> above), for example a letter, followed by zero or more
diacritics, which are <em>combining characters</em> (the <code>\pM*</code> above).</p>
</dd>
<dd>
<p>Mnemonic: e<em>X</em>tended Unicode character.</p>
</dd>
</li>
</dl>
<p>
</p>
<h4><a name="examples">Examples</a></h4>
<pre>
 <span class="string">"\x{256}"</span> <span class="operator">=~</span> <span class="regex">/^\C\C$/</span><span class="operator">;</span>    <span class="comment"># Match as chr (256) takes 2 octets in UTF-8.</span>
</pre>
<pre>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">s/foo\Kbar/baz/g</span><span class="operator">;</span> <span class="comment"># Change any 'bar' following a 'foo' to 'baz'.</span>
 <span class="variable">$str</span> <span class="operator">=~</span> <span class="regex">s/(.)\K\1//g</span><span class="operator">;</span>     <span class="comment"># Delete duplicated characters.</span>
</pre>
<pre>
 <span class="string">"\n"</span>   <span class="operator">=~</span> <span class="regex">/^\R$/</span><span class="operator">;</span>         <span class="comment"># Match, \n   is a generic newline.</span>
 <span class="string">"\r"</span>   <span class="operator">=~</span> <span class="regex">/^\R$/</span><span class="operator">;</span>         <span class="comment"># Match, \r   is a generic newline.</span>
 <span class="string">"\r\n"</span> <span class="operator">=~</span> <span class="regex">/^\R$/</span><span class="operator">;</span>         <span class="comment"># Match, \r\n is a generic newline.</span>
</pre>
<pre>
 <span class="string">"P\x{0307}"</span> <span class="operator">=~</span> <span class="regex">/^\X$/</span>     <span class="comment"># \X matches a P with a dot above.</span>
</pre>

</body>

</html>

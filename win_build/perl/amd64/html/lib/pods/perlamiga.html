<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../displayToc.js"></script>
<script language="JavaScript" src="../../tocParas.js"></script>
<script language="JavaScript" src="../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../scineplex.css">
<title>perlamiga - Perl under Amiga OS</title>
<link rel="stylesheet" href="../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>


<!-- INDEX BEGIN -->
<div name="index">
<script>writelinks('__top__',2);</script>
<h1><a>perlamiga - Perl under Amiga OS</a></h1>
<p><a name="__index__"></a></p>


<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#note">NOTE</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<ul>

		<li><a href="#prerequisites_for_compiling_perl_on_amigaos">Prerequisites for Compiling Perl on AmigaOS</a></li>
		<li><a href="#starting_perl_programs_under_amigaos">Starting Perl programs under AmigaOS</a></li>
		<li><a href="#shortcomings_of_perl_under_amigaos">Shortcomings of Perl under AmigaOS</a></li>
	</ul>

	<li><a href="#installation">INSTALLATION</a></li>
	<li><a href="#accessing_documentation">Accessing documentation</a></li>
	<ul>

		<li><a href="#manpages_for_perl_on_amigaos">Manpages for Perl on AmigaOS</a></li>
		<li><a href="#perl_html_documentation_on_amigaos">Perl HTML Documentation on AmigaOS</a></li>
		<li><a href="#perl_gnu_info_files_on_amigaos">Perl GNU Info Files on AmigaOS</a></li>
		<li><a href="#perl_latex_documentation_on_amigaos">Perl LaTeX Documentation on AmigaOS</a></li>
	</ul>

	<li><a href="#building_perl_on_amigaos">BUILDING PERL ON AMIGAOS</a></li>
	<ul>

		<li><a href="#build_prerequisites_for_perl_on_amigaos">Build Prerequisites for Perl on AmigaOS</a></li>
		<li><a href="#getting_the_perl_source_for_amigaos">Getting the Perl Source for AmigaOS</a></li>
		<li><a href="#making_perl_on_amigaos">Making Perl on AmigaOS</a></li>
		<li><a href="#testing_perl_on_amigaos">Testing Perl on AmigaOS</a></li>
		<li><a href="#installing_the_built_perl_on_amigaos">Installing the built Perl on AmigaOS</a></li>
	</ul>

	<li><a href="#perl_5_8_0_broken_in_amigaos">PERL 5.8.0 BROKEN IN AMIGAOS</a></li>
	<li><a href="#authors">AUTHORS</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>perlamiga - Perl under Amiga OS</p>
<p>
</p>
<hr />
<h1><a name="note">NOTE</a></h1>
<p><strong>Perl 5.8.0 cannot be built in AmigaOS.  You can use either the
maintenance release Perl 5.6.1 or the development release Perl 5.7.2
in AmigaOS.  See <a href="#perl_5_8_0_broken_in_amigaos">PERL 5.8.0 BROKEN IN AMIGAOS</a> if you want to help
fixing this problem.</strong></p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p>One can read this document in the following formats:</p>
<pre>
        man <a href="../../lib/pods/perlamiga.html">perlamiga</a>
        multiview <a href="../../lib/pods/perlamiga.html">perlamiga</a>.guide</pre>
<p>to list some (not all may be available simultaneously), or it may
be read <em>as is</em>: either as <em class="file">README.amiga</em>, or <em class="file">pod/perlamiga.pod</em>.</p>
<p>A recent version of perl for the Amiga can be found at the Geek Gadgets
section of the Aminet:</p>
<pre>
      <a href="http://www.aminet.net/~aminet/dev/gg">http://www.aminet.net/~aminet/dev/gg</a></pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>
</p>
<h2><a name="prerequisites_for_compiling_perl_on_amigaos">Prerequisites for Compiling Perl on AmigaOS</a></h2>
<dl>
<dt><strong><a name="unix_emulation_for_amigaos_ixemul_library" class="item"><strong>Unix emulation for AmigaOS: ixemul.library</strong></a></strong>

<dd>
<p>You need the Unix emulation for AmigaOS, whose most important part is
<strong>ixemul.library</strong>. For a minimum setup, get the latest versions
of the following packages from the Aminet archives
( <a href="http://www.aminet.net/~aminet/">http://www.aminet.net/~aminet/</a> ):</p>
</dd>
<dd>
<pre>
        ixemul-bin
        ixemul-env-bin
        pdksh-bin</pre>
</dd>
<dd>
<p>Note also that this is a minimum setup; you might want to add other
packages of <strong>ADE</strong> (the <em>Amiga Developers Environment</em>).</p>
</dd>
</li>
<dt><strong><a name="version_of_amiga_os" class="item"><strong>Version of Amiga OS</strong></a></strong>

<dd>
<p>You need at the very least AmigaOS version 2.0. Recommended is version 3.1.</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="starting_perl_programs_under_amigaos">Starting Perl programs under AmigaOS</a></h2>
<p>Start your Perl program <em class="file">foo</em> with arguments <code>arg1 arg2 arg3</code> the
same way as on any other platform, by</p>
<pre>
        perl foo arg1 arg2 arg3</pre>
<p>If you want to specify perl options <code>-my_opts</code> to the perl itself (as
opposed to your program), use</p>
<pre>
        perl -my_opts foo arg1 arg2 arg3</pre>
<p>Alternately, you can try to get a replacement for the system's <strong>Execute</strong>
command that honors the #!/usr/bin/perl syntax in scripts and set the s-Bit
of your scripts. Then you can invoke your scripts like under UNIX with</p>
<pre>
        foo arg1 arg2 arg3</pre>
<p>(Note that having *nixish full path to perl <em class="file">/usr/bin/perl</em> is not
necessary, <em class="file">perl</em> would be enough, but having full path would make it
easier to use your script under *nix.)</p>
<p>
</p>
<h2><a name="shortcomings_of_perl_under_amigaos">Shortcomings of Perl under AmigaOS</a></h2>
<p>Perl under AmigaOS lacks some features of perl under UNIX because of
deficiencies in the UNIX-emulation, most notably:</p>
<ul>
<li>
<p><a href="../../lib/pods/perlfunc.html#fork"><code>fork()</code></a></p>
</li>
<li>
<p>some features of the UNIX filesystem regarding link count and file dates</p>
</li>
<li>
<p>inplace operation (the -i switch) without backup file</p>
</li>
<li>
<p><a href="../../lib/pods/perlfunc.html#umask"><code>umask()</code></a> works, but the correct permissions are only set when the file is
finally close()d</p>
</li>
</ul>
<p>
</p>
<hr />
<h1><a name="installation">INSTALLATION</a></h1>
<p>Change to the installation directory (most probably ADE:), and
extract the binary distribution:</p>
<p>lha -mraxe x perl-$VERSION-bin.lha</p>
<p>or</p>
<p>tar xvzpf perl-$VERSION-bin.tgz</p>
<p>(Of course you need lha or tar and gunzip for this.)</p>
<p>For installation of the Unix emulation, read the appropriate docs.</p>
<p>
</p>
<hr />
<h1><a name="accessing_documentation">Accessing documentation</a></h1>
<p>
</p>
<h2><a name="manpages_for_perl_on_amigaos">Manpages for Perl on AmigaOS</a></h2>
<p>If you have <code>man</code> installed on your system, and you installed perl
manpages, use something like this:</p>
<pre>
        man <a href="../../lib/pods/perlfunc.html">perlfunc</a>
        man less
        man ExtUtils.MakeMaker</pre>
<p>to access documentation for different components of Perl. Start with</p>
<pre>
        man perl</pre>
<p>Note: You have to modify your man.conf file to search for manpages
in the /ade/lib/perl5/man/man3 directory, or the man pages for the
perl library will not be found.</p>
<p>Note that dot (<em class="file">.</em>) is used as a package separator for documentation
for packages, and as usual, sometimes you need to give the section - <code>3</code>
above - to avoid shadowing by the <em>less(1) manpage</em>.</p>
<p>
</p>
<h2><a name="perl_html_documentation_on_amigaos">Perl HTML Documentation on AmigaOS</a></h2>
<p>If you have some WWW browser available, you can build <strong>HTML</strong> docs.
Cd to directory with <em class="file">.pod</em> files, and do like this</p>
<pre>
        cd /ade/lib/perl5/pod
        pod2html</pre>
<p>After this you can direct your browser the file <em class="file">perl.html</em> in this
directory, and go ahead with reading docs.</p>
<p>Alternatively you may be able to get these docs prebuilt from <code>CPAN</code>.</p>
<p>
</p>
<h2><a name="perl_gnu_info_files_on_amigaos">Perl GNU Info Files on AmigaOS</a></h2>
<p>Users of <code>Emacs</code> would appreciate it very much, especially with
<code>CPerl</code> mode loaded. You need to get latest <code>pod2info</code> from <code>CPAN</code>,
or, alternately, prebuilt info pages.</p>
<p>
</p>
<h2><a name="perl_latex_documentation_on_amigaos">Perl LaTeX Documentation on AmigaOS</a></h2>
<p>Can be constructed using <code>pod2latex</code>.</p>
<p>
</p>
<hr />
<h1><a name="building_perl_on_amigaos">BUILDING PERL ON AMIGAOS</a></h1>
<p>Here we discuss how to build Perl under AmigaOS.</p>
<p>
</p>
<h2><a name="build_prerequisites_for_perl_on_amigaos">Build Prerequisites for Perl on AmigaOS</a></h2>
<p>You need to have the latest <strong>ixemul</strong> (Unix emulation for Amiga)
from Aminet.</p>
<p>
</p>
<h2><a name="getting_the_perl_source_for_amigaos">Getting the Perl Source for AmigaOS</a></h2>
<p>You can either get the latest perl-for-amiga source from Ninemoons
and extract it with:</p>
<pre>
  tar xvzpf perl-$VERSION-src.tgz</pre>
<p>or get the official source from CPAN:</p>
<pre>
  <a href="http://www.cpan.org/src/5.0">http://www.cpan.org/src/5.0</a></pre>
<p>Extract it like this</p>
<pre>
  tar xvzpf perl-$VERSION.tar.gz</pre>
<p>You will see a message about errors while extracting <em class="file">Configure</em>. This
is normal and expected. (There is a conflict with a similarly-named file
<em class="file">configure</em>, but it causes no harm.)</p>
<p>
</p>
<h2><a name="making_perl_on_amigaos">Making Perl on AmigaOS</a></h2>
<p>Remember to use a hefty wad of stack (I use 2000000)</p>
<pre>
  sh configure.gnu --prefix=/gg</pre>
<p>Now type</p>
<pre>
  make depend</pre>
<p>Now!</p>
<pre>
  make</pre>
<p>
</p>
<h2><a name="testing_perl_on_amigaos">Testing Perl on AmigaOS</a></h2>
<p>Now run</p>
<pre>
  make test</pre>
<p>Some tests will be skipped because they need the <a href="../../lib/pods/perlfunc.html#fork"><code>fork()</code></a> function:</p>
<p><em class="file">io/pipe.t</em>, <em class="file">op/fork.t</em>, <em class="file">lib/filehand.t</em>, <em class="file">lib/open2.t</em>, <em class="file">lib/open3.t</em>, 
<em class="file">lib/io_pipe.t</em>, <em class="file">lib/io_sock.t</em></p>
<p>
</p>
<h2><a name="installing_the_built_perl_on_amigaos">Installing the built Perl on AmigaOS</a></h2>
<p>Run</p>
<pre>
  make install</pre>
<p>
</p>
<hr />
<h1><a name="perl_5_8_0_broken_in_amigaos">PERL 5.8.0 BROKEN IN AMIGAOS</a></h1>
<p>As told above, Perl 5.6.1 was still good in AmigaOS, as was 5.7.2.
After Perl 5.7.2 (change #11423, see the Changes file, and the file
pod/perlhack.pod for how to get the individual changes) Perl dropped
its internal support for <code>vfork()</code>, and that was very probably the step
that broke AmigaOS (since the ixemul library has only vfork).  
The build finally fails when the ext/DynaLoader is being built, and
PERL ends up as &quot;0&quot; in the produced Makefile, trying to run &quot;0&quot; does
not quite work.  Also, executing miniperl in backticks seems to
generate nothing: very probably related to the (v)fork problems.
<strong>Fixing the breakage requires someone quite familiar with the ixemul
library, and how one is supposed to run external commands in AmigaOS
without fork().</strong></p>
<p>
</p>
<hr />
<h1><a name="authors">AUTHORS</a></h1>
<p>Norbert Pueschel, <a href="mailto:pueschel@imsdd.meb.uni-bonn.de">pueschel@imsdd.meb.uni-bonn.de</a>
Jan-Erik Karlsson, <a href="mailto:trg@privat.utfors.se">trg@privat.utfors.se</a></p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><code>perl(1)</code>.</p>

</body>

</html>
